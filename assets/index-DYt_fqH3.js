function PA(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function NA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zy={exports:{}},wf={},ex={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),OA=Symbol.for("react.portal"),DA=Symbol.for("react.fragment"),FA=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),MA=Symbol.for("react.provider"),bA=Symbol.for("react.context"),VA=Symbol.for("react.forward_ref"),BA=Symbol.for("react.suspense"),UA=Symbol.for("react.memo"),jA=Symbol.for("react.lazy"),P1=Symbol.iterator;function zA(t){return t===null||typeof t!="object"?null:(t=P1&&t[P1]||t["@@iterator"],typeof t=="function"?t:null)}var tx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rx=Object.assign,nx={};function Do(t,e,r){this.props=t,this.context=e,this.refs=nx,this.updater=r||tx}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ix(){}ix.prototype=Do.prototype;function Up(t,e,r){this.props=t,this.context=e,this.refs=nx,this.updater=r||tx}var jp=Up.prototype=new ix;jp.constructor=Up;rx(jp,Do.prototype);jp.isPureReactComponent=!0;var N1=Array.isArray,sx=Object.prototype.hasOwnProperty,zp={current:null},ax={key:!0,ref:!0,__self:!0,__source:!0};function ox(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)sx.call(e,n)&&!ax.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Nu,type:t,key:s,ref:a,props:i,_owner:zp.current}}function WA(t,e){return{$$typeof:Nu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Nu}function HA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var O1=/\/+/g;function T0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HA(""+t.key):e.toString(36)}function Yc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Nu:case OA:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+T0(a,0):n,N1(i)?(r="",t!=null&&(r=t.replace(O1,"$&/")+"/"),Yc(i,e,r,"",function(c){return c})):i!=null&&(Wp(i)&&(i=WA(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(O1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",N1(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+T0(s,o);a+=Yc(s,e,r,l,i)}else if(l=zA(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+T0(s,o++),a+=Yc(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function xc(t,e,r){if(t==null)return t;var n=[],i=0;return Yc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ir={current:null},Jc={transition:null},GA={ReactCurrentDispatcher:Ir,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:zp};function lx(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:xc,forEach:function(t,e,r){xc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return xc(t,function(){e++}),e},toArray:function(t){return xc(t,function(e){return e})||[]},only:function(t){if(!Wp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Do;be.Fragment=DA;be.Profiler=LA;be.PureComponent=Up;be.StrictMode=FA;be.Suspense=BA;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GA;be.act=lx;be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=rx({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=zp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)sx.call(e,l)&&!ax.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Nu,type:t.type,key:i,ref:s,props:n,_owner:a}};be.createContext=function(t){return t={$$typeof:bA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MA,_context:t},t.Consumer=t};be.createElement=ox;be.createFactory=function(t){var e=ox.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:VA,render:t}};be.isValidElement=Wp;be.lazy=function(t){return{$$typeof:jA,_payload:{_status:-1,_result:t},_init:$A}};be.memo=function(t,e){return{$$typeof:UA,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Jc.transition;Jc.transition={};try{t()}finally{Jc.transition=e}};be.unstable_act=lx;be.useCallback=function(t,e){return Ir.current.useCallback(t,e)};be.useContext=function(t){return Ir.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return Ir.current.useDeferredValue(t)};be.useEffect=function(t,e){return Ir.current.useEffect(t,e)};be.useId=function(){return Ir.current.useId()};be.useImperativeHandle=function(t,e,r){return Ir.current.useImperativeHandle(t,e,r)};be.useInsertionEffect=function(t,e){return Ir.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return Ir.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return Ir.current.useMemo(t,e)};be.useReducer=function(t,e,r){return Ir.current.useReducer(t,e,r)};be.useRef=function(t){return Ir.current.useRef(t)};be.useState=function(t){return Ir.current.useState(t)};be.useSyncExternalStore=function(t,e,r){return Ir.current.useSyncExternalStore(t,e,r)};be.useTransition=function(){return Ir.current.useTransition()};be.version="18.3.1";ex.exports=be;var J=ex.exports;const KA=NA(J),qA=PA({__proto__:null,default:KA},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=J,QA=Symbol.for("react.element"),YA=Symbol.for("react.fragment"),JA=Object.prototype.hasOwnProperty,ZA=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eI={key:!0,ref:!0,__self:!0,__source:!0};function ux(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)JA.call(e,n)&&!eI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:QA,type:t,key:s,ref:a,props:i,_owner:ZA.current}}wf.Fragment=YA;wf.jsx=ux;wf.jsxs=ux;Zy.exports=wf;var k=Zy.exports,cx={exports:{}},tn={},hx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ce,xe){var Se=ce.length;ce.push(xe);e:for(;0<Se;){var Le=Se-1>>>1,B=ce[Le];if(0<i(B,xe))ce[Le]=xe,ce[Se]=B,Se=Le;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var xe=ce[0],Se=ce.pop();if(Se!==xe){ce[0]=Se;e:for(var Le=0,B=ce.length,H=B>>>1;Le<H;){var j=2*(Le+1)-1,U=ce[j],te=j+1,ge=ce[te];if(0>i(U,Se))te<B&&0>i(ge,U)?(ce[Le]=ge,ce[te]=Se,Le=te):(ce[Le]=U,ce[j]=Se,Le=j);else if(te<B&&0>i(ge,Se))ce[Le]=ge,ce[te]=Se,Le=te;else break e}}return xe}function i(ce,xe){var Se=ce.sortIndex-xe.sortIndex;return Se!==0?Se:ce.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,m=!1,_=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(ce){for(var xe=r(c);xe!==null;){if(xe.callback===null)n(c);else if(xe.startTime<=ce)n(c),xe.sortIndex=xe.expirationTime,e(l,xe);else break;xe=r(c)}}function M(ce){if(v=!1,E(ce),!_)if(r(l)!==null)_=!0,mt(z);else{var xe=r(c);xe!==null&&Ke(M,xe.startTime-ce)}}function z(ce,xe){_=!1,v&&(v=!1,w(S),S=-1),m=!0;var Se=d;try{for(E(xe),f=r(l);f!==null&&(!(f.expirationTime>xe)||ce&&!D());){var Le=f.callback;if(typeof Le=="function"){f.callback=null,d=f.priorityLevel;var B=Le(f.expirationTime<=xe);xe=t.unstable_now(),typeof B=="function"?f.callback=B:f===r(l)&&n(l),E(xe)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var j=r(c);j!==null&&Ke(M,j.startTime-xe),H=!1}return H}finally{f=null,d=Se,m=!1}}var q=!1,T=null,S=-1,A=5,C=-1;function D(){return!(t.unstable_now()-C<A)}function V(){if(T!==null){var ce=t.unstable_now();C=ce;var xe=!0;try{xe=T(!0,ce)}finally{xe?N():(q=!1,T=null)}}else q=!1}var N;if(typeof x=="function")N=function(){x(V)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,Ie=Oe.port2;Oe.port1.onmessage=V,N=function(){Ie.postMessage(null)}}else N=function(){g(V,0)};function mt(ce){T=ce,q||(q=!0,N())}function Ke(ce,xe){S=g(function(){ce(t.unstable_now())},xe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,mt(z))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ce){switch(d){case 1:case 2:case 3:var xe=3;break;default:xe=d}var Se=d;d=xe;try{return ce()}finally{d=Se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,xe){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Se=d;d=ce;try{return xe()}finally{d=Se}},t.unstable_scheduleCallback=function(ce,xe,Se){var Le=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Le+Se:Le):Se=Le,ce){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Se+B,ce={id:h++,callback:xe,priorityLevel:ce,startTime:Se,expirationTime:B,sortIndex:-1},Se>Le?(ce.sortIndex=Se,e(c,ce),r(l)===null&&ce===r(c)&&(v?(w(S),S=-1):v=!0,Ke(M,Se-Le))):(ce.sortIndex=B,e(l,ce),_||m||(_=!0,mt(z))),ce},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ce){var xe=d;return function(){var Se=d;d=xe;try{return ce.apply(this,arguments)}finally{d=Se}}}})(fx);hx.exports=fx;var tI=hx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI=J,Jr=tI;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dx=new Set,Xl={};function ma(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for(Xl[t]=e,t=0;t<e.length;t++)dx.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=Object.prototype.hasOwnProperty,nI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D1={},F1={};function iI(t){return vd.call(F1,t)?!0:vd.call(D1,t)?!1:nI.test(t)?F1[t]=!0:(D1[t]=!0,!1)}function sI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aI(t,e,r,n){if(e===null||typeof e>"u"||sI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ar[t]=new Cr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ar[e]=new Cr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ar[t]=new Cr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ar[t]=new Cr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ar[t]=new Cr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ar[t]=new Cr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ar[t]=new Cr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ar[t]=new Cr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ar[t]=new Cr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hp=/[\-:]([a-z])/g;function $p(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hp,$p);ar[e]=new Cr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hp,$p);ar[e]=new Cr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hp,$p);ar[e]=new Cr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ar[t]=new Cr(t,1,!1,t.toLowerCase(),null,!1,!1)});ar.xlinkHref=new Cr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ar[t]=new Cr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gp(t,e,r,n){var i=ar.hasOwnProperty(e)?ar[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aI(e,r,i,n)&&(r=null),n||i===null?iI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ai=rI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),ja=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),Kp=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),px=Symbol.for("react.provider"),mx=Symbol.for("react.context"),qp=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),xd=Symbol.for("react.suspense_list"),Xp=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),gx=Symbol.for("react.offscreen"),L1=Symbol.iterator;function ul(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,S0;function yl(t){if(S0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);S0=e&&e[1]||""}return`
`+S0+t}var A0=!1;function I0(t,e){if(!t||A0)return"";A0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{A0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?yl(t):""}function oI(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=I0(t.type,!1),t;case 11:return t=I0(t.type.render,!1),t;case 1:return t=I0(t.type,!0),t;default:return""}}function Ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case za:return"Fragment";case ja:return"Portal";case _d:return"Profiler";case Kp:return"StrictMode";case yd:return"Suspense";case xd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mx:return(t.displayName||"Context")+".Consumer";case px:return(t._context.displayName||"Context")+".Provider";case qp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xp:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}function lI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ed(e);case 8:return e===Kp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uI(t){var e=vx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=uI(t))}function _x(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=vx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function yh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wd(t,e){var r=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function M1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=fs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yx(t,e){e=e.checked,e!=null&&Gp(t,"checked",e,!1)}function Td(t,e){yx(t,e);var r=fs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Sd(t,e.type,r):e.hasOwnProperty("defaultValue")&&Sd(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Sd(t,e,r){(e!=="number"||yh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var xl=Array.isArray;function to(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+fs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ad(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function V1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(xl(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:fs(r)}}function xx(t,e){var r=fs(e.value),n=fs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function B1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ex(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Id(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ex(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tc,wx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tc=Tc||document.createElement("div"),Tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ql(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cI=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){cI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function Tx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function Sx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Tx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var hI=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cd(t,e){if(e){if(hI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Rd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function Qp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pd=null,ro=null,no=null;function U1(t){if(t=Fu(t)){if(typeof Pd!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Cf(e),Pd(t.stateNode,t.type,e))}}function Ax(t){ro?no?no.push(t):no=[t]:ro=t}function Ix(){if(ro){var t=ro,e=no;if(no=ro=null,U1(t),e)for(t=0;t<e.length;t++)U1(e[t])}}function Cx(t,e){return t(e)}function Rx(){}var C0=!1;function kx(t,e,r){if(C0)return t(e,r);C0=!0;try{return Cx(t,e,r)}finally{C0=!1,(ro!==null||no!==null)&&(Rx(),Ix())}}function Yl(t,e){var r=t.stateNode;if(r===null)return null;var n=Cf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var Nd=!1;if(mi)try{var cl={};Object.defineProperty(cl,"passive",{get:function(){Nd=!0}}),window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Nd=!1}function fI(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var Pl=!1,xh=null,Eh=!1,Od=null,dI={onError:function(t){Pl=!0,xh=t}};function pI(t,e,r,n,i,s,a,o,l){Pl=!1,xh=null,fI.apply(dI,arguments)}function mI(t,e,r,n,i,s,a,o,l){if(pI.apply(this,arguments),Pl){if(Pl){var c=xh;Pl=!1,xh=null}else throw Error(ae(198));Eh||(Eh=!0,Od=c)}}function ga(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Px(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j1(t){if(ga(t)!==t)throw Error(ae(188))}function gI(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return j1(i),t;if(s===n)return j1(i),e;s=s.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function Nx(t){return t=gI(t),t!==null?Ox(t):null}function Ox(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ox(t);if(e!==null)return e;t=t.sibling}return null}var Dx=Jr.unstable_scheduleCallback,z1=Jr.unstable_cancelCallback,vI=Jr.unstable_shouldYield,_I=Jr.unstable_requestPaint,At=Jr.unstable_now,yI=Jr.unstable_getCurrentPriorityLevel,Yp=Jr.unstable_ImmediatePriority,Fx=Jr.unstable_UserBlockingPriority,wh=Jr.unstable_NormalPriority,xI=Jr.unstable_LowPriority,Lx=Jr.unstable_IdlePriority,Tf=null,Un=null;function EI(t){if(Un&&typeof Un.onCommitFiberRoot=="function")try{Un.onCommitFiberRoot(Tf,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:SI,wI=Math.log,TI=Math.LN2;function SI(t){return t>>>=0,t===0?32:31-(wI(t)/TI|0)|0}var Sc=64,Ac=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=El(o):(s&=a,s!==0&&(n=El(s)))}else a=r&~i,a!==0?n=El(a):s!==0&&(n=El(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-An(e),i=1<<r,n|=t[r],e&=~i;return n}function AI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function II(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-An(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=AI(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Mx(){var t=Sc;return Sc<<=1,!(Sc&4194240)&&(Sc=64),t}function R0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ou(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=r}function CI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-An(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Jp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-An(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function bx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vx,Zp,Bx,Ux,jx,Fd=!1,Ic=[],Yi=null,Ji=null,Zi=null,Jl=new Map,Zl=new Map,Bi=[],RI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W1(t,e){switch(t){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function hl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fu(e),e!==null&&Zp(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kI(t,e,r,n,i){switch(e){case"focusin":return Yi=hl(Yi,t,e,r,n,i),!0;case"dragenter":return Ji=hl(Ji,t,e,r,n,i),!0;case"mouseover":return Zi=hl(Zi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,hl(Jl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Zl.set(s,hl(Zl.get(s)||null,t,e,r,n,i)),!0}return!1}function zx(t){var e=Ks(t.target);if(e!==null){var r=ga(e);if(r!==null){if(e=r.tag,e===13){if(e=Px(r),e!==null){t.blockedOn=e,jx(t.priority,function(){Bx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ld(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);kd=n,r.target.dispatchEvent(n),kd=null}else return e=Fu(r),e!==null&&Zp(e),t.blockedOn=r,!1;e.shift()}return!0}function H1(t,e,r){Zc(t)&&r.delete(e)}function PI(){Fd=!1,Yi!==null&&Zc(Yi)&&(Yi=null),Ji!==null&&Zc(Ji)&&(Ji=null),Zi!==null&&Zc(Zi)&&(Zi=null),Jl.forEach(H1),Zl.forEach(H1)}function fl(t,e){t.blockedOn===e&&(t.blockedOn=null,Fd||(Fd=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,PI)))}function eu(t){function e(i){return fl(i,t)}if(0<Ic.length){fl(Ic[0],t);for(var r=1;r<Ic.length;r++){var n=Ic[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Yi!==null&&fl(Yi,t),Ji!==null&&fl(Ji,t),Zi!==null&&fl(Zi,t),Jl.forEach(e),Zl.forEach(e),r=0;r<Bi.length;r++)n=Bi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Bi.length&&(r=Bi[0],r.blockedOn===null);)zx(r),r.blockedOn===null&&Bi.shift()}var io=Ai.ReactCurrentBatchConfig,Sh=!0;function NI(t,e,r,n){var i=Ze,s=io.transition;io.transition=null;try{Ze=1,em(t,e,r,n)}finally{Ze=i,io.transition=s}}function OI(t,e,r,n){var i=Ze,s=io.transition;io.transition=null;try{Ze=4,em(t,e,r,n)}finally{Ze=i,io.transition=s}}function em(t,e,r,n){if(Sh){var i=Ld(t,e,r,n);if(i===null)V0(t,e,n,Ah,r),W1(t,n);else if(kI(i,t,e,r,n))n.stopPropagation();else if(W1(t,n),e&4&&-1<RI.indexOf(t)){for(;i!==null;){var s=Fu(i);if(s!==null&&Vx(s),s=Ld(t,e,r,n),s===null&&V0(t,e,n,Ah,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else V0(t,e,n,null,r)}}var Ah=null;function Ld(t,e,r,n){if(Ah=null,t=Qp(n),t=Ks(t),t!==null)if(e=ga(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Px(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ah=t,null}function Wx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yI()){case Yp:return 1;case Fx:return 4;case wh:case xI:return 16;case Lx:return 536870912;default:return 16}default:return 16}}var $i=null,tm=null,eh=null;function Hx(){if(eh)return eh;var t,e=tm,r=e.length,n,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return eh=i.slice(t,1<n?1-n:void 0)}function th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cc(){return!0}function $1(){return!1}function rn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Cc:$1,this.isPropagationStopped=$1,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){},isPersistent:Cc}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rm=rn(Fo),Du=_t({},Fo,{view:0,detail:0}),DI=rn(Du),k0,P0,dl,Sf=_t({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dl&&(dl&&t.type==="mousemove"?(k0=t.screenX-dl.screenX,P0=t.screenY-dl.screenY):P0=k0=0,dl=t),k0)},movementY:function(t){return"movementY"in t?t.movementY:P0}}),G1=rn(Sf),FI=_t({},Sf,{dataTransfer:0}),LI=rn(FI),MI=_t({},Du,{relatedTarget:0}),N0=rn(MI),bI=_t({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),VI=rn(bI),BI=_t({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UI=rn(BI),jI=_t({},Fo,{data:0}),K1=rn(jI),zI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $I(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HI[t])?!!e[t]:!1}function nm(){return $I}var GI=_t({},Du,{key:function(t){if(t.key){var e=zI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(t){return t.type==="keypress"?th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KI=rn(GI),qI=_t({},Sf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=rn(qI),XI=_t({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),QI=rn(XI),YI=_t({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),JI=rn(YI),ZI=_t({},Sf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eC=rn(ZI),tC=[9,13,27,32],im=mi&&"CompositionEvent"in window,Nl=null;mi&&"documentMode"in document&&(Nl=document.documentMode);var rC=mi&&"TextEvent"in window&&!Nl,$x=mi&&(!im||Nl&&8<Nl&&11>=Nl),X1=" ",Q1=!1;function Gx(t,e){switch(t){case"keyup":return tC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wa=!1;function nC(t,e){switch(t){case"compositionend":return Kx(e);case"keypress":return e.which!==32?null:(Q1=!0,X1);case"textInput":return t=e.data,t===X1&&Q1?null:t;default:return null}}function iC(t,e){if(Wa)return t==="compositionend"||!im&&Gx(t,e)?(t=Hx(),eh=tm=$i=null,Wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $x&&e.locale!=="ko"?null:e.data;default:return null}}var sC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sC[t.type]:e==="textarea"}function qx(t,e,r,n){Ax(n),e=Ih(e,"onChange"),0<e.length&&(r=new rm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ol=null,tu=null;function aC(t){sE(t,0)}function Af(t){var e=Ga(t);if(_x(e))return t}function oC(t,e){if(t==="change")return e}var Xx=!1;if(mi){var O0;if(mi){var D0="oninput"in document;if(!D0){var J1=document.createElement("div");J1.setAttribute("oninput","return;"),D0=typeof J1.oninput=="function"}O0=D0}else O0=!1;Xx=O0&&(!document.documentMode||9<document.documentMode)}function Z1(){Ol&&(Ol.detachEvent("onpropertychange",Qx),tu=Ol=null)}function Qx(t){if(t.propertyName==="value"&&Af(tu)){var e=[];qx(e,tu,t,Qp(t)),kx(aC,e)}}function lC(t,e,r){t==="focusin"?(Z1(),Ol=e,tu=r,Ol.attachEvent("onpropertychange",Qx)):t==="focusout"&&Z1()}function uC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Af(tu)}function cC(t,e){if(t==="click")return Af(e)}function hC(t,e){if(t==="input"||t==="change")return Af(e)}function fC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:fC;function ru(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!vd.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tv(t,e){var r=ev(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ev(r)}}function Yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jx(){for(var t=window,e=yh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=yh(t.document)}return e}function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dC(t){var e=Jx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Yx(r.ownerDocument.documentElement,r)){if(n!==null&&sm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=tv(r,s);var a=tv(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pC=mi&&"documentMode"in document&&11>=document.documentMode,Ha=null,Md=null,Dl=null,bd=!1;function rv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bd||Ha==null||Ha!==yh(n)||(n=Ha,"selectionStart"in n&&sm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dl&&ru(Dl,n)||(Dl=n,n=Ih(Md,"onSelect"),0<n.length&&(e=new rm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ha)))}function Rc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var $a={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},F0={},Zx={};mi&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function If(t){if(F0[t])return F0[t];if(!$a[t])return t;var e=$a[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Zx)return F0[t]=e[r];return t}var eE=If("animationend"),tE=If("animationiteration"),rE=If("animationstart"),nE=If("transitionend"),iE=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xs(t,e){iE.set(t,e),ma(e,[t])}for(var L0=0;L0<nv.length;L0++){var M0=nv[L0],mC=M0.toLowerCase(),gC=M0[0].toUpperCase()+M0.slice(1);xs(mC,"on"+gC)}xs(eE,"onAnimationEnd");xs(tE,"onAnimationIteration");xs(rE,"onAnimationStart");xs("dblclick","onDoubleClick");xs("focusin","onFocus");xs("focusout","onBlur");xs(nE,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vC=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function iv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,mI(n,e,void 0,t),t.currentTarget=null}function sE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;iv(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;iv(i,o,c),s=l}}}if(Eh)throw t=Od,Eh=!1,Od=null,t}function lt(t,e){var r=e[zd];r===void 0&&(r=e[zd]=new Set);var n=t+"__bubble";r.has(n)||(aE(e,t,2,!1),r.add(n))}function b0(t,e,r){var n=0;e&&(n|=4),aE(r,t,n,e)}var kc="_reactListening"+Math.random().toString(36).slice(2);function nu(t){if(!t[kc]){t[kc]=!0,dx.forEach(function(r){r!=="selectionchange"&&(vC.has(r)||b0(r,!1,t),b0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kc]||(e[kc]=!0,b0("selectionchange",!1,e))}}function aE(t,e,r,n){switch(Wx(e)){case 1:var i=NI;break;case 4:i=OI;break;default:i=em}r=i.bind(null,e,r,t),i=void 0,!Nd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function V0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ks(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}kx(function(){var c=s,h=Qp(r),f=[];e:{var d=iE.get(t);if(d!==void 0){var m=rm,_=t;switch(t){case"keypress":if(th(r)===0)break e;case"keydown":case"keyup":m=KI;break;case"focusin":_="focus",m=N0;break;case"focusout":_="blur",m=N0;break;case"beforeblur":case"afterblur":m=N0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=G1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=LI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QI;break;case eE:case tE:case rE:m=VI;break;case nE:m=JI;break;case"scroll":m=DI;break;case"wheel":m=eC;break;case"copy":case"cut":case"paste":m=UI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=q1}var v=(e&4)!==0,g=!v&&t==="scroll",w=v?d!==null?d+"Capture":null:d;v=[];for(var x=c,E;x!==null;){E=x;var M=E.stateNode;if(E.tag===5&&M!==null&&(E=M,w!==null&&(M=Yl(x,w),M!=null&&v.push(iu(x,M,E)))),g)break;x=x.return}0<v.length&&(d=new m(d,_,null,r,h),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==kd&&(_=r.relatedTarget||r.fromElement)&&(Ks(_)||_[gi]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(_=r.relatedTarget||r.toElement,m=c,_=_?Ks(_):null,_!==null&&(g=ga(_),_!==g||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=c),m!==_)){if(v=G1,M="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=q1,M="onPointerLeave",w="onPointerEnter",x="pointer"),g=m==null?d:Ga(m),E=_==null?d:Ga(_),d=new v(M,x+"leave",m,r,h),d.target=g,d.relatedTarget=E,M=null,Ks(h)===c&&(v=new v(w,x+"enter",_,r,h),v.target=E,v.relatedTarget=g,M=v),g=M,m&&_)t:{for(v=m,w=_,x=0,E=v;E;E=Da(E))x++;for(E=0,M=w;M;M=Da(M))E++;for(;0<x-E;)v=Da(v),x--;for(;0<E-x;)w=Da(w),E--;for(;x--;){if(v===w||w!==null&&v===w.alternate)break t;v=Da(v),w=Da(w)}v=null}else v=null;m!==null&&sv(f,d,m,v,!1),_!==null&&g!==null&&sv(f,g,_,v,!0)}}e:{if(d=c?Ga(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var z=oC;else if(Y1(d))if(Xx)z=hC;else{z=uC;var q=lC}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(z=cC);if(z&&(z=z(t,c))){qx(f,z,r,h);break e}q&&q(t,d,c),t==="focusout"&&(q=d._wrapperState)&&q.controlled&&d.type==="number"&&Sd(d,"number",d.value)}switch(q=c?Ga(c):window,t){case"focusin":(Y1(q)||q.contentEditable==="true")&&(Ha=q,Md=c,Dl=null);break;case"focusout":Dl=Md=Ha=null;break;case"mousedown":bd=!0;break;case"contextmenu":case"mouseup":case"dragend":bd=!1,rv(f,r,h);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":rv(f,r,h)}var T;if(im)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Wa?Gx(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&($x&&r.locale!=="ko"&&(Wa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Wa&&(T=Hx()):($i=h,tm="value"in $i?$i.value:$i.textContent,Wa=!0)),q=Ih(c,S),0<q.length&&(S=new K1(S,t,null,r,h),f.push({event:S,listeners:q}),T?S.data=T:(T=Kx(r),T!==null&&(S.data=T)))),(T=rC?nC(t,r):iC(t,r))&&(c=Ih(c,"onBeforeInput"),0<c.length&&(h=new K1("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:c}),h.data=T))}sE(f,e)})}function iu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ih(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Yl(t,r),s!=null&&n.unshift(iu(t,s,i)),s=Yl(t,e),s!=null&&n.push(iu(t,s,i))),t=t.return}return n}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sv(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Yl(r,s),l!=null&&a.unshift(iu(r,l,o))):i||(l=Yl(r,s),l!=null&&a.push(iu(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var _C=/\r\n?/g,yC=/\u0000|\uFFFD/g;function av(t){return(typeof t=="string"?t:""+t).replace(_C,`
`).replace(yC,"")}function Pc(t,e,r){if(e=av(e),av(t)!==e&&r)throw Error(ae(425))}function Ch(){}var Vd=null,Bd=null;function Ud(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,EC=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(t){return ov.resolve(null).then(t).catch(wC)}:jd;function wC(t){setTimeout(function(){throw t})}function B0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),eu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);eu(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Lo,su="__reactProps$"+Lo,gi="__reactContainer$"+Lo,zd="__reactEvents$"+Lo,TC="__reactListeners$"+Lo,SC="__reactHandles$"+Lo;function Ks(t){var e=t[Bn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gi]||r[Bn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=lv(t);t!==null;){if(r=t[Bn])return r;t=lv(t)}return e}t=r,r=t.parentNode}return null}function Fu(t){return t=t[Bn]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Cf(t){return t[su]||null}var Wd=[],Ka=-1;function Es(t){return{current:t}}function ct(t){0>Ka||(t.current=Wd[Ka],Wd[Ka]=null,Ka--)}function st(t,e){Ka++,Wd[Ka]=t.current,t.current=e}var ds={},yr=Es(ds),Dr=Es(!1),ta=ds;function vo(t,e){var r=t.type.contextTypes;if(!r)return ds;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fr(t){return t=t.childContextTypes,t!=null}function Rh(){ct(Dr),ct(yr)}function uv(t,e,r){if(yr.current!==ds)throw Error(ae(168));st(yr,e),st(Dr,r)}function oE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,lI(t)||"Unknown",i));return _t({},r,n)}function kh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ds,ta=yr.current,st(yr,t),st(Dr,Dr.current),!0}function cv(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=oE(t,e,ta),n.__reactInternalMemoizedMergedChildContext=t,ct(Dr),ct(yr),st(yr,t)):ct(Dr),st(Dr,r)}var ii=null,Rf=!1,U0=!1;function lE(t){ii===null?ii=[t]:ii.push(t)}function AC(t){Rf=!0,lE(t)}function ws(){if(!U0&&ii!==null){U0=!0;var t=0,e=Ze;try{var r=ii;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ii=null,Rf=!1}catch(i){throw ii!==null&&(ii=ii.slice(t+1)),Dx(Yp,ws),i}finally{Ze=e,U0=!1}}return null}var qa=[],Xa=0,Ph=null,Nh=0,ln=[],un=0,ra=null,si=1,ai="";function zs(t,e){qa[Xa++]=Nh,qa[Xa++]=Ph,Ph=t,Nh=e}function uE(t,e,r){ln[un++]=si,ln[un++]=ai,ln[un++]=ra,ra=t;var n=si;t=ai;var i=32-An(n)-1;n&=~(1<<i),r+=1;var s=32-An(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,si=1<<32-An(e)+i|r<<i|n,ai=s+t}else si=1<<s|r<<i|n,ai=t}function am(t){t.return!==null&&(zs(t,1),uE(t,1,0))}function om(t){for(;t===Ph;)Ph=qa[--Xa],qa[Xa]=null,Nh=qa[--Xa],qa[Xa]=null;for(;t===ra;)ra=ln[--un],ln[un]=null,ai=ln[--un],ln[un]=null,si=ln[--un],ln[un]=null}var Qr=null,qr=null,dt=!1,wn=null;function cE(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qr=t,qr=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qr=t,qr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ra!==null?{id:si,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qr=t,qr=null,!0):!1;default:return!1}}function Hd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $d(t){if(dt){var e=qr;if(e){var r=e;if(!hv(t,e)){if(Hd(t))throw Error(ae(418));e=es(r.nextSibling);var n=Qr;e&&hv(t,e)?cE(n,r):(t.flags=t.flags&-4097|2,dt=!1,Qr=t)}}else{if(Hd(t))throw Error(ae(418));t.flags=t.flags&-4097|2,dt=!1,Qr=t}}}function fv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qr=t}function Nc(t){if(t!==Qr)return!1;if(!dt)return fv(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ud(t.type,t.memoizedProps)),e&&(e=qr)){if(Hd(t))throw hE(),Error(ae(418));for(;e;)cE(t,e),e=es(e.nextSibling)}if(fv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qr=es(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qr=null}}else qr=Qr?es(t.stateNode.nextSibling):null;return!0}function hE(){for(var t=qr;t;)t=es(t.nextSibling)}function _o(){qr=Qr=null,dt=!1}function lm(t){wn===null?wn=[t]:wn.push(t)}var IC=Ai.ReactCurrentBatchConfig;function pl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dv(t){var e=t._init;return e(t._payload)}function fE(t){function e(w,x){if(t){var E=w.deletions;E===null?(w.deletions=[x],w.flags|=16):E.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=is(w,x),w.index=0,w.sibling=null,w}function s(w,x,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<x?(w.flags|=2,x):E):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,x,E,M){return x===null||x.tag!==6?(x=K0(E,w.mode,M),x.return=w,x):(x=i(x,E),x.return=w,x)}function l(w,x,E,M){var z=E.type;return z===za?h(w,x,E.props.children,M,E.key):x!==null&&(x.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===bi&&dv(z)===x.type)?(M=i(x,E.props),M.ref=pl(w,x,E),M.return=w,M):(M=lh(E.type,E.key,E.props,null,w.mode,M),M.ref=pl(w,x,E),M.return=w,M)}function c(w,x,E,M){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=q0(E,w.mode,M),x.return=w,x):(x=i(x,E.children||[]),x.return=w,x)}function h(w,x,E,M,z){return x===null||x.tag!==7?(x=Js(E,w.mode,M,z),x.return=w,x):(x=i(x,E),x.return=w,x)}function f(w,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=K0(""+x,w.mode,E),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ec:return E=lh(x.type,x.key,x.props,null,w.mode,E),E.ref=pl(w,null,x),E.return=w,E;case ja:return x=q0(x,w.mode,E),x.return=w,x;case bi:var M=x._init;return f(w,M(x._payload),E)}if(xl(x)||ul(x))return x=Js(x,w.mode,E,null),x.return=w,x;Oc(w,x)}return null}function d(w,x,E,M){var z=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return z!==null?null:o(w,x,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:return E.key===z?l(w,x,E,M):null;case ja:return E.key===z?c(w,x,E,M):null;case bi:return z=E._init,d(w,x,z(E._payload),M)}if(xl(E)||ul(E))return z!==null?null:h(w,x,E,M,null);Oc(w,E)}return null}function m(w,x,E,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return w=w.get(E)||null,o(x,w,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Ec:return w=w.get(M.key===null?E:M.key)||null,l(x,w,M,z);case ja:return w=w.get(M.key===null?E:M.key)||null,c(x,w,M,z);case bi:var q=M._init;return m(w,x,E,q(M._payload),z)}if(xl(M)||ul(M))return w=w.get(E)||null,h(x,w,M,z,null);Oc(x,M)}return null}function _(w,x,E,M){for(var z=null,q=null,T=x,S=x=0,A=null;T!==null&&S<E.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var C=d(w,T,E[S],M);if(C===null){T===null&&(T=A);break}t&&T&&C.alternate===null&&e(w,T),x=s(C,x,S),q===null?z=C:q.sibling=C,q=C,T=A}if(S===E.length)return r(w,T),dt&&zs(w,S),z;if(T===null){for(;S<E.length;S++)T=f(w,E[S],M),T!==null&&(x=s(T,x,S),q===null?z=T:q.sibling=T,q=T);return dt&&zs(w,S),z}for(T=n(w,T);S<E.length;S++)A=m(T,w,S,E[S],M),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?S:A.key),x=s(A,x,S),q===null?z=A:q.sibling=A,q=A);return t&&T.forEach(function(D){return e(w,D)}),dt&&zs(w,S),z}function v(w,x,E,M){var z=ul(E);if(typeof z!="function")throw Error(ae(150));if(E=z.call(E),E==null)throw Error(ae(151));for(var q=z=null,T=x,S=x=0,A=null,C=E.next();T!==null&&!C.done;S++,C=E.next()){T.index>S?(A=T,T=null):A=T.sibling;var D=d(w,T,C.value,M);if(D===null){T===null&&(T=A);break}t&&T&&D.alternate===null&&e(w,T),x=s(D,x,S),q===null?z=D:q.sibling=D,q=D,T=A}if(C.done)return r(w,T),dt&&zs(w,S),z;if(T===null){for(;!C.done;S++,C=E.next())C=f(w,C.value,M),C!==null&&(x=s(C,x,S),q===null?z=C:q.sibling=C,q=C);return dt&&zs(w,S),z}for(T=n(w,T);!C.done;S++,C=E.next())C=m(T,w,S,C.value,M),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?S:C.key),x=s(C,x,S),q===null?z=C:q.sibling=C,q=C);return t&&T.forEach(function(V){return e(w,V)}),dt&&zs(w,S),z}function g(w,x,E,M){if(typeof E=="object"&&E!==null&&E.type===za&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:e:{for(var z=E.key,q=x;q!==null;){if(q.key===z){if(z=E.type,z===za){if(q.tag===7){r(w,q.sibling),x=i(q,E.props.children),x.return=w,w=x;break e}}else if(q.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===bi&&dv(z)===q.type){r(w,q.sibling),x=i(q,E.props),x.ref=pl(w,q,E),x.return=w,w=x;break e}r(w,q);break}else e(w,q);q=q.sibling}E.type===za?(x=Js(E.props.children,w.mode,M,E.key),x.return=w,w=x):(M=lh(E.type,E.key,E.props,null,w.mode,M),M.ref=pl(w,x,E),M.return=w,w=M)}return a(w);case ja:e:{for(q=E.key;x!==null;){if(x.key===q)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){r(w,x.sibling),x=i(x,E.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=q0(E,w.mode,M),x.return=w,w=x}return a(w);case bi:return q=E._init,g(w,x,q(E._payload),M)}if(xl(E))return _(w,x,E,M);if(ul(E))return v(w,x,E,M);Oc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,E),x.return=w,w=x):(r(w,x),x=K0(E,w.mode,M),x.return=w,w=x),a(w)):r(w,x)}return g}var yo=fE(!0),dE=fE(!1),Oh=Es(null),Dh=null,Qa=null,um=null;function cm(){um=Qa=Dh=null}function hm(t){var e=Oh.current;ct(Oh),t._currentValue=e}function Gd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function so(t,e){Dh=t,um=Qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Or=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(um!==t)if(t={context:t,memoizedValue:e,next:null},Qa===null){if(Dh===null)throw Error(ae(308));Qa=t,Dh.dependencies={lanes:0,firstContext:t}}else Qa=Qa.next=t;return e}var qs=null;function fm(t){qs===null?qs=[t]:qs.push(t)}function pE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,fm(e)):(r.next=i.next,i.next=r),e.interleaved=r,vi(t,n)}function vi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Vi=!1;function dm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ze&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,vi(t,r)}return i=n.interleaved,i===null?(e.next=e,fm(n)):(e.next=i.next,i.next=e),n.interleaved=e,vi(t,r)}function rh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jp(t,r)}}function pv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Fh(t,e,r,n){var i=t.updateQueue;Vi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane,m=o.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,v=o;switch(d=e,m=r,v.tag){case 1:if(_=v.payload,typeof _=="function"){f=_.call(m,f,d);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,d=typeof _=="function"?_.call(m,f,d):_,d==null)break e;f=_t({},f,d);break e;case 2:Vi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else m={eventTime:m,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ia|=a,t.lanes=a,t.memoizedState=f}}function mv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var Lu={},jn=Es(Lu),au=Es(Lu),ou=Es(Lu);function Xs(t){if(t===Lu)throw Error(ae(174));return t}function pm(t,e){switch(st(ou,e),st(au,t),st(jn,Lu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Id(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Id(e,t)}ct(jn),st(jn,e)}function xo(){ct(jn),ct(au),ct(ou)}function gE(t){Xs(ou.current);var e=Xs(jn.current),r=Id(e,t.type);e!==r&&(st(au,t),st(jn,r))}function mm(t){au.current===t&&(ct(jn),ct(au))}var gt=Es(0);function Lh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var j0=[];function gm(){for(var t=0;t<j0.length;t++)j0[t]._workInProgressVersionPrimary=null;j0.length=0}var nh=Ai.ReactCurrentDispatcher,z0=Ai.ReactCurrentBatchConfig,na=0,vt=null,bt=null,jt=null,Mh=!1,Fl=!1,lu=0,CC=0;function hr(){throw Error(ae(321))}function vm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!kn(t[r],e[r]))return!1;return!0}function _m(t,e,r,n,i,s){if(na=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?NC:OC,t=r(n,i),Fl){s=0;do{if(Fl=!1,lu=0,25<=s)throw Error(ae(301));s+=1,jt=bt=null,e.updateQueue=null,nh.current=DC,t=r(n,i)}while(Fl)}if(nh.current=bh,e=bt!==null&&bt.next!==null,na=0,jt=bt=vt=null,Mh=!1,e)throw Error(ae(300));return t}function ym(){var t=lu!==0;return lu=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?vt.memoizedState=jt=t:jt=jt.next=t,jt}function dn(){if(bt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=jt===null?vt.memoizedState:jt.next;if(e!==null)jt=e,bt=t;else{if(t===null)throw Error(ae(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},jt===null?vt.memoizedState=jt=t:jt=jt.next=t}return jt}function uu(t,e){return typeof e=="function"?e(t):e}function W0(t){var e=dn(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=bt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var h=c.lane;if((na&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,vt.lanes|=h,ia|=h}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,kn(n,e.memoizedState)||(Or=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,ia|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function H0(t){var e=dn(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);kn(s,e.memoizedState)||(Or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function vE(){}function _E(t,e){var r=vt,n=dn(),i=e(),s=!kn(n.memoizedState,i);if(s&&(n.memoizedState=i,Or=!0),n=n.queue,xm(EE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,cu(9,xE.bind(null,r,n,i,e),void 0,null),$t===null)throw Error(ae(349));na&30||yE(r,e,i)}return i}function yE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xE(t,e,r,n){e.value=r,e.getSnapshot=n,wE(e)&&TE(t)}function EE(t,e,r){return r(function(){wE(e)&&TE(t)})}function wE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kn(t,r)}catch{return!0}}function TE(t){var e=vi(t,1);e!==null&&In(e,t,1,-1)}function gv(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:t},e.queue=t,t=t.dispatch=PC.bind(null,vt,t),[e.memoizedState,t]}function cu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function SE(){return dn().memoizedState}function ih(t,e,r,n){var i=Vn();vt.flags|=t,i.memoizedState=cu(1|e,r,void 0,n===void 0?null:n)}function kf(t,e,r,n){var i=dn();n=n===void 0?null:n;var s=void 0;if(bt!==null){var a=bt.memoizedState;if(s=a.destroy,n!==null&&vm(n,a.deps)){i.memoizedState=cu(e,r,s,n);return}}vt.flags|=t,i.memoizedState=cu(1|e,r,s,n)}function vv(t,e){return ih(8390656,8,t,e)}function xm(t,e){return kf(2048,8,t,e)}function AE(t,e){return kf(4,2,t,e)}function IE(t,e){return kf(4,4,t,e)}function CE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RE(t,e,r){return r=r!=null?r.concat([t]):null,kf(4,4,CE.bind(null,e,t),r)}function Em(){}function kE(t,e){var r=dn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function PE(t,e){var r=dn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function NE(t,e,r){return na&21?(kn(r,e)||(r=Mx(),vt.lanes|=r,ia|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Or=!0),t.memoizedState=r)}function RC(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=z0.transition;z0.transition={};try{t(!1),e()}finally{Ze=r,z0.transition=n}}function OE(){return dn().memoizedState}function kC(t,e,r){var n=ns(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},DE(t))FE(e,r);else if(r=pE(t,e,r,n),r!==null){var i=Sr();In(r,t,n,i),LE(r,e,n)}}function PC(t,e,r){var n=ns(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(DE(t))FE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,kn(o,a)){var l=e.interleaved;l===null?(i.next=i,fm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=pE(t,e,i,n),r!==null&&(i=Sr(),In(r,t,n,i),LE(r,e,n))}}function DE(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function FE(t,e){Fl=Mh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function LE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jp(t,r)}}var bh={readContext:fn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},NC={readContext:fn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:vv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ih(4194308,4,CE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var r=Vn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Vn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=kC.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:gv,useDebugValue:Em,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=gv(!1),e=t[0];return t=RC.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=Vn();if(dt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),$t===null)throw Error(ae(349));na&30||yE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,vv(EE.bind(null,n,s,t),[t]),n.flags|=2048,cu(9,xE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Vn(),e=$t.identifierPrefix;if(dt){var r=ai,n=si;r=(n&~(1<<32-An(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=lu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=CC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OC={readContext:fn,useCallback:kE,useContext:fn,useEffect:xm,useImperativeHandle:RE,useInsertionEffect:AE,useLayoutEffect:IE,useMemo:PE,useReducer:W0,useRef:SE,useState:function(){return W0(uu)},useDebugValue:Em,useDeferredValue:function(t){var e=dn();return NE(e,bt.memoizedState,t)},useTransition:function(){var t=W0(uu)[0],e=dn().memoizedState;return[t,e]},useMutableSource:vE,useSyncExternalStore:_E,useId:OE,unstable_isNewReconciler:!1},DC={readContext:fn,useCallback:kE,useContext:fn,useEffect:xm,useImperativeHandle:RE,useInsertionEffect:AE,useLayoutEffect:IE,useMemo:PE,useReducer:H0,useRef:SE,useState:function(){return H0(uu)},useDebugValue:Em,useDeferredValue:function(t){var e=dn();return bt===null?e.memoizedState=t:NE(e,bt.memoizedState,t)},useTransition:function(){var t=H0(uu)[0],e=dn().memoizedState;return[t,e]},useMutableSource:vE,useSyncExternalStore:_E,useId:OE,unstable_isNewReconciler:!1};function xn(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Kd(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pf={isMounted:function(t){return(t=t._reactInternals)?ga(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Sr(),i=ns(t),s=hi(n,i);s.payload=e,r!=null&&(s.callback=r),e=ts(t,s,i),e!==null&&(In(e,t,i,n),rh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Sr(),i=ns(t),s=hi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ts(t,s,i),e!==null&&(In(e,t,i,n),rh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Sr(),n=ns(t),i=hi(r,n);i.tag=2,e!=null&&(i.callback=e),e=ts(t,i,n),e!==null&&(In(e,t,n,r),rh(e,t,n))}};function _v(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!ru(r,n)||!ru(i,s):!0}function ME(t,e,r){var n=!1,i=ds,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(i=Fr(e)?ta:yr.current,n=e.contextTypes,s=(n=n!=null)?vo(t,i):ds),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function yv(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Pf.enqueueReplaceState(e,e.state,null)}function qd(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},dm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=fn(s):(s=Fr(e)?ta:yr.current,i.context=vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kd(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pf.enqueueReplaceState(i,i.state,null),Fh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eo(t,e){try{var r="",n=e;do r+=oI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Xd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var FC=typeof WeakMap=="function"?WeakMap:Map;function bE(t,e,r){r=hi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Bh||(Bh=!0,sp=n),Xd(t,e)},r}function VE(t,e,r){r=hi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Xd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Xd(t,e),typeof n!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function xv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new FC;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=qC.bind(null,t,e,r),e.then(t,t))}function Ev(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wv(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=hi(-1,1),e.tag=2,ts(r,e,1))),r.lanes|=1),t)}var LC=Ai.ReactCurrentOwner,Or=!1;function Er(t,e,r,n){e.child=t===null?dE(e,null,r,n):yo(e,t.child,r,n)}function Tv(t,e,r,n,i){r=r.render;var s=e.ref;return so(e,i),n=_m(t,e,r,n,s,i),r=ym(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(dt&&r&&am(e),e.flags|=1,Er(t,e,n,i),e.child)}function Sv(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!km(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,BE(t,e,s,n,i)):(t=lh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:ru,r(a,n)&&t.ref===e.ref)return _i(t,e,i)}return e.flags|=1,t=is(s,n),t.ref=e.ref,t.return=e,e.child=t}function BE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ru(s,n)&&t.ref===e.ref)if(Or=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Or=!0);else return e.lanes=t.lanes,_i(t,e,i)}return Qd(t,e,r,n,i)}function UE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ja,Hr),Hr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(Ja,Hr),Hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,st(Ja,Hr),Hr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,st(Ja,Hr),Hr|=n;return Er(t,e,i,r),e.child}function jE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Qd(t,e,r,n,i){var s=Fr(r)?ta:yr.current;return s=vo(e,s),so(e,i),r=_m(t,e,r,n,s,i),n=ym(),t!==null&&!Or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_i(t,e,i)):(dt&&n&&am(e),e.flags|=1,Er(t,e,r,i),e.child)}function Av(t,e,r,n,i){if(Fr(r)){var s=!0;kh(e)}else s=!1;if(so(e,i),e.stateNode===null)sh(t,e),ME(e,r,n),qd(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=Fr(r)?ta:yr.current,c=vo(e,c));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&yv(e,a,n,c),Vi=!1;var d=e.memoizedState;a.state=d,Fh(e,n,a,i),l=e.memoizedState,o!==n||d!==l||Dr.current||Vi?(typeof h=="function"&&(Kd(e,r,h,n),l=e.memoizedState),(o=Vi||_v(e,r,o,n,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,mE(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:xn(e.type,o),a.props=c,f=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=Fr(r)?ta:yr.current,l=vo(e,l));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&yv(e,a,n,l),Vi=!1,d=e.memoizedState,a.state=d,Fh(e,n,a,i);var _=e.memoizedState;o!==f||d!==_||Dr.current||Vi?(typeof m=="function"&&(Kd(e,r,m,n),_=e.memoizedState),(c=Vi||_v(e,r,c,n,d,_,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Yd(t,e,r,n,s,i)}function Yd(t,e,r,n,i,s){jE(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&cv(e,r,!1),_i(t,e,s);n=e.stateNode,LC.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=yo(e,t.child,null,s),e.child=yo(e,null,o,s)):Er(t,e,o,s),e.memoizedState=n.state,i&&cv(e,r,!0),e.child}function zE(t){var e=t.stateNode;e.pendingContext?uv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uv(t,e.context,!1),pm(t,e.containerInfo)}function Iv(t,e,r,n,i){return _o(),lm(i),e.flags|=256,Er(t,e,r,n),e.child}var Jd={dehydrated:null,treeContext:null,retryLane:0};function Zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function WE(t,e,r){var n=e.pendingProps,i=gt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(gt,i&1),t===null)return $d(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Df(a,n,0,null),t=Js(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Zd(r),e.memoizedState=Jd,t):wm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return MC(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=is(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=is(o,s):(s=Js(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Zd(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Jd,n}return s=t.child,t=s.sibling,n=is(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function wm(t,e){return e=Df({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dc(t,e,r,n){return n!==null&&lm(n),yo(e,t.child,null,r),t=wm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MC(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=$0(Error(ae(422))),Dc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Df({mode:"visible",children:n.children},i,0,null),s=Js(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&yo(e,t.child,null,a),e.child.memoizedState=Zd(a),e.memoizedState=Jd,s);if(!(e.mode&1))return Dc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ae(419)),n=$0(s,n,void 0),Dc(t,e,a,n)}if(o=(a&t.childLanes)!==0,Or||o){if(n=$t,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,vi(t,i),In(n,t,i,-1))}return Rm(),n=$0(Error(ae(421))),Dc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=XC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qr=es(i.nextSibling),Qr=e,dt=!0,wn=null,t!==null&&(ln[un++]=si,ln[un++]=ai,ln[un++]=ra,si=t.id,ai=t.overflow,ra=e),e=wm(e,n.children),e.flags|=4096,e)}function Cv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Gd(t.return,e,r)}function G0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function HE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Er(t,e,n.children,r),n=gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cv(t,r,e);else if(t.tag===19)Cv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(st(gt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Lh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),G0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}G0(e,!0,r,null,s);break;case"together":G0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _i(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=is(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=is(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function bC(t,e,r){switch(e.tag){case 3:zE(e),_o();break;case 5:gE(e);break;case 1:Fr(e.type)&&kh(e);break;case 4:pm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;st(Oh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(st(gt,gt.current&1),e.flags|=128,null):r&e.child.childLanes?WE(t,e,r):(st(gt,gt.current&1),t=_i(t,e,r),t!==null?t.sibling:null);st(gt,gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return HE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(gt,gt.current),n)break;return null;case 22:case 23:return e.lanes=0,UE(t,e,r)}return _i(t,e,r)}var $E,ep,GE,KE;$E=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ep=function(){};GE=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Xs(jn.current);var s=null;switch(r){case"input":i=wd(t,i),n=wd(t,n),s=[];break;case"select":i=_t({},i,{value:void 0}),n=_t({},n,{value:void 0}),s=[];break;case"textarea":i=Ad(t,i),n=Ad(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ch)}Cd(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Xl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};KE=function(t,e,r,n){r!==n&&(e.flags|=4)};function ml(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function VC(t,e,r){var n=e.pendingProps;switch(om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return Fr(e.type)&&Rh(),fr(e),null;case 3:return n=e.stateNode,xo(),ct(Dr),ct(yr),gm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wn!==null&&(lp(wn),wn=null))),ep(t,e),fr(e),null;case 5:mm(e);var i=Xs(ou.current);if(r=e.type,t!==null&&e.stateNode!=null)GE(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return fr(e),null}if(t=Xs(jn.current),Nc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Bn]=e,n[su]=s,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<wl.length;i++)lt(wl[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":M1(n,s),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},lt("invalid",n);break;case"textarea":V1(n,s),lt("invalid",n)}Cd(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Pc(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Pc(n.textContent,o,t),i=["children",""+o]):Xl.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&lt("scroll",n)}switch(r){case"input":wc(n),b1(n,s,!0);break;case"textarea":wc(n),B1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Ch)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ex(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bn]=e,t[su]=n,$E(t,e,!1,!1),e.stateNode=t;e:{switch(a=Rd(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<wl.length;i++)lt(wl[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":M1(t,n),i=wd(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_t({},n,{value:void 0}),lt("invalid",t);break;case"textarea":V1(t,n),i=Ad(t,n),lt("invalid",t);break;default:i=n}Cd(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Sx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wx(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ql(t,l):typeof l=="number"&&Ql(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Xl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lt("scroll",t):l!=null&&Gp(t,s,l,a))}switch(r){case"input":wc(t),b1(t,n,!1);break;case"textarea":wc(t),B1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+fs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?to(t,!!n.multiple,s,!1):n.defaultValue!=null&&to(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ch)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)KE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=Xs(ou.current),Xs(jn.current),Nc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bn]=e,(s=n.nodeValue!==r)&&(t=Qr,t!==null))switch(t.tag){case 3:Pc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bn]=e,e.stateNode=n}return fr(e),null;case 13:if(ct(gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&qr!==null&&e.mode&1&&!(e.flags&128))hE(),_o(),e.flags|=98560,s=!1;else if(s=Nc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Bn]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else wn!==null&&(lp(wn),wn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Vt===0&&(Vt=3):Rm())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return xo(),ep(t,e),t===null&&nu(e.stateNode.containerInfo),fr(e),null;case 10:return hm(e.type._context),fr(e),null;case 17:return Fr(e.type)&&Rh(),fr(e),null;case 19:if(ct(gt),s=e.memoizedState,s===null)return fr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)ml(s,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Lh(t),a!==null){for(e.flags|=128,ml(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return st(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>wo&&(e.flags|=128,n=!0,ml(s,!1),e.lanes=4194304)}else{if(!n)if(t=Lh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!dt)return fr(e),null}else 2*At()-s.renderingStartTime>wo&&r!==1073741824&&(e.flags|=128,n=!0,ml(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,r=gt.current,st(gt,n?r&1|2:r&1),e):(fr(e),null);case 22:case 23:return Cm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Hr&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function BC(t,e){switch(om(e),e.tag){case 1:return Fr(e.type)&&Rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),ct(Dr),ct(yr),gm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mm(e),null;case 13:if(ct(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(gt),null;case 4:return xo(),null;case 10:return hm(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var Fc=!1,mr=!1,UC=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ya(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(t,e,n)}else r.current=null}function tp(t,e,r){try{r()}catch(n){Et(t,e,n)}}var Rv=!1;function jC(t,e){if(Vd=Sh,t=Jx(),sm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===r&&++c===i&&(o=a),d===s&&++h===n&&(l=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bd={focusedElem:t,selectionRange:r},Sh=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,g=_.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:xn(e.type,v),g);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(M){Et(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return _=Rv,Rv=!1,_}function Ll(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tp(e,r,s)}i=i.next}while(i!==n)}}function Nf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qE(t){var e=t.alternate;e!==null&&(t.alternate=null,qE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[su],delete e[zd],delete e[TC],delete e[SC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XE(t){return t.tag===5||t.tag===3||t.tag===4}function kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function np(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ch));else if(n!==4&&(t=t.child,t!==null))for(np(t,e,r),t=t.sibling;t!==null;)np(t,e,r),t=t.sibling}function ip(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ip(t,e,r),t=t.sibling;t!==null;)ip(t,e,r),t=t.sibling}var Yt=null,En=!1;function Fi(t,e,r){for(r=r.child;r!==null;)QE(t,e,r),r=r.sibling}function QE(t,e,r){if(Un&&typeof Un.onCommitFiberUnmount=="function")try{Un.onCommitFiberUnmount(Tf,r)}catch{}switch(r.tag){case 5:mr||Ya(r,e);case 6:var n=Yt,i=En;Yt=null,Fi(t,e,r),Yt=n,En=i,Yt!==null&&(En?(t=Yt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Yt.removeChild(r.stateNode));break;case 18:Yt!==null&&(En?(t=Yt,r=r.stateNode,t.nodeType===8?B0(t.parentNode,r):t.nodeType===1&&B0(t,r),eu(t)):B0(Yt,r.stateNode));break;case 4:n=Yt,i=En,Yt=r.stateNode.containerInfo,En=!0,Fi(t,e,r),Yt=n,En=i;break;case 0:case 11:case 14:case 15:if(!mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&tp(r,e,a),i=i.next}while(i!==n)}Fi(t,e,r);break;case 1:if(!mr&&(Ya(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Et(r,e,o)}Fi(t,e,r);break;case 21:Fi(t,e,r);break;case 22:r.mode&1?(mr=(n=mr)||r.memoizedState!==null,Fi(t,e,r),mr=n):Fi(t,e,r);break;default:Fi(t,e,r)}}function Pv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new UC),e.forEach(function(n){var i=QC.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Yt=o.stateNode,En=!1;break e;case 3:Yt=o.stateNode.containerInfo,En=!0;break e;case 4:Yt=o.stateNode.containerInfo,En=!0;break e}o=o.return}if(Yt===null)throw Error(ae(160));QE(s,a,i),Yt=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Et(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)YE(e,t),e=e.sibling}function YE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vn(e,t),Fn(t),n&4){try{Ll(3,t,t.return),Nf(3,t)}catch(v){Et(t,t.return,v)}try{Ll(5,t,t.return)}catch(v){Et(t,t.return,v)}}break;case 1:vn(e,t),Fn(t),n&512&&r!==null&&Ya(r,r.return);break;case 5:if(vn(e,t),Fn(t),n&512&&r!==null&&Ya(r,r.return),t.flags&32){var i=t.stateNode;try{Ql(i,"")}catch(v){Et(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&yx(i,s),Rd(o,a);var c=Rd(o,s);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?Sx(i,f):h==="dangerouslySetInnerHTML"?wx(i,f):h==="children"?Ql(i,f):Gp(i,h,f,c)}switch(o){case"input":Td(i,s);break;case"textarea":xx(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?to(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?to(i,!!s.multiple,s.defaultValue,!0):to(i,!!s.multiple,s.multiple?[]:"",!1))}i[su]=s}catch(v){Et(t,t.return,v)}}break;case 6:if(vn(e,t),Fn(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Et(t,t.return,v)}}break;case 3:if(vn(e,t),Fn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{eu(e.containerInfo)}catch(v){Et(t,t.return,v)}break;case 4:vn(e,t),Fn(t);break;case 13:vn(e,t),Fn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Am=At())),n&4&&Pv(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(mr=(c=mr)||h,vn(e,t),mr=c):vn(e,t),Fn(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ve=t,h=t.child;h!==null;){for(f=ve=h;ve!==null;){switch(d=ve,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ll(4,d,d.return);break;case 1:Ya(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){Et(n,r,v)}}break;case 5:Ya(d,d.return);break;case 22:if(d.memoizedState!==null){Ov(f);continue}}m!==null?(m.return=d,ve=m):Ov(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Tx("display",a))}catch(v){Et(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Et(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vn(e,t),Fn(t),n&4&&Pv(t);break;case 21:break;default:vn(e,t),Fn(t)}}function Fn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(XE(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ql(i,""),n.flags&=-33);var s=kv(t);ip(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kv(t);np(t,o,a);break;default:throw Error(ae(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zC(t,e,r){ve=t,JE(t)}function JE(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Fc;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||mr;o=Fc;var c=mr;if(Fc=a,(mr=l)&&!c)for(ve=i;ve!==null;)a=ve,l=a.child,a.tag===22&&a.memoizedState!==null?Dv(i):l!==null?(l.return=a,ve=l):Dv(i);for(;s!==null;)ve=s,JE(s),s=s.sibling;ve=i,Fc=o,mr=c}Nv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):Nv(t)}}function Nv(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mr||Nf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:xn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&mv(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}mv(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&eu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}mr||e.flags&512&&rp(e)}catch(d){Et(e,e.return,d)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function Ov(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function Dv(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Nf(4,e)}catch(l){Et(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{rp(e)}catch(l){Et(e,s,l)}break;case 5:var a=e.return;try{rp(e)}catch(l){Et(e,a,l)}}}catch(l){Et(e,e.return,l)}if(e===t){ve=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ve=o;break}ve=e.return}}var WC=Math.ceil,Vh=Ai.ReactCurrentDispatcher,Tm=Ai.ReactCurrentOwner,hn=Ai.ReactCurrentBatchConfig,ze=0,$t=null,Pt=null,nr=0,Hr=0,Ja=Es(0),Vt=0,hu=null,ia=0,Of=0,Sm=0,Ml=null,Pr=null,Am=0,wo=1/0,ni=null,Bh=!1,sp=null,rs=null,Lc=!1,Gi=null,Uh=0,bl=0,ap=null,ah=-1,oh=0;function Sr(){return ze&6?At():ah!==-1?ah:ah=At()}function ns(t){return t.mode&1?ze&2&&nr!==0?nr&-nr:IC.transition!==null?(oh===0&&(oh=Mx()),oh):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:Wx(t.type)),t):1}function In(t,e,r,n){if(50<bl)throw bl=0,ap=null,Error(ae(185));Ou(t,r,n),(!(ze&2)||t!==$t)&&(t===$t&&(!(ze&2)&&(Of|=r),Vt===4&&Ui(t,nr)),Lr(t,n),r===1&&ze===0&&!(e.mode&1)&&(wo=At()+500,Rf&&ws()))}function Lr(t,e){var r=t.callbackNode;II(t,e);var n=Th(t,t===$t?nr:0);if(n===0)r!==null&&z1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&z1(r),e===1)t.tag===0?AC(Fv.bind(null,t)):lE(Fv.bind(null,t)),EC(function(){!(ze&6)&&ws()}),r=null;else{switch(bx(n)){case 1:r=Yp;break;case 4:r=Fx;break;case 16:r=wh;break;case 536870912:r=Lx;break;default:r=wh}r=aw(r,ZE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ZE(t,e){if(ah=-1,oh=0,ze&6)throw Error(ae(327));var r=t.callbackNode;if(ao()&&t.callbackNode!==r)return null;var n=Th(t,t===$t?nr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jh(t,n);else{e=n;var i=ze;ze|=2;var s=tw();($t!==t||nr!==e)&&(ni=null,wo=At()+500,Ys(t,e));do try{GC();break}catch(o){ew(t,o)}while(!0);cm(),Vh.current=s,ze=i,Pt!==null?e=0:($t=null,nr=0,e=Vt)}if(e!==0){if(e===2&&(i=Dd(t),i!==0&&(n=i,e=op(t,i))),e===1)throw r=hu,Ys(t,0),Ui(t,n),Lr(t,At()),r;if(e===6)Ui(t,n);else{if(i=t.current.alternate,!(n&30)&&!HC(i)&&(e=jh(t,n),e===2&&(s=Dd(t),s!==0&&(n=s,e=op(t,s))),e===1))throw r=hu,Ys(t,0),Ui(t,n),Lr(t,At()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:Ws(t,Pr,ni);break;case 3:if(Ui(t,n),(n&130023424)===n&&(e=Am+500-At(),10<e)){if(Th(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jd(Ws.bind(null,t,Pr,ni),e);break}Ws(t,Pr,ni);break;case 4:if(Ui(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-An(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=At()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WC(n/1960))-n,10<n){t.timeoutHandle=jd(Ws.bind(null,t,Pr,ni),n);break}Ws(t,Pr,ni);break;case 5:Ws(t,Pr,ni);break;default:throw Error(ae(329))}}}return Lr(t,At()),t.callbackNode===r?ZE.bind(null,t):null}function op(t,e){var r=Ml;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=jh(t,e),t!==2&&(e=Pr,Pr=r,e!==null&&lp(e)),t}function lp(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function HC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~Sm,e&=~Of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-An(e),n=1<<r;t[r]=-1,e&=~n}}function Fv(t){if(ze&6)throw Error(ae(327));ao();var e=Th(t,0);if(!(e&1))return Lr(t,At()),null;var r=jh(t,e);if(t.tag!==0&&r===2){var n=Dd(t);n!==0&&(e=n,r=op(t,n))}if(r===1)throw r=hu,Ys(t,0),Ui(t,e),Lr(t,At()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ws(t,Pr,ni),Lr(t,At()),null}function Im(t,e){var r=ze;ze|=1;try{return t(e)}finally{ze=r,ze===0&&(wo=At()+500,Rf&&ws())}}function sa(t){Gi!==null&&Gi.tag===0&&!(ze&6)&&ao();var e=ze;ze|=1;var r=hn.transition,n=Ze;try{if(hn.transition=null,Ze=1,t)return t()}finally{Ze=n,hn.transition=r,ze=e,!(ze&6)&&ws()}}function Cm(){Hr=Ja.current,ct(Ja)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xC(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(om(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rh();break;case 3:xo(),ct(Dr),ct(yr),gm();break;case 5:mm(n);break;case 4:xo();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:hm(n.type._context);break;case 22:case 23:Cm()}r=r.return}if($t=t,Pt=t=is(t.current,null),nr=Hr=e,Vt=0,hu=null,Sm=Of=ia=0,Pr=Ml=null,qs!==null){for(e=0;e<qs.length;e++)if(r=qs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}qs=null}return t}function ew(t,e){do{var r=Pt;try{if(cm(),nh.current=bh,Mh){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Mh=!1}if(na=0,jt=bt=vt=null,Fl=!1,lu=0,Tm.current=null,r===null||r.return===null){Vt=1,hu=e,Pt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=nr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Ev(a);if(m!==null){m.flags&=-257,wv(m,a,o,s,e),m.mode&1&&xv(s,c,e),e=m,l=c;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){xv(s,c,e),Rm();break e}l=Error(ae(426))}}else if(dt&&o.mode&1){var g=Ev(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),wv(g,a,o,s,e),lm(Eo(l,o));break e}}s=l=Eo(l,o),Vt!==4&&(Vt=2),Ml===null?Ml=[s]:Ml.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=bE(s,l,e);pv(s,w);break e;case 1:o=l;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(rs===null||!rs.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=VE(s,o,e);pv(s,M);break e}}s=s.return}while(s!==null)}nw(r)}catch(z){e=z,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function tw(){var t=Vh.current;return Vh.current=bh,t===null?bh:t}function Rm(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),$t===null||!(ia&268435455)&&!(Of&268435455)||Ui($t,nr)}function jh(t,e){var r=ze;ze|=2;var n=tw();($t!==t||nr!==e)&&(ni=null,Ys(t,e));do try{$C();break}catch(i){ew(t,i)}while(!0);if(cm(),ze=r,Vh.current=n,Pt!==null)throw Error(ae(261));return $t=null,nr=0,Vt}function $C(){for(;Pt!==null;)rw(Pt)}function GC(){for(;Pt!==null&&!vI();)rw(Pt)}function rw(t){var e=sw(t.alternate,t,Hr);t.memoizedProps=t.pendingProps,e===null?nw(t):Pt=e,Tm.current=null}function nw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=BC(r,e),r!==null){r.flags&=32767,Pt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Pt=null;return}}else if(r=VC(r,e,Hr),r!==null){Pt=r;return}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Ws(t,e,r){var n=Ze,i=hn.transition;try{hn.transition=null,Ze=1,KC(t,e,r,n)}finally{hn.transition=i,Ze=n}return null}function KC(t,e,r,n){do ao();while(Gi!==null);if(ze&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(CI(t,s),t===$t&&(Pt=$t=null,nr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lc||(Lc=!0,aw(wh,function(){return ao(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var a=Ze;Ze=1;var o=ze;ze|=4,Tm.current=null,jC(t,r),YE(r,t),dC(Bd),Sh=!!Vd,Bd=Vd=null,t.current=r,zC(r),_I(),ze=o,Ze=a,hn.transition=s}else t.current=r;if(Lc&&(Lc=!1,Gi=t,Uh=i),s=t.pendingLanes,s===0&&(rs=null),EI(r.stateNode),Lr(t,At()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Bh)throw Bh=!1,t=sp,sp=null,t;return Uh&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===ap?bl++:(bl=0,ap=t):bl=0,ws(),null}function ao(){if(Gi!==null){var t=bx(Uh),e=hn.transition,r=Ze;try{if(hn.transition=null,Ze=16>t?16:t,Gi===null)var n=!1;else{if(t=Gi,Gi=null,Uh=0,ze&6)throw Error(ae(331));var i=ze;for(ze|=4,ve=t.current;ve!==null;){var s=ve,a=s.child;if(ve.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ve=c;ve!==null;){var h=ve;switch(h.tag){case 0:case 11:case 15:Ll(8,h,s)}var f=h.child;if(f!==null)f.return=h,ve=f;else for(;ve!==null;){h=ve;var d=h.sibling,m=h.return;if(qE(h),h===c){ve=null;break}if(d!==null){d.return=m,ve=d;break}ve=m}}}var _=s.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}ve=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ve=a;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ll(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ve=w;break e}ve=s.return}}var x=t.current;for(ve=x;ve!==null;){a=ve;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,ve=E;else e:for(a=x;ve!==null;){if(o=ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Nf(9,o)}}catch(z){Et(o,o.return,z)}if(o===a){ve=null;break e}var M=o.sibling;if(M!==null){M.return=o.return,ve=M;break e}ve=o.return}}if(ze=i,ws(),Un&&typeof Un.onPostCommitFiberRoot=="function")try{Un.onPostCommitFiberRoot(Tf,t)}catch{}n=!0}return n}finally{Ze=r,hn.transition=e}}return!1}function Lv(t,e,r){e=Eo(r,e),e=bE(t,e,1),t=ts(t,e,1),e=Sr(),t!==null&&(Ou(t,1,e),Lr(t,e))}function Et(t,e,r){if(t.tag===3)Lv(t,t,r);else for(;e!==null;){if(e.tag===3){Lv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rs===null||!rs.has(n))){t=Eo(r,t),t=VE(e,t,1),e=ts(e,t,1),t=Sr(),e!==null&&(Ou(e,1,t),Lr(e,t));break}}e=e.return}}function qC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Sr(),t.pingedLanes|=t.suspendedLanes&r,$t===t&&(nr&r)===r&&(Vt===4||Vt===3&&(nr&130023424)===nr&&500>At()-Am?Ys(t,0):Sm|=r),Lr(t,e)}function iw(t,e){e===0&&(t.mode&1?(e=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):e=1);var r=Sr();t=vi(t,e),t!==null&&(Ou(t,e,r),Lr(t,r))}function XC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),iw(t,r)}function QC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),iw(t,r)}var sw;sw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dr.current)Or=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Or=!1,bC(t,e,r);Or=!!(t.flags&131072)}else Or=!1,dt&&e.flags&1048576&&uE(e,Nh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;sh(t,e),t=e.pendingProps;var i=vo(e,yr.current);so(e,r),i=_m(null,e,n,t,i,r);var s=ym();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(n)?(s=!0,kh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dm(e),i.updater=Pf,e.stateNode=i,i._reactInternals=e,qd(e,n,t,r),e=Yd(null,e,n,!0,s,r)):(e.tag=0,dt&&s&&am(e),Er(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(sh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=JC(n),t=xn(n,t),i){case 0:e=Qd(null,e,n,t,r);break e;case 1:e=Av(null,e,n,t,r);break e;case 11:e=Tv(null,e,n,t,r);break e;case 14:e=Sv(null,e,n,xn(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),Qd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),Av(t,e,n,i,r);case 3:e:{if(zE(e),t===null)throw Error(ae(387));n=e.pendingProps,s=e.memoizedState,i=s.element,mE(t,e),Fh(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eo(Error(ae(423)),e),e=Iv(t,e,n,r,i);break e}else if(n!==i){i=Eo(Error(ae(424)),e),e=Iv(t,e,n,r,i);break e}else for(qr=es(e.stateNode.containerInfo.firstChild),Qr=e,dt=!0,wn=null,r=dE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_o(),n===i){e=_i(t,e,r);break e}Er(t,e,n,r)}e=e.child}return e;case 5:return gE(e),t===null&&$d(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Ud(n,i)?a=null:s!==null&&Ud(n,s)&&(e.flags|=32),jE(t,e),Er(t,e,a,r),e.child;case 6:return t===null&&$d(e),null;case 13:return WE(t,e,r);case 4:return pm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yo(e,null,n,r):Er(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),Tv(t,e,n,i,r);case 7:return Er(t,e,e.pendingProps,r),e.child;case 8:return Er(t,e,e.pendingProps.children,r),e.child;case 12:return Er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,st(Oh,n._currentValue),n._currentValue=a,s!==null)if(kn(s.value,a)){if(s.children===i.children&&!Dr.current){e=_i(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=hi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Gd(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ae(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Gd(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Er(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,so(e,r),i=fn(i),n=n(i),e.flags|=1,Er(t,e,n,r),e.child;case 14:return n=e.type,i=xn(n,e.pendingProps),i=xn(n.type,i),Sv(t,e,n,i,r);case 15:return BE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xn(n,i),sh(t,e),e.tag=1,Fr(n)?(t=!0,kh(e)):t=!1,so(e,r),ME(e,n,i),qd(e,n,i,r),Yd(null,e,n,!0,t,r);case 19:return HE(t,e,r);case 22:return UE(t,e,r)}throw Error(ae(156,e.tag))};function aw(t,e){return Dx(t,e)}function YC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new YC(t,e,r,n)}function km(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JC(t){if(typeof t=="function")return km(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qp)return 11;if(t===Xp)return 14}return 2}function is(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function lh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")km(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case za:return Js(r.children,i,s,e);case Kp:a=8,i|=8;break;case _d:return t=cn(12,r,e,i|2),t.elementType=_d,t.lanes=s,t;case yd:return t=cn(13,r,e,i),t.elementType=yd,t.lanes=s,t;case xd:return t=cn(19,r,e,i),t.elementType=xd,t.lanes=s,t;case gx:return Df(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case px:a=10;break e;case mx:a=9;break e;case qp:a=11;break e;case Xp:a=14;break e;case bi:a=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=cn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Js(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function Df(t,e,r,n){return t=cn(22,t,n,e),t.elementType=gx,t.lanes=r,t.stateNode={isHidden:!1},t}function K0(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function q0(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ZC(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Pm(t,e,r,n,i,s,a,o,l){return t=new ZC(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dm(s),t}function eR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ow(t){if(!t)return ds;t=t._reactInternals;e:{if(ga(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(Fr(r))return oE(t,r,e)}return e}function lw(t,e,r,n,i,s,a,o,l){return t=Pm(r,n,!0,t,i,s,a,o,l),t.context=ow(null),r=t.current,n=Sr(),i=ns(r),s=hi(n,i),s.callback=e??null,ts(r,s,i),t.current.lanes=i,Ou(t,i,n),Lr(t,n),t}function Ff(t,e,r,n){var i=e.current,s=Sr(),a=ns(i);return r=ow(r),e.context===null?e.context=r:e.pendingContext=r,e=hi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ts(i,e,a),t!==null&&(In(t,i,a,s),rh(t,i,a)),a}function zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Nm(t,e){Mv(t,e),(t=t.alternate)&&Mv(t,e)}function tR(){return null}var uw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Om(t){this._internalRoot=t}Lf.prototype.render=Om.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Ff(t,e,null,null)};Lf.prototype.unmount=Om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){Ff(null,t,null,null)}),e[gi]=null}};function Lf(t){this._internalRoot=t}Lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ux();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Bi.length&&e!==0&&e<Bi[r].priority;r++);Bi.splice(r,0,t),r===0&&zx(t)}};function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bv(){}function rR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=zh(a);s.call(c)}}var a=lw(e,n,t,0,null,!1,!1,"",bv);return t._reactRootContainer=a,t[gi]=a.current,nu(t.nodeType===8?t.parentNode:t),sa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=zh(l);o.call(c)}}var l=Pm(t,0,!1,null,null,!1,!1,"",bv);return t._reactRootContainer=l,t[gi]=l.current,nu(t.nodeType===8?t.parentNode:t),sa(function(){Ff(e,l,r,n)}),l}function bf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=zh(a);o.call(l)}}Ff(e,a,t,i)}else a=rR(r,e,t,i,n);return zh(a)}Vx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=El(e.pendingLanes);r!==0&&(Jp(e,r|1),Lr(e,At()),!(ze&6)&&(wo=At()+500,ws()))}break;case 13:sa(function(){var n=vi(t,1);if(n!==null){var i=Sr();In(n,t,1,i)}}),Nm(t,1)}};Zp=function(t){if(t.tag===13){var e=vi(t,134217728);if(e!==null){var r=Sr();In(e,t,134217728,r)}Nm(t,134217728)}};Bx=function(t){if(t.tag===13){var e=ns(t),r=vi(t,e);if(r!==null){var n=Sr();In(r,t,e,n)}Nm(t,e)}};Ux=function(){return Ze};jx=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};Pd=function(t,e,r){switch(e){case"input":if(Td(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Cf(n);if(!i)throw Error(ae(90));_x(n),Td(n,i)}}}break;case"textarea":xx(t,r);break;case"select":e=r.value,e!=null&&to(t,!!r.multiple,e,!1)}};Cx=Im;Rx=sa;var nR={usingClientEntryPoint:!1,Events:[Fu,Ga,Cf,Ax,Ix,Im]},gl={findFiberByHostInstance:Ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iR={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Nx(t),t===null?null:t.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||tR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{Tf=Mc.inject(iR),Un=Mc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nR;tn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(e))throw Error(ae(200));return eR(t,e,null,r)};tn.createRoot=function(t,e){if(!Dm(t))throw Error(ae(299));var r=!1,n="",i=uw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Pm(t,1,!1,null,null,r,!1,n,i),t[gi]=e.current,nu(t.nodeType===8?t.parentNode:t),new Om(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=Nx(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return sa(t)};tn.hydrate=function(t,e,r){if(!Mf(e))throw Error(ae(200));return bf(null,t,e,!0,r)};tn.hydrateRoot=function(t,e,r){if(!Dm(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=uw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=lw(e,null,t,1,r??null,i,!1,s,a),t[gi]=e.current,nu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Lf(e)};tn.render=function(t,e,r){if(!Mf(e))throw Error(ae(200));return bf(null,t,e,!1,r)};tn.unmountComponentAtNode=function(t){if(!Mf(t))throw Error(ae(40));return t._reactRootContainer?(sa(function(){bf(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};tn.unstable_batchedUpdates=Im;tn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Mf(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return bf(t,e,r,!1,n)};tn.version="18.3.1-next-f1338f8080-20240426";function cw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cw)}catch(t){console.error(t)}}cw(),cx.exports=tn;var sR=cx.exports,hw,Vv=sR;hw=Vv.createRoot,Vv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fu.apply(this,arguments)}var Ki;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ki||(Ki={}));const Bv="popstate";function aR(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return up("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wh(i)}return lR(e,r,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oR(){return Math.random().toString(36).substr(2,8)}function Uv(t,e){return{usr:t.state,key:t.key,idx:e}}function up(t,e,r,n){return r===void 0&&(r=null),fu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mo(e):e,{state:r,key:e&&e.key||n||oR()})}function Wh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Mo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function lR(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ki.Pop,l=null,c=h();c==null&&(c=0,a.replaceState(fu({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=Ki.Pop;let g=h(),w=g==null?null:g-c;c=g,l&&l({action:o,location:v.location,delta:w})}function d(g,w){o=Ki.Push;let x=up(v.location,g,w);c=h()+1;let E=Uv(x,c),M=v.createHref(x);try{a.pushState(E,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(M)}s&&l&&l({action:o,location:v.location,delta:1})}function m(g,w){o=Ki.Replace;let x=up(v.location,g,w);c=h();let E=Uv(x,c),M=v.createHref(x);a.replaceState(E,"",M),s&&l&&l({action:o,location:v.location,delta:0})}function _(g){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:Wh(g);return x=x.replace(/ $/,"%20"),It(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let v={get action(){return o},get location(){return t(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Bv,f),l=g,()=>{i.removeEventListener(Bv,f),l=null}},createHref(g){return e(i,g)},createURL:_,encodeLocation(g){let w=_(g);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:m,go(g){return a.go(g)}};return v}var jv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jv||(jv={}));function uR(t,e,r){return r===void 0&&(r="/"),cR(t,e,r,!1)}function cR(t,e,r,n){let i=typeof e=="string"?Mo(e):e,s=Fm(i.pathname||"/",r);if(s==null)return null;let a=dw(t);hR(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=wR(s);o=xR(a[l],c,n)}return o}function dw(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(It(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=ss([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dw(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:_R(c,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of pw(s.path))i(s,a,l)}),e}function pw(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=pw(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function hR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:yR(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const fR=/^:[\w-]+$/,dR=3,pR=2,mR=1,gR=10,vR=-2,zv=t=>t==="*";function _R(t,e){let r=t.split("/"),n=r.length;return r.some(zv)&&(n+=vR),e&&(n+=pR),r.filter(i=>!zv(i)).reduce((i,s)=>i+(fR.test(s)?dR:s===""?mR:gR),n)}function yR(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function xR(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Wv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),d=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=Wv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:ss([s,f.pathname]),pathnameBase:IR(ss([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=ss([s,f.pathnameBase]))}return a}function Wv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ER(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,h,f)=>{let{paramName:d,isOptional:m}=h;if(d==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const _=o[f];return m&&!_?c[d]=void 0:c[d]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function ER(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function wR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Fm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function TR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Mo(t):t;return{pathname:r?r.startsWith("/")?r:SR(r,e):e,search:CR(n),hash:RR(i)}}function SR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function X0(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AR(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Lm(t,e){let r=AR(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Mm(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Mo(t):(i=fu({},t),It(!i.pathname||!i.pathname.includes("?"),X0("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),X0("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),X0("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=TR(i,o),c=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ss=t=>t.join("/").replace(/\/\/+/g,"/"),IR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mw=["post","put","patch","delete"];new Set(mw);const PR=["get",...mw];new Set(PR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}const bm=J.createContext(null),NR=J.createContext(null),Ts=J.createContext(null),Vf=J.createContext(null),Ss=J.createContext({outlet:null,matches:[],isDataRoute:!1}),gw=J.createContext(null);function OR(t,e){let{relative:r}=e===void 0?{}:e;bo()||It(!1);let{basename:n,navigator:i}=J.useContext(Ts),{hash:s,pathname:a,search:o}=_w(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:ss([n,a])),i.createHref({pathname:l,search:o,hash:s})}function bo(){return J.useContext(Vf)!=null}function Vo(){return bo()||It(!1),J.useContext(Vf).location}function vw(t){J.useContext(Ts).static||J.useLayoutEffect(t)}function Mu(){let{isDataRoute:t}=J.useContext(Ss);return t?$R():DR()}function DR(){bo()||It(!1);let t=J.useContext(bm),{basename:e,future:r,navigator:n}=J.useContext(Ts),{matches:i}=J.useContext(Ss),{pathname:s}=Vo(),a=JSON.stringify(Lm(i,r.v7_relativeSplatPath)),o=J.useRef(!1);return vw(()=>{o.current=!0}),J.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=Mm(c,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ss([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,a,s,t])}function _w(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=J.useContext(Ts),{matches:i}=J.useContext(Ss),{pathname:s}=Vo(),a=JSON.stringify(Lm(i,n.v7_relativeSplatPath));return J.useMemo(()=>Mm(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function FR(t,e){return LR(t,e)}function LR(t,e,r,n){bo()||It(!1);let{navigator:i}=J.useContext(Ts),{matches:s}=J.useContext(Ss),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Vo(),h;if(e){var f;let g=typeof e=="string"?Mo(e):e;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||It(!1),h=g}else h=c;let d=h.pathname||"/",m=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let _=uR(t,{pathname:m}),v=UR(_&&_.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:ss([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:ss([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&v?J.createElement(Vf.Provider,{value:{location:du({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ki.Pop}},v):v}function MR(){let t=HR(),e=kR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),r?J.createElement("pre",{style:i},r):null,null)}const bR=J.createElement(MR,null);class VR extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?J.createElement(Ss.Provider,{value:this.props.routeContext},J.createElement(gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BR(t){let{routeContext:e,match:r,children:n}=t,i=J.useContext(bm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),J.createElement(Ss.Provider,{value:e},n)}function UR(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||It(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:d,errors:m}=r,_=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||_){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,f,d)=>{let m,_=!1,v=null,g=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||bR,l&&(c<0&&d===0?(_=!0,g=null):c===d&&(_=!0,g=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,d+1)),x=()=>{let E;return m?E=v:_?E=g:f.route.Component?E=J.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,J.createElement(BR,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?J.createElement(VR,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var yw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yw||{}),Hh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hh||{});function jR(t){let e=J.useContext(bm);return e||It(!1),e}function zR(t){let e=J.useContext(NR);return e||It(!1),e}function WR(t){let e=J.useContext(Ss);return e||It(!1),e}function xw(t){let e=WR(),r=e.matches[e.matches.length-1];return r.route.id||It(!1),r.route.id}function HR(){var t;let e=J.useContext(gw),r=zR(Hh.UseRouteError),n=xw(Hh.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $R(){let{router:t}=jR(yw.UseNavigateStable),e=xw(Hh.UseNavigateStable),r=J.useRef(!1);return vw(()=>{r.current=!0}),J.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,du({fromRouteId:e},s)))},[t,e])}function GR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ew(t){let{to:e,replace:r,state:n,relative:i}=t;bo()||It(!1);let{future:s,static:a}=J.useContext(Ts),{matches:o}=J.useContext(Ss),{pathname:l}=Vo(),c=Mu(),h=Mm(e,Lm(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return J.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:i}),[c,f,i,r,n]),null}function zr(t){It(!1)}function KR(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ki.Pop,navigator:s,static:a=!1,future:o}=t;bo()&&It(!1);let l=e.replace(/^\/*/,"/"),c=J.useMemo(()=>({basename:l,navigator:s,static:a,future:du({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Mo(n));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:_="default"}=n,v=J.useMemo(()=>{let g=Fm(h,l);return g==null?null:{location:{pathname:g,search:f,hash:d,state:m,key:_},navigationType:i}},[l,h,f,d,m,_,i]);return v==null?null:J.createElement(Ts.Provider,{value:c},J.createElement(Vf.Provider,{children:r,value:v}))}function qR(t){let{children:e,location:r}=t;return FR(cp(e),r)}new Promise(()=>{});function cp(t,e){e===void 0&&(e=[]);let r=[];return J.Children.forEach(t,(n,i)=>{if(!J.isValidElement(n))return;let s=[...e,i];if(n.type===J.Fragment){r.push.apply(r,cp(n.props.children,s));return}n.type!==zr&&It(!1),!n.props.index||!n.props.children||It(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=cp(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hp(){return hp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hp.apply(this,arguments)}function XR(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function QR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YR(t,e){return t.button===0&&(!e||e==="_self")&&!QR(t)}const JR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZR="6";try{window.__reactRouterVersion=ZR}catch{}const e4="startTransition",Hv=qA[e4];function t4(t){let{basename:e,children:r,future:n,window:i}=t,s=J.useRef();s.current==null&&(s.current=aR({window:i,v5Compat:!0}));let a=s.current,[o,l]=J.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},h=J.useCallback(f=>{c&&Hv?Hv(()=>l(f)):l(f)},[l,c]);return J.useLayoutEffect(()=>a.listen(h),[a,h]),J.useEffect(()=>GR(n),[n]),J.createElement(KR,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const r4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uh=J.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,d=XR(e,JR),{basename:m}=J.useContext(Ts),_,v=!1;if(typeof c=="string"&&n4.test(c)&&(_=c,r4))try{let E=new URL(window.location.href),M=c.startsWith("//")?new URL(E.protocol+c):new URL(c),z=Fm(M.pathname,m);M.origin===E.origin&&z!=null?c=z+M.search+M.hash:v=!0}catch{}let g=OR(c,{relative:i}),w=i4(c,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:f});function x(E){n&&n(E),E.defaultPrevented||w(E)}return J.createElement("a",hp({},d,{href:_||g,onClick:v||s?n:x,ref:r,target:l}))});var $v;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})($v||($v={}));var Gv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Gv||(Gv={}));function i4(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Mu(),c=Vo(),h=_w(t,{relative:a});return J.useCallback(f=>{if(YR(f,r)){f.preventDefault();let d=n!==void 0?n:Wh(c)===Wh(h);l(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,h,n,i,r,t,s,a,o])}var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},s4=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Tw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,m=c&63;l||(m=64,a||(d=64)),n.push(r[h],r[f],r[d],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ww(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||f==null)throw new a4;const d=s<<2|o>>4;if(n.push(d),c!==64){const m=o<<4&240|c>>2;if(n.push(m),f!==64){const _=c<<6&192|f;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o4=function(t){const e=ww(t);return Tw.encodeByteArray(e,!0)},$h=function(t){return o4(t).replace(/\./g,"")},Sw=function(t){try{return Tw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=()=>l4().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof Kv>"u")return;const t=Kv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sw(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return u4()||c4()||h4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Aw=t=>{var e,r;return(r=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},f4=t=>{const e=Aw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Iw=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},Cw=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$h(JSON.stringify(r)),$h(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xr())}function g4(){var t;const e=(t=Bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x4(){const t=xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E4(){return!g4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w4(){try{return typeof indexedDB=="object"}catch{return!1}}function T4(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="FirebaseError";class Ii extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=S4,Object.setPrototypeOf(this,Ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?A4(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ii(i,o,n)}}function A4(t,e){return t.replace(I4,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const I4=/\{\$([^}]+)}/g;function C4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(qv(s)&&qv(a)){if(!Gh(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function R4(t,e){const r=new k4(t,e);return r.subscribe.bind(r)}class k4{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");P4(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Q0),i.error===void 0&&(i.error=Q0),i.complete===void 0&&(i.complete=Q0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function P4(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Q0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class aa{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new d4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D4(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:O4(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O4(t){return t===Hs?void 0:t}function D4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new N4(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const L4={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},M4=Be.INFO,b4={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},V4=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=b4[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vm{constructor(e){this.name=e,this._logLevel=M4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const B4=(t,e)=>e.some(r=>t instanceof r);let Xv,Qv;function U4(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j4(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Rw=new WeakMap,fp=new WeakMap,kw=new WeakMap,Y0=new WeakMap,Bm=new WeakMap;function z4(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(as(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&Rw.set(r,t)}).catch(()=>{}),Bm.set(e,t),e}function W4(t){if(fp.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});fp.set(t,e)}let dp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return fp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return as(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H4(t){dp=t(dp)}function $4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(J0(this),e,...r);return kw.set(n,e.sort?e.sort():[e]),as(n)}:j4().includes(t)?function(...e){return t.apply(J0(this),e),as(Rw.get(this))}:function(...e){return as(t.apply(J0(this),e))}}function G4(t){return typeof t=="function"?$4(t):(t instanceof IDBTransaction&&W4(t),B4(t,U4())?new Proxy(t,dp):t)}function as(t){if(t instanceof IDBRequest)return z4(t);if(Y0.has(t))return Y0.get(t);const e=G4(t);return e!==t&&(Y0.set(t,e),Bm.set(e,t)),e}const J0=t=>Bm.get(t);function K4(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=as(a);return n&&a.addEventListener("upgradeneeded",l=>{n(as(a.result),l.oldVersion,l.newVersion,as(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const q4=["get","getKey","getAll","getAllKeys","count"],X4=["put","add","delete","clear"],Z0=new Map;function Yv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Z0.get(e))return Z0.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=X4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||q4.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return Z0.set(e,s),s}H4(t=>({...t,get:(e,r,n)=>Yv(e,r)||t.get(e,r,n),has:(e,r)=>!!Yv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Y4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Y4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pp="@firebase/app",Jv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Vm("@firebase/app"),J4="@firebase/app-compat",Z4="@firebase/analytics-compat",ek="@firebase/analytics",tk="@firebase/app-check-compat",rk="@firebase/app-check",nk="@firebase/auth",ik="@firebase/auth-compat",sk="@firebase/database",ak="@firebase/data-connect",ok="@firebase/database-compat",lk="@firebase/functions",uk="@firebase/functions-compat",ck="@firebase/installations",hk="@firebase/installations-compat",fk="@firebase/messaging",dk="@firebase/messaging-compat",pk="@firebase/performance",mk="@firebase/performance-compat",gk="@firebase/remote-config",vk="@firebase/remote-config-compat",_k="@firebase/storage",yk="@firebase/storage-compat",xk="@firebase/firestore",Ek="@firebase/vertexai-preview",wk="@firebase/firestore-compat",Tk="firebase",Sk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",Ak={[pp]:"fire-core",[J4]:"fire-core-compat",[ek]:"fire-analytics",[Z4]:"fire-analytics-compat",[rk]:"fire-app-check",[tk]:"fire-app-check-compat",[nk]:"fire-auth",[ik]:"fire-auth-compat",[sk]:"fire-rtdb",[ak]:"fire-data-connect",[ok]:"fire-rtdb-compat",[lk]:"fire-fn",[uk]:"fire-fn-compat",[ck]:"fire-iid",[hk]:"fire-iid-compat",[fk]:"fire-fcm",[dk]:"fire-fcm-compat",[pk]:"fire-perf",[mk]:"fire-perf-compat",[gk]:"fire-rc",[vk]:"fire-rc-compat",[_k]:"fire-gcs",[yk]:"fire-gcs-compat",[xk]:"fire-fst",[wk]:"fire-fst-compat",[Ek]:"fire-vertex","fire-js":"fire-js",[Tk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,Ik=new Map,gp=new Map;function Zv(t,e){try{t.container.addComponent(e)}catch(r){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function To(t){const e=t.name;if(gp.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;gp.set(e,t);for(const r of Kh.values())Zv(r,t);for(const r of Ik.values())Zv(r,t);return!0}function Um(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new bu("app","Firebase",Ck);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=Sk;function Pw(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:mp,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(r||(r=Iw()),!r)throw os.create("no-options");const s=Kh.get(i);if(s){if(Gh(r,s.options)&&Gh(n,s.config))return s;throw os.create("duplicate-app",{appName:i})}const a=new F4(i);for(const l of gp.values())a.addComponent(l);const o=new Rk(r,n,a);return Kh.set(i,o),o}function Nw(t=mp){const e=Kh.get(t);if(!e&&t===mp&&Iw())return Pw();if(!e)throw os.create("no-app",{appName:t});return e}function ls(t,e,r){var n;let i=(n=Ak[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(o.join(" "));return}To(new aa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk="firebase-heartbeat-database",Pk=1,pu="firebase-heartbeat-store";let ed=null;function Ow(){return ed||(ed=K4(kk,Pk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(pu)}catch(r){console.warn(r)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),ed}async function Nk(t){try{const r=(await Ow()).transaction(pu),n=await r.objectStore(pu).get(Dw(t));return await r.done,n}catch(e){if(e instanceof Ii)yi.warn(e.message);else{const r=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(r.message)}}}async function e_(t,e){try{const n=(await Ow()).transaction(pu,"readwrite");await n.objectStore(pu).put(e,Dw(t)),await n.done}catch(r){if(r instanceof Ii)yi.warn(r.message);else{const n=os.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yi.warn(n.message)}}}function Dw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=1024,Dk=30*24*60*60*1e3;class Fk{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Mk(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=Dk}),this._storage.overwrite(this._heartbeatsCache))}catch(n){yi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=t_(),{heartbeatsToSend:n,unsentEntries:i}=Lk(this._heartbeatsCache.heartbeats),s=$h(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return yi.warn(r),""}}}function t_(){return new Date().toISOString().substring(0,10)}function Lk(t,e=Ok){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),r_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),r_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Mk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w4()?T4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Nk(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r_(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){To(new aa("platform-logger",e=>new Q4(e),"PRIVATE")),To(new aa("heartbeat",e=>new Fk(e),"PRIVATE")),ls(pp,Jv,t),ls(pp,Jv,"esm2017"),ls("fire-js","")}bk("");function jm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Fw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vk=Fw,Lw=new bu("auth","Firebase",Fw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new Vm("@firebase/auth");function Bk(t,...e){qh.logLevel<=Be.WARN&&qh.warn(`Auth (${Bo}): ${t}`,...e)}function ch(t,...e){qh.logLevel<=Be.ERROR&&qh.error(`Auth (${Bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw zm(t,...e)}function zn(t,...e){return zm(t,...e)}function Mw(t,e,r){const n=Object.assign(Object.assign({},Vk()),{[e]:r});return new bu("auth","Firebase",n).create(e,{appName:t.name})}function us(t){return Mw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zm(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Lw.create(t,...e)}function Ce(t,e,...r){if(!t)throw zm(e,...r)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function xi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Uk(){return n_()==="http:"||n_()==="https:"}function n_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uk()||_4()||"connection"in navigator)?navigator.onLine:!0}function zk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,r){this.shortDelay=e,this.longDelay=r,xi(r>e,"Short delay should be less than long delay!"),this.isMobile=m4()||y4()}get(){return jk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){xi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Bu(3e4,6e4);function va(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function As(t,e,r,n,i={}){return Vw(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Vu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return v4()||(c.referrerPolicy="no-referrer"),bw.fetch()(Bw(t,t.config.apiHost,r,o),c)})}async function Vw(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},Wk),e);try{const i=new Gk(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw bc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw bc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw bc(t,"user-disabled",a);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Mw(t,h,c);Pn(t,h)}}catch(i){if(i instanceof Ii)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function Uf(t,e,r,n,i={}){const s=await As(t,e,r,n,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Bw(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Wm(t.config,i):`${t.config.apiScheme}://${i}`}function $k(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(zn(this.auth,"network-request-failed")),Hk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=zn(t,e,n);return i.customData._tokenResponse=r,i}function i_(t){return t!==void 0&&t.enterprise!==void 0}class Kk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return $k(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function qk(t,e){return As(t,"GET","/v2/recaptchaConfig",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){return As(t,"POST","/v1/accounts:delete",e)}async function Uw(t,e){return As(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qk(t,e=!1){const r=Gt(t),n=await r.getIdToken(e),i=Hm(n);Ce(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Vl(td(i.auth_time)),issuedAtTime:Vl(td(i.iat)),expirationTime:Vl(td(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function td(t){return Number(t)*1e3}function Hm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sw(r);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s_(t){const e=Hm(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ii&&Yk(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Yk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var e;const r=t.auth,n=await t.getIdToken(),i=await mu(t,Uw(r,{idToken:n}));Ce(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jw(s.providerUserInfo):[],o=eP(t.providerData,a),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _p(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function Zk(t){const e=Gt(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eP(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function jw(t){return t.map(e=>{var{providerId:r}=e,n=jm(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(t,e){const r=await Vw(t,{},async()=>{const n=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Bw(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",bw.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function rP(t,e){return As(t,"POST","/v2/accounts:revokeToken",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const r=s_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await tP(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new oo;return n&&(Ce(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ce(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ce(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=jm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _p(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Qk(this,e)}reload(){return Zk(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Xh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await mu(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,c,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,m=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,_=(a=r.photoURL)!==null&&a!==void 0?a:void 0,v=(o=r.tenantId)!==null&&o!==void 0?o:void 0,g=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:M,isAnonymous:z,providerData:q,stsTokenManager:T}=r;Ce(E&&T,e,"internal-error");const S=oo.fromJSON(this.name,T);Ce(typeof E=="string",e,"internal-error"),Li(f,e.name),Li(d,e.name),Ce(typeof M=="boolean",e,"internal-error"),Ce(typeof z=="boolean",e,"internal-error"),Li(m,e.name),Li(_,e.name),Li(v,e.name),Li(g,e.name),Li(w,e.name),Li(x,e.name);const A=new ui({uid:E,auth:e,email:d,emailVerified:M,displayName:f,isAnonymous:z,photoURL:_,phoneNumber:m,tenantId:v,stsTokenManager:S,createdAt:w,lastLoginAt:x});return q&&Array.isArray(q)&&(A.providerData=q.map(C=>Object.assign({},C))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new oo;i.updateFromServerResponse(r);const s=new ui({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Xh(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jw(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new oo;o.updateFromIdToken(n);const l=new ui({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;function ci(t){xi(t instanceof Function,"Expected a class definition");let e=a_.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}zw.type="NONE";const o_=zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,r){return`firebase:${t}:${e}:${r}`}class lo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=hh(this.userKey,i.apiKey,s),this.fullPersistenceKey=hh("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new lo(ci(o_),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ci(o_);const a=hh(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const h=await c._get(a);if(h){const f=ui._fromJSON(e,h);c!==s&&(o=f),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lo(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new lo(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ww(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qw(e))return"Blackberry";if(Xw(e))return"Webos";if(Hw(e))return"Safari";if((e.includes("chrome/")||$w(e))&&!e.includes("edge/"))return"Chrome";if(Kw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Ww(t=xr()){return/firefox\//i.test(t)}function Hw(t=xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $w(t=xr()){return/crios\//i.test(t)}function Gw(t=xr()){return/iemobile/i.test(t)}function Kw(t=xr()){return/android/i.test(t)}function qw(t=xr()){return/blackberry/i.test(t)}function Xw(t=xr()){return/webos/i.test(t)}function $m(t=xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nP(t=xr()){var e;return $m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function iP(){return x4()&&document.documentMode===10}function Qw(t=xr()){return $m(t)||Kw(t)||Xw(t)||qw(t)||/windows phone/i.test(t)||Gw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e=[]){let r;switch(t){case"Browser":r=l_(xr());break;case"Worker":r=`${l_(xr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Bo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(t,e={}){return As(t,"GET","/v2/passwordPolicy",va(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=6;class lP{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:oP,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new sP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ci(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Uw(this,{idToken:e}),n=await ui._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(us(this));const r=e?Gt(e):null;return r&&Ce(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aP(this),r=new lP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await rP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ci(e)||this._popupRedirectResolver;Ce(r,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ci(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&Bk(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Uo(t){return Gt(t)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=R4(r=>this.observer=r)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cP(t){jf=t}function Jw(t){return jf.loadJS(t)}function hP(){return jf.recaptchaEnterpriseScript}function fP(){return jf.gapiScript}function dP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pP="recaptcha-enterprise",mP="NO_RECAPTCHA";class gP{constructor(e){this.type=pP,this.auth=Uo(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{qk(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Kk(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;i_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(mP)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&i_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=hP();l.length!==0&&(l+=o),Jw(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function c_(t,e,r,n=!1){const i=new gP(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function h_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await c_(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await c_(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){const r=Um(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Gh(s,e??{}))return i;Pn(i,"already-initialized")}return r.initialize({options:e})}function _P(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function yP(t,e,r){const n=Uo(t);Ce(n._canInitEmulator,n,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=Zw(e),{host:a,port:o}=xP(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),EP()}function Zw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xP(t){const e=Zw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:f_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:f_(a)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EP(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,r){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function wP(t,e){return As(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e){return Uf(t,"POST","/v1/accounts:signInWithPassword",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP(t,e){return Uf(t,"POST","/v1/accounts:signInWithEmailLink",va(t,e))}async function AP(t,e){return Uf(t,"POST","/v1/accounts:signInWithEmailLink",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends Gm{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new gu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new gu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,r,"signInWithPassword",TP);case"emailLink":return SP(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,n,"signUpPassword",wP);case"emailLink":return AP(e,{idToken:r,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e){return Uf(t,"POST","/v1/accounts:signInWithIdp",va(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="http://localhost";class oa extends Gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Pn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=jm(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new oa(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return uo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,uo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,uo(e,r)}buildRequest(){const e={requestUri:IP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Vu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RP(t){const e=Tl(Sl(t)).link,r=e?Tl(Sl(e)).deep_link_id:null,n=Tl(Sl(t)).deep_link_id;return(n?Tl(Sl(n)).link:null)||n||r||e||t}class Km{constructor(e){var r,n,i,s,a,o;const l=Tl(Sl(e)),c=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=CP((i=l.mode)!==null&&i!==void 0?i:null);Ce(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=RP(e);try{return new Km(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(){this.providerId=jo.PROVIDER_ID}static credential(e,r){return gu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Km.parseLink(r);return Ce(n,"argument-error"),gu._fromEmailAndCode(e,n.code,n.tenantId)}}jo.PROVIDER_ID="password";jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends eT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Uu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return oa._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return zi.credential(r,n)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Uu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Uu{constructor(){super("twitter.com")}static credential(e,r){return oa._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Hi.credential(r,n)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ui._fromIdTokenResponse(e,n,i),a=d_(n);return new So({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=d_(n);return new So({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function d_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Ii{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Qh(e,r,n,i)}}function tT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,s,e,n):s})}async function kP(t,e,r=!1){const n=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return So._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e,r=!1){const{auth:n}=t;if(oi(n.app))return Promise.reject(us(n));const i="reauthenticate";try{const s=await mu(t,tT(n,i,e,t),r);Ce(s.idToken,n,"internal-error");const a=Hm(s.idToken);Ce(a,n,"internal-error");const{sub:o}=a;return Ce(t.uid===o,n,"user-mismatch"),So._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(t,e,r=!1){if(oi(t.app))return Promise.reject(us(t));const n="signIn",i=await tT(t,n,e),s=await So._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function NP(t,e){return rT(Uo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(t){const e=Uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function DP(t,e,r){return oi(t.app)?Promise.reject(us(t)):NP(Gt(t),jo.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&OP(t),n})}function FP(t,e,r,n){return Gt(t).onIdTokenChanged(e,r,n)}function LP(t,e,r){return Gt(t).beforeAuthStateChanged(e,r)}function MP(t,e,r,n){return Gt(t).onAuthStateChanged(e,r,n)}function bP(t){return Gt(t).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=1e3,BP=10;class iT extends nT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);iP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,BP):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},VP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}iT.type="LOCAL";const UP=iT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends nT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}sT.type="SESSION";const aT=sT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new zf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async c=>c(r.origin,s)),l=await jP(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=qm("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function WP(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function HP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $P(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GP(){return oT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="firebaseLocalStorageDb",KP=1,Jh="firebaseLocalStorage",uT="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Wf(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function qP(){const t=indexedDB.deleteDatabase(lT);return new ju(t).toPromise()}function yp(){const t=indexedDB.open(lT,KP);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Jh,{keyPath:uT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Jh)?e(n):(n.close(),await qP(),e(await yp()))})})}async function p_(t,e,r){const n=Wf(t,!0).put({[uT]:e,value:r});return new ju(n).toPromise()}async function XP(t,e){const r=Wf(t,!1).get(e),n=await new ju(r).toPromise();return n===void 0?null:n.value}function m_(t,e){const r=Wf(t,!0).delete(e);return new ju(r).toPromise()}const QP=800,YP=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>YP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zf._getInstance(GP()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await HP(),!this.activeServiceWorker)return;this.sender=new zP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$P()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await p_(e,Yh,"1"),await m_(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>p_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>XP(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Wf(i,!1).getAll();return new ju(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const JP=cT;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t,e){return e?ci(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm extends Gm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return uo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function eN(t){return rT(t.auth,new Xm(t),t.bypassAuthState)}function tN(t){const{auth:e,user:r}=t;return Ce(r,e,"internal-error"),PP(r,new Xm(t),t.bypassAuthState)}async function rN(t){const{auth:e,user:r}=t;return Ce(r,e,"internal-error"),kP(r,new Xm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Pn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new Bu(2e3,1e4);class Za extends hT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nN.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",fh=new Map;class sN extends hT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const n=await aN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aN(t,e){const r=uN(e),n=lN(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function oN(t,e){fh.set(t._key(),e)}function lN(t){return ci(t._redirectPersistence)}function uN(t){return hh(iN,t.config.apiKey,t.name)}async function cN(t,e,r=!1){if(oi(t.app))return Promise.reject(us(t));const n=Uo(t),i=ZP(n,e),a=await new sN(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=10*60*1e3;class fN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!fT(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(zn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e={}){return As(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function vN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pN(t);for(const r of e)try{if(_N(r))return}catch{}Pn(t,"unauthorized-domain")}function _N(t){const e=vp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!gN.test(r))return!1;if(mN.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Bu(3e4,6e4);function v_(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function xN(t){return new Promise((e,r)=>{var n,i,s;function a(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),r(zn(t,"network-request-failed"))},timeout:yN.get()})}if(!((i=(n=Wn().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Wn().gapi)===null||s===void 0)&&s.load)a();else{const o=dP("iframefcb");return Wn()[o]=()=>{gapi.load?a():r(zn(t,"network-request-failed"))},Jw(`${fP()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw dh=null,e})}let dh=null;function EN(t){return dh=dh||xN(t),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new Bu(5e3,15e3),TN="__/auth/iframe",SN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Wm(e,SN):`https://${t.config.authDomain}/${TN}`,n={apiKey:e.apiKey,appName:t.name,v:Bo},i=IN.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Vu(n).slice(1)}`}async function RN(t){const e=await EN(t),r=Wn().gapi;return Ce(r,t,"internal-error"),e.open({where:document.body,url:CN(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=zn(t,"network-request-failed"),o=Wn().setTimeout(()=>{s(a)},wN.get());function l(){Wn().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PN=500,NN=600,ON="_blank",DN="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FN(t,e,r,n=PN,i=NN){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},kN),{width:n.toString(),height:i.toString(),top:s,left:a}),c=xr().toLowerCase();r&&(o=$w(c)?ON:r),Ww(c)&&(e=e||DN,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[m,_])=>`${d}${m}=${_},`,"");if(nP(c)&&o!=="_self")return LN(e||"",o),new __(null);const f=window.open(e||"",o,h);Ce(f,t,"popup-blocked");try{f.focus()}catch{}return new __(f)}function LN(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN="__/auth/handler",bN="emulator/auth/handler",VN=encodeURIComponent("fac");async function y_(t,e,r,n,i,s){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Bo,eventId:i};if(e instanceof eT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",C4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof Uu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${VN}=${encodeURIComponent(l)}`:"";return`${BN(t)}?${Vu(o).slice(1)}${c}`}function BN({config:t}){return t.emulator?Wm(t,bN):`https://${t.authDomain}/${MN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="webStorageSupport";class UN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,r,n,i){var s;xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await y_(e,r,n,vp(),i);return FN(e,a,qm())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await y_(e,r,n,vp(),i);return WP(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(xi(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await RN(e),n=new fN(e);return r.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(rd,{type:rd},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[rd];a!==void 0&&r(!!a),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=vN(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Qw()||Hw()||$m()}}const jN=UN;var x_="@firebase/auth",E_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(t){To(new aa("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yw(t)},c=new uP(n,i,s,l);return _P(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),To(new aa("auth-internal",e=>{const r=Uo(e.getProvider("auth").getImmediate());return(n=>new zN(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(x_,E_,WN(t)),ls(x_,E_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=5*60,GN=Cw("authIdTokenMaxAge")||$N;let w_=null;const KN=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>GN)return;const i=r==null?void 0:r.token;w_!==i&&(w_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function qN(t=Nw()){const e=Um(t,"auth");if(e.isInitialized())return e.getImmediate();const r=vP(t,{popupRedirectResolver:jN,persistence:[JP,UP,aT]}),n=Cw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=KN(s.toString());LP(r,a,()=>a(r.currentUser)),FP(r,o=>a(o))}}const i=Aw("auth");return i&&yP(r,`http://${i}`),r}function XN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=zn("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",XN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var QN="firebase",YN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(QN,YN,"app");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,dT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,S){function A(){}A.prototype=S.prototype,T.D=S.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(C,D,V){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return S.prototype[D].apply(C,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,S,A){A||(A=0);var C=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)C[D]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(D=0;16>D;++D)C[D]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=T.g[0],A=T.g[1],D=T.g[2];var V=T.g[3],N=S+(V^A&(D^V))+C[0]+3614090360&4294967295;S=A+(N<<7&4294967295|N>>>25),N=V+(D^S&(A^D))+C[1]+3905402710&4294967295,V=S+(N<<12&4294967295|N>>>20),N=D+(A^V&(S^A))+C[2]+606105819&4294967295,D=V+(N<<17&4294967295|N>>>15),N=A+(S^D&(V^S))+C[3]+3250441966&4294967295,A=D+(N<<22&4294967295|N>>>10),N=S+(V^A&(D^V))+C[4]+4118548399&4294967295,S=A+(N<<7&4294967295|N>>>25),N=V+(D^S&(A^D))+C[5]+1200080426&4294967295,V=S+(N<<12&4294967295|N>>>20),N=D+(A^V&(S^A))+C[6]+2821735955&4294967295,D=V+(N<<17&4294967295|N>>>15),N=A+(S^D&(V^S))+C[7]+4249261313&4294967295,A=D+(N<<22&4294967295|N>>>10),N=S+(V^A&(D^V))+C[8]+1770035416&4294967295,S=A+(N<<7&4294967295|N>>>25),N=V+(D^S&(A^D))+C[9]+2336552879&4294967295,V=S+(N<<12&4294967295|N>>>20),N=D+(A^V&(S^A))+C[10]+4294925233&4294967295,D=V+(N<<17&4294967295|N>>>15),N=A+(S^D&(V^S))+C[11]+2304563134&4294967295,A=D+(N<<22&4294967295|N>>>10),N=S+(V^A&(D^V))+C[12]+1804603682&4294967295,S=A+(N<<7&4294967295|N>>>25),N=V+(D^S&(A^D))+C[13]+4254626195&4294967295,V=S+(N<<12&4294967295|N>>>20),N=D+(A^V&(S^A))+C[14]+2792965006&4294967295,D=V+(N<<17&4294967295|N>>>15),N=A+(S^D&(V^S))+C[15]+1236535329&4294967295,A=D+(N<<22&4294967295|N>>>10),N=S+(D^V&(A^D))+C[1]+4129170786&4294967295,S=A+(N<<5&4294967295|N>>>27),N=V+(A^D&(S^A))+C[6]+3225465664&4294967295,V=S+(N<<9&4294967295|N>>>23),N=D+(S^A&(V^S))+C[11]+643717713&4294967295,D=V+(N<<14&4294967295|N>>>18),N=A+(V^S&(D^V))+C[0]+3921069994&4294967295,A=D+(N<<20&4294967295|N>>>12),N=S+(D^V&(A^D))+C[5]+3593408605&4294967295,S=A+(N<<5&4294967295|N>>>27),N=V+(A^D&(S^A))+C[10]+38016083&4294967295,V=S+(N<<9&4294967295|N>>>23),N=D+(S^A&(V^S))+C[15]+3634488961&4294967295,D=V+(N<<14&4294967295|N>>>18),N=A+(V^S&(D^V))+C[4]+3889429448&4294967295,A=D+(N<<20&4294967295|N>>>12),N=S+(D^V&(A^D))+C[9]+568446438&4294967295,S=A+(N<<5&4294967295|N>>>27),N=V+(A^D&(S^A))+C[14]+3275163606&4294967295,V=S+(N<<9&4294967295|N>>>23),N=D+(S^A&(V^S))+C[3]+4107603335&4294967295,D=V+(N<<14&4294967295|N>>>18),N=A+(V^S&(D^V))+C[8]+1163531501&4294967295,A=D+(N<<20&4294967295|N>>>12),N=S+(D^V&(A^D))+C[13]+2850285829&4294967295,S=A+(N<<5&4294967295|N>>>27),N=V+(A^D&(S^A))+C[2]+4243563512&4294967295,V=S+(N<<9&4294967295|N>>>23),N=D+(S^A&(V^S))+C[7]+1735328473&4294967295,D=V+(N<<14&4294967295|N>>>18),N=A+(V^S&(D^V))+C[12]+2368359562&4294967295,A=D+(N<<20&4294967295|N>>>12),N=S+(A^D^V)+C[5]+4294588738&4294967295,S=A+(N<<4&4294967295|N>>>28),N=V+(S^A^D)+C[8]+2272392833&4294967295,V=S+(N<<11&4294967295|N>>>21),N=D+(V^S^A)+C[11]+1839030562&4294967295,D=V+(N<<16&4294967295|N>>>16),N=A+(D^V^S)+C[14]+4259657740&4294967295,A=D+(N<<23&4294967295|N>>>9),N=S+(A^D^V)+C[1]+2763975236&4294967295,S=A+(N<<4&4294967295|N>>>28),N=V+(S^A^D)+C[4]+1272893353&4294967295,V=S+(N<<11&4294967295|N>>>21),N=D+(V^S^A)+C[7]+4139469664&4294967295,D=V+(N<<16&4294967295|N>>>16),N=A+(D^V^S)+C[10]+3200236656&4294967295,A=D+(N<<23&4294967295|N>>>9),N=S+(A^D^V)+C[13]+681279174&4294967295,S=A+(N<<4&4294967295|N>>>28),N=V+(S^A^D)+C[0]+3936430074&4294967295,V=S+(N<<11&4294967295|N>>>21),N=D+(V^S^A)+C[3]+3572445317&4294967295,D=V+(N<<16&4294967295|N>>>16),N=A+(D^V^S)+C[6]+76029189&4294967295,A=D+(N<<23&4294967295|N>>>9),N=S+(A^D^V)+C[9]+3654602809&4294967295,S=A+(N<<4&4294967295|N>>>28),N=V+(S^A^D)+C[12]+3873151461&4294967295,V=S+(N<<11&4294967295|N>>>21),N=D+(V^S^A)+C[15]+530742520&4294967295,D=V+(N<<16&4294967295|N>>>16),N=A+(D^V^S)+C[2]+3299628645&4294967295,A=D+(N<<23&4294967295|N>>>9),N=S+(D^(A|~V))+C[0]+4096336452&4294967295,S=A+(N<<6&4294967295|N>>>26),N=V+(A^(S|~D))+C[7]+1126891415&4294967295,V=S+(N<<10&4294967295|N>>>22),N=D+(S^(V|~A))+C[14]+2878612391&4294967295,D=V+(N<<15&4294967295|N>>>17),N=A+(V^(D|~S))+C[5]+4237533241&4294967295,A=D+(N<<21&4294967295|N>>>11),N=S+(D^(A|~V))+C[12]+1700485571&4294967295,S=A+(N<<6&4294967295|N>>>26),N=V+(A^(S|~D))+C[3]+2399980690&4294967295,V=S+(N<<10&4294967295|N>>>22),N=D+(S^(V|~A))+C[10]+4293915773&4294967295,D=V+(N<<15&4294967295|N>>>17),N=A+(V^(D|~S))+C[1]+2240044497&4294967295,A=D+(N<<21&4294967295|N>>>11),N=S+(D^(A|~V))+C[8]+1873313359&4294967295,S=A+(N<<6&4294967295|N>>>26),N=V+(A^(S|~D))+C[15]+4264355552&4294967295,V=S+(N<<10&4294967295|N>>>22),N=D+(S^(V|~A))+C[6]+2734768916&4294967295,D=V+(N<<15&4294967295|N>>>17),N=A+(V^(D|~S))+C[13]+1309151649&4294967295,A=D+(N<<21&4294967295|N>>>11),N=S+(D^(A|~V))+C[4]+4149444226&4294967295,S=A+(N<<6&4294967295|N>>>26),N=V+(A^(S|~D))+C[11]+3174756917&4294967295,V=S+(N<<10&4294967295|N>>>22),N=D+(S^(V|~A))+C[2]+718787259&4294967295,D=V+(N<<15&4294967295|N>>>17),N=A+(V^(D|~S))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+V&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var A=S-this.blockSize,C=this.B,D=this.h,V=0;V<S;){if(D==0)for(;V<=A;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<S;)if(C[D++]=T.charCodeAt(V++),D==this.blockSize){i(this,C),D=0;break}}else for(;V<S;)if(C[D++]=T[V++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var A=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=A&255,A/=256;for(this.u(T),T=Array(16),S=A=0;4>S;++S)for(var C=0;32>C;C+=8)T[A++]=this.g[S]>>>C&255;return T};function s(T,S){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=S(T)}function a(T,S){this.h=S;for(var A=[],C=!0,D=T.length-1;0<=D;D--){var V=T[D]|0;C&&V==S||(A[D]=V,C=!1)}this.g=A}var o={};function l(T){return-128<=T&&128>T?s(T,function(S){return new a([S|0],0>S?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return g(c(-T));for(var S=[],A=1,C=0;T>=A;C++)S[C]=T/A|0,A*=4294967296;return new a(S,0)}function h(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return g(h(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),C=f,D=0;D<T.length;D+=8){var V=Math.min(8,T.length-D),N=parseInt(T.substring(D,D+V),S);8>V?(V=c(Math.pow(S,V)),C=C.j(V).add(c(N))):(C=C.j(A),C=C.add(c(N)))}return C}var f=l(0),d=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-g(this).m();for(var T=0,S=1,A=0;A<this.g.length;A++){var C=this.i(A);T+=(0<=C?C:4294967296+C)*S,S*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(v(this))return"-"+g(this).toString(T);for(var S=c(Math.pow(T,6)),A=this,C="";;){var D=M(A,S).g;A=w(A,D.j(S));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=D,_(A))return V+C;for(;6>V.length;)V="0"+V;C=V+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=w(this,T),v(T)?-1:_(T)?0:1};function g(T){for(var S=T.g.length,A=[],C=0;C<S;C++)A[C]=~T.g[C];return new a(A,~T.h).add(d)}t.abs=function(){return v(this)?g(this):this},t.add=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],C=0,D=0;D<=S;D++){var V=C+(this.i(D)&65535)+(T.i(D)&65535),N=(V>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);C=N>>>16,V&=65535,N&=65535,A[D]=N<<16|V}return new a(A,A[A.length-1]&-2147483648?-1:0)};function w(T,S){return T.add(g(S))}t.j=function(T){if(_(this)||_(T))return f;if(v(this))return v(T)?g(this).j(g(T)):g(g(this).j(T));if(v(T))return g(this.j(g(T)));if(0>this.l(m)&&0>T.l(m))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,A=[],C=0;C<2*S;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<T.g.length;D++){var V=this.i(C)>>>16,N=this.i(C)&65535,Oe=T.i(D)>>>16,Ie=T.i(D)&65535;A[2*C+2*D]+=N*Ie,x(A,2*C+2*D),A[2*C+2*D+1]+=V*Ie,x(A,2*C+2*D+1),A[2*C+2*D+1]+=N*Oe,x(A,2*C+2*D+1),A[2*C+2*D+2]+=V*Oe,x(A,2*C+2*D+2)}for(C=0;C<S;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=S;C<2*S;C++)A[C]=0;return new a(A,0)};function x(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function E(T,S){this.g=T,this.h=S}function M(T,S){if(_(S))throw Error("division by zero");if(_(T))return new E(f,f);if(v(T))return S=M(g(T),S),new E(g(S.g),g(S.h));if(v(S))return S=M(T,g(S)),new E(g(S.g),S.h);if(30<T.g.length){if(v(T)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var A=d,C=S;0>=C.l(T);)A=z(A),C=z(C);var D=q(A,1),V=q(C,1);for(C=q(C,2),A=q(A,2);!_(C);){var N=V.add(C);0>=N.l(T)&&(D=D.add(A),V=N),C=q(C,1),A=q(A,1)}return S=w(T,D.j(S)),new E(D,S)}for(D=f;0<=T.l(S);){for(A=Math.max(1,Math.floor(T.m()/S.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),V=c(A),N=V.j(S);v(N)||0<N.l(T);)A-=C,V=c(A),N=V.j(S);_(V)&&(V=d),D=D.add(V),T=w(T,N)}return new E(D,T)}t.A=function(T){return M(this,T).h},t.and=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)&T.i(C);return new a(A,this.h&T.h)},t.or=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)|T.i(C);return new a(A,this.h|T.h)},t.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)^T.i(C);return new a(A,this.h^T.h)};function z(T){for(var S=T.g.length+1,A=[],C=0;C<S;C++)A[C]=T.i(C)<<1|T.i(C-1)>>>31;return new a(A,T.h)}function q(T,S){var A=S>>5;S%=32;for(var C=T.g.length-A,D=[],V=0;V<C;V++)D[V]=0<S?T.i(V+A)>>>S|T.i(V+A+1)<<32-S:T.i(V+A);return new a(D,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,dT=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Zs=a}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pT,Al,mT,ph,xp,gT,vT,_T;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var n=r(this);function i(u,p){if(p)e:{var y=n;u=u.split(".");for(var R=0;R<u.length-1;R++){var W=u[R];if(!(W in y))break e;y=y[W]}u=u[u.length-1],R=y[u],p=p(R),p!=R&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var y=0,R=!1,W={next:function(){if(!R&&y<u.length){var Y=y++;return{value:p(Y,u[Y]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,y){return u.call.apply(u.bind,arguments)}function f(u,p,y){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),u.apply(p,W)}}return function(){return u.apply(p,arguments)}}function d(u,p,y){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var R=y.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function _(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(R,W,Y){for(var fe=Array(arguments.length-2),it=2;it<arguments.length;it++)fe[it-2]=arguments[it];return p.prototype[W].apply(R,fe)}}function v(u){const p=u.length;if(0<p){const y=Array(p);for(let R=0;R<p;R++)y[R]=u[R];return y}return[]}function g(u,p){for(let y=1;y<arguments.length;y++){const R=arguments[y];if(l(R)){const W=u.length||0,Y=R.length||0;u.length=W+Y;for(let fe=0;fe<Y;fe++)u[W+fe]=R[fe]}else u.push(R)}}class w{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=o.navigator;return u&&(u=u.userAgent)?u:""}function M(u){return M[" "](u),u}M[" "]=function(){};var z=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function q(u,p,y){for(const R in u)p.call(y,u[R],R,u)}function T(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function S(u){const p={};for(const y in u)p[y]=u[y];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let y,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(y in R)u[y]=R[y];for(let Y=0;Y<A.length;Y++)y=A[Y],Object.prototype.hasOwnProperty.call(R,y)&&(u[y]=R[y])}}function D(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function V(u){o.setTimeout(()=>{throw u},0)}function N(){var u=xe;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Oe{constructor(){this.h=this.g=null}add(p,y){const R=Ie.get();R.set(p,y),this.h?this.h.next=R:this.g=R,this.h=R}}var Ie=new w(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,ce=!1,xe=new Oe,Se=()=>{const u=o.Promise.resolve(void 0);Ke=()=>{u.then(Le)}};var Le=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(y){V(y)}var p=Ie;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}ce=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};o.addEventListener("test",y,p),o.removeEventListener("test",y,p)}catch{}return u}();function U(u,p){if(H.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(z){e:{try{M(p.nodeName);var W=!0;break e}catch{}W=!1}W||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:te[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&U.aa.h.call(this)}}_(U,H);var te={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Ee(u,p,y,R,W){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!R,this.ha=W,this.key=++Te,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function We(u){this.src=u,this.g={},this.h=0}We.prototype.add=function(u,p,y,R,W){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var fe=Ft(u,p,R,W);return-1<fe?(p=u[fe],y||(p.fa=!1)):(p=new Ee(p,this.src,Y,!!R,W),p.fa=y,u.push(p)),p};function Me(u,p){var y=p.type;if(y in u.g){var R=u.g[y],W=Array.prototype.indexOf.call(R,p,void 0),Y;(Y=0<=W)&&Array.prototype.splice.call(R,W,1),Y&&(de(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ft(u,p,y,R){for(var W=0;W<u.length;++W){var Y=u[W];if(!Y.da&&Y.listener==p&&Y.capture==!!y&&Y.ha==R)return W}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),Br={};function at(u,p,y,R,W){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)at(u,p[Y],y,R,W);return null}return y=Ls(y),u&&u[ge]?u.K(p,y,c(R)?!!R.capture:!!R,W):ye(u,p,y,!1,R,W)}function ye(u,p,y,R,W,Y){if(!p)throw Error("Invalid event type");var fe=c(W)?!!W.capture:!!W,it=Fs(u);if(it||(u[Ue]=it=new We(u)),y=it.add(p,y,R,fe,Y),y.proxy)return y;if(R=Rr(),y.proxy=R,R.src=u,R.listener=y,u.addEventListener)j||(W=fe),W===void 0&&(W=!1),u.addEventListener(p.toString(),R,W);else if(u.attachEvent)u.attachEvent(Yn(p.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Rr(){function u(y){return p.call(u.src,u.listener,y)}const p=rc;return u}function nn(u,p,y,R,W){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)nn(u,p[Y],y,R,W);else R=c(R)?!!R.capture:!!R,y=Ls(y),u&&u[ge]?(u=u.i,p=String(p).toString(),p in u.g&&(Y=u.g[p],y=Ft(Y,y,R,W),-1<y&&(de(Y[y]),Array.prototype.splice.call(Y,y,1),Y.length==0&&(delete u.g[p],u.h--)))):u&&(u=Fs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Ft(p,y,R,W)),(y=-1<u?p[u]:null)&&mn(y))}function mn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[ge])Me(p.i,u);else{var y=u.type,R=u.proxy;p.removeEventListener?p.removeEventListener(y,R,u.capture):p.detachEvent?p.detachEvent(Yn(y),R):p.addListener&&p.removeListener&&p.removeListener(R),(y=Fs(p))?(Me(y,u),y.h==0&&(y.src=null,p[Ue]=null)):de(u)}}}function Yn(u){return u in Br?Br[u]:Br[u]="on"+u}function rc(u,p){if(u.da)u=!0;else{p=new U(p,this);var y=u.listener,R=u.ha||u.src;u.fa&&mn(u),u=y.call(R,p)}return u}function Fs(u){return u=u[Ue],u instanceof We?u:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ls(u){return typeof u=="function"?u:(u[kr]||(u[kr]=function(p){return u.handleEvent(p)}),u[kr])}function Ct(){B.call(this),this.i=new We(this),this.M=this,this.F=null}_(Ct,B),Ct.prototype[ge]=!0,Ct.prototype.removeEventListener=function(u,p,y,R){nn(this,u,p,y,R)};function Lt(u,p){var y,R=u.F;if(R)for(y=[];R;R=R.F)y.push(R);if(u=u.M,R=p.type||p,typeof p=="string")p=new H(p,u);else if(p instanceof H)p.target=p.target||u;else{var W=p;p=new H(R,u),C(p,W)}if(W=!0,y)for(var Y=y.length-1;0<=Y;Y--){var fe=p.g=y[Y];W=sn(fe,R,!0,p)&&W}if(fe=p.g=u,W=sn(fe,R,!0,p)&&W,W=sn(fe,R,!1,p)&&W,y)for(Y=0;Y<y.length;Y++)fe=p.g=y[Y],W=sn(fe,R,!1,p)&&W}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],R=0;R<y.length;R++)de(y[R]);delete u.g[p],u.h--}}this.F=null},Ct.prototype.K=function(u,p,y,R){return this.i.add(String(u),p,!1,y,R)},Ct.prototype.L=function(u,p,y,R){return this.i.add(String(u),p,!0,y,R)};function sn(u,p,y,R){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var W=!0,Y=0;Y<p.length;++Y){var fe=p[Y];if(fe&&!fe.da&&fe.capture==y){var it=fe.listener,Xt=fe.ha||fe.src;fe.fa&&Me(u.i,fe),W=it.call(Xt,R)!==!1&&W}}return W&&!R.defaultPrevented}function nc(u,p,y){if(typeof u=="function")y&&(u=d(u,y));else if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(u,p||0)}function Qo(u){u.g=nc(()=>{u.g=null,u.i&&(u.i=!1,Qo(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class ic extends B{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(u){B.call(this),this.h=u,this.g={}}_(ki,B);var Yo=[];function Jo(u){q(u.g,function(p,y){this.g.hasOwnProperty(y)&&mn(p)},u),u.g={}}ki.prototype.N=function(){ki.aa.N.call(this),Jo(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ia=o.JSON.stringify,d0=o.JSON.parse,p0=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function Ca(){}Ca.prototype.h=null;function Zo(u){return u.h||(u.h=u.i())}function el(){}var Ms={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tl(){H.call(this,"d")}_(tl,H);function Pi(){H.call(this,"c")}_(Pi,H);var Jn={},sc=null;function Ra(){return sc=sc||new Ct}Jn.La="serverreachability";function ac(u){H.call(this,Jn.La,u)}_(ac,H);function bs(u){const p=Ra();Lt(p,new ac(p))}Jn.STAT_EVENT="statevent";function oc(u,p){H.call(this,Jn.STAT_EVENT,u),this.stat=p}_(oc,H);function qt(u){const p=Ra();Lt(p,new oc(p,u))}Jn.Ma="timingevent";function lc(u,p){H.call(this,Jn.Ma,u),this.size=p}_(lc,H);function Zn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},p)}function Vs(){this.g=!0}Vs.prototype.xa=function(){this.g=!1};function m0(u,p,y,R,W,Y){u.info(function(){if(u.g)if(Y)for(var fe="",it=Y.split("&"),Xt=0;Xt<it.length;Xt++){var He=it[Xt].split("=");if(1<He.length){var ur=He[0];He=He[1];var cr=ur.split("_");fe=2<=cr.length&&cr[1]=="type"?fe+(ur+"="+He+"&"):fe+(ur+"=redacted&")}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+p+`
`+y+`
`+fe})}function g0(u,p,y,R,W,Y,fe){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+p+`
`+y+`
`+Y+" "+fe})}function I(u,p,y,R){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+P(u,y)+(R?" "+R:"")})}function F(u,p){u.info(function(){return"TIMEOUT: "+p})}Vs.prototype.info=function(){};function P(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var R=y[u];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var Y=W[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var fe=1;fe<W.length;fe++)W[fe]=""}}}}return Ia(y)}catch{return p}}var O={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},b;function G(){}_(G,Ca),G.prototype.g=function(){return new XMLHttpRequest},G.prototype.i=function(){return{}},b=new G;function Z(u,p,y,R){this.j=u,this.i=p,this.l=y,this.R=R||1,this.U=new ki(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K}function K(){this.i=null,this.g="",this.h=!1}var X={},Q={};function se(u,p,y){u.L=1,u.v=hc(ti(p)),u.m=y,u.P=!0,he(u,null)}function he(u,p){u.F=Date.now(),pe(u),u.A=ti(u.v);var y=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),l1(y.i,"t",R),u.C=0,y=u.j.J,u.h=new K,u.g=I1(u.j,y?p:null,!u.m),0<u.O&&(u.M=new ic(d(u.Y,u,u.g),u.O)),p=u.U,y=u.g,R=u.ca;var W="readystatechange";Array.isArray(W)||(W&&(Yo[0]=W.toString()),W=Yo);for(var Y=0;Y<W.length;Y++){var fe=at(y,W[Y],R||p.handleEvent,!1,p.h||p);if(!fe)break;p.g[fe.key]=fe}p=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),bs(),m0(u.i,u.u,u.A,u.l,u.R,u.m)}Z.prototype.ca=function(u){u=u.target;const p=this.M;p&&ri(u)==3?p.j():this.Y(u)},Z.prototype.Y=function(u){try{if(u==this.g)e:{const cr=ri(this.g);var p=this.g.Ba();const Oa=this.g.Z();if(!(3>cr)&&(cr!=3||this.g&&(this.h.h||this.g.oa()||m1(this.g)))){this.J||cr!=4||p==7||(p==8||0>=Oa?bs(3):bs(2)),nt(this);var y=this.g.Z();this.X=y;t:if(me(this)){var R=m1(this.g);u="";var W=R.length,Y=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Xe(this);var fe="";break t}this.h.i=new o.TextDecoder}for(p=0;p<W;p++)this.h.h=!0,u+=this.h.i.decode(R[p],{stream:!(Y&&p==W-1)});R.length=0,this.h.g+=u,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=y==200,g0(this.i,this.u,this.A,this.l,this.R,cr,y),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Xt=this.g;if((it=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(it)){var He=it;break t}}He=null}if(y=He)I(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ei(this,y);else{this.o=!1,this.s=3,qt(12),ft(this),Xe(this);break e}}if(this.P){y=!0;let gn;for(;!this.J&&this.C<fe.length;)if(gn=oe(this,fe),gn==Q){cr==4&&(this.s=4,qt(14),y=!1),I(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==X){this.s=4,qt(15),I(this.i,this.l,fe,"[Invalid Chunk]"),y=!1;break}else I(this.i,this.l,gn,null),ei(this,gn);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cr!=4||fe.length!=0||this.h.h||(this.s=1,qt(16),y=!1),this.o=this.o&&y,!y)I(this.i,this.l,fe,"[Invalid Chunked Response]"),ft(this),Xe(this);else if(0<fe.length&&!this.W){this.W=!0;var ur=this.j;ur.g==this&&ur.ba&&!ur.M&&(ur.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),E0(ur),ur.M=!0,qt(11))}}else I(this.i,this.l,fe,null),ei(this,fe);cr==4&&ft(this),this.o&&!this.J&&(cr==4?w1(this.j,this):(this.o=!1,pe(this)))}else RA(this.g),y==400&&0<fe.indexOf("Unknown SID")?(this.s=3,qt(12)):(this.s=0,qt(13)),ft(this),Xe(this)}}}catch{}finally{}};function me(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function oe(u,p){var y=u.C,R=p.indexOf(`
`,y);return R==-1?Q:(y=Number(p.substring(y,R)),isNaN(y)?X:(R+=1,R+y>p.length?Q:(p=p.slice(R,R+y),u.C=R+y,p)))}Z.prototype.cancel=function(){this.J=!0,ft(this)};function pe(u){u.S=Date.now()+u.I,Re(u,u.I)}function Re(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Zn(d(u.ba,u),p)}function nt(u){u.B&&(o.clearTimeout(u.B),u.B=null)}Z.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(F(this.i,this.A),this.L!=2&&(bs(),qt(17)),ft(this),this.s=2,Xe(this)):Re(this,this.S-u)};function Xe(u){u.j.G==0||u.J||w1(u.j,u)}function ft(u){nt(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Jo(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function ei(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||Ur(y.h,u))){if(!u.K&&Ur(y.h,u)&&y.G==3){try{var R=y.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)vc(y),mc(y);else break e;x0(y),qt(18)}}else y.za=W[1],0<y.za-y.T&&37500>W[2]&&y.F&&y.v==0&&!y.C&&(y.C=Zn(d(y.Za,y),6e3));if(1>=ka(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else js(y,11)}else if((u.K||y.g==u)&&vc(y),!x(p))for(W=y.Da.g.parse(p),p=0;p<W.length;p++){let He=W[p];if(y.T=He[0],He=He[1],y.G==2)if(He[0]=="c"){y.K=He[1],y.ia=He[2];const ur=He[3];ur!=null&&(y.la=ur,y.j.info("VER="+y.la));const cr=He[4];cr!=null&&(y.Aa=cr,y.j.info("SVER="+y.Aa));const Oa=He[5];Oa!=null&&typeof Oa=="number"&&0<Oa&&(R=1.5*Oa,y.L=R,y.j.info("backChannelRequestTimeoutMs_="+R)),R=y;const gn=u.g;if(gn){const yc=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yc){var Y=R.h;Y.g||yc.indexOf("spdy")==-1&&yc.indexOf("quic")==-1&&yc.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(v0(Y,Y.h),Y.h=null))}if(R.D){const w0=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;w0&&(R.ya=w0,ot(R.I,R.D,w0))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),R=y;var fe=u;if(R.qa=A1(R,R.J?R.ia:null,R.W),fe.K){e1(R.h,fe);var it=fe,Xt=R.L;Xt&&(it.I=Xt),it.B&&(nt(it),pe(it)),R.g=fe}else x1(R);0<y.i.length&&gc(y)}else He[0]!="stop"&&He[0]!="close"||js(y,7);else y.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?js(y,7):y0(y):He[0]!="noop"&&y.l&&y.l.ta(He),y.v=0)}}bs(4)}catch{}}var Bs=class{constructor(u,p){this.g=u,this.map=p}};function Ni(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ka(u){return u.h?1:u.g?u.g.size:0}function Ur(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function v0(u,p){u.g?u.g.add(p):u.h=p}function e1(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ni.prototype.cancel=function(){if(this.i=t1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function t1(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return v(u.i)}function dA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,R=0;R<y;R++)p.push(u[R]);return p}p=[],y=0;for(R in u)p[y++]=u[R];return p}function pA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const R in u)p[y++]=R;return p}}}function r1(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=pA(u),R=dA(u),W=R.length,Y=0;Y<W;Y++)p.call(void 0,R[Y],y&&y[Y],u)}var n1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mA(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var R=u[y].indexOf("="),W=null;if(0<=R){var Y=u[y].substring(0,R);W=u[y].substring(R+1)}else Y=u[y];p(Y,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Us(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Us){this.h=u.h,uc(this,u.j),this.o=u.o,this.g=u.g,cc(this,u.s),this.l=u.l;var p=u.i,y=new il;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),i1(this,y),this.m=u.m}else u&&(p=String(u).match(n1))?(this.h=!1,uc(this,p[1]||"",!0),this.o=rl(p[2]||""),this.g=rl(p[3]||"",!0),cc(this,p[4]),this.l=rl(p[5]||"",!0),i1(this,p[6]||"",!0),this.m=rl(p[7]||"")):(this.h=!1,this.i=new il(null,this.h))}Us.prototype.toString=function(){var u=[],p=this.j;p&&u.push(nl(p,s1,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(nl(p,s1,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(nl(y,y.charAt(0)=="/"?_A:vA,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",nl(y,xA)),u.join("")};function ti(u){return new Us(u)}function uc(u,p,y){u.j=y?rl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function cc(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function i1(u,p,y){p instanceof il?(u.i=p,EA(u.i,u.h)):(y||(p=nl(p,yA)),u.i=new il(p,u.h))}function ot(u,p,y){u.i.set(p,y)}function hc(u){return ot(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function rl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function nl(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,gA),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var s1=/[#\/\?@]/g,vA=/[#\?:]/g,_A=/[#\?]/g,yA=/[#\?@]/g,xA=/#/g;function il(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Oi(u){u.g||(u.g=new Map,u.h=0,u.i&&mA(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=il.prototype,t.add=function(u,p){Oi(this),this.i=null,u=Pa(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function a1(u,p){Oi(u),p=Pa(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function o1(u,p){return Oi(u),p=Pa(u,p),u.g.has(p)}t.forEach=function(u,p){Oi(this),this.g.forEach(function(y,R){y.forEach(function(W){u.call(p,W,R,this)},this)},this)},t.na=function(){Oi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let R=0;R<p.length;R++){const W=u[R];for(let Y=0;Y<W.length;Y++)y.push(p[R])}return y},t.V=function(u){Oi(this);let p=[];if(typeof u=="string")o1(this,u)&&(p=p.concat(this.g.get(Pa(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return Oi(this),this.i=null,u=Pa(this,u),o1(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function l1(u,p,y){a1(u,p),0<y.length&&(u.i=null,u.g.set(Pa(u,p),v(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var R=p[y];const Y=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var W=Y;fe[R]!==""&&(W+="="+encodeURIComponent(String(fe[R]))),u.push(W)}}return this.i=u.join("&")};function Pa(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function EA(u,p){p&&!u.j&&(Oi(u),u.i=null,u.g.forEach(function(y,R){var W=R.toLowerCase();R!=W&&(a1(this,R),l1(this,W,y))},u)),u.j=p}function wA(u,p){const y=new Vs;if(o.Image){const R=new Image;R.onload=m(Di,y,"TestLoadImage: loaded",!0,p,R),R.onerror=m(Di,y,"TestLoadImage: error",!1,p,R),R.onabort=m(Di,y,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(Di,y,"TestLoadImage: timeout",!1,p,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else p(!1)}function TA(u,p){const y=new Vs,R=new AbortController,W=setTimeout(()=>{R.abort(),Di(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:R.signal}).then(Y=>{clearTimeout(W),Y.ok?Di(y,"TestPingServer: ok",!0,p):Di(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(W),Di(y,"TestPingServer: error",!1,p)})}function Di(u,p,y,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(y)}catch{}}function SA(){this.g=new p0}function AA(u,p,y){const R=y||"";try{r1(u,function(W,Y){let fe=W;c(W)&&(fe=Ia(W)),p.push(R+Y+"="+encodeURIComponent(fe))})}catch(W){throw p.push(R+"type="+encodeURIComponent("_badmap")),W}}function fc(u){this.l=u.Ub||null,this.j=u.eb||!1}_(fc,Ca),fc.prototype.g=function(){return new dc(this.l,this.j)},fc.prototype.i=function(u){return function(){return u}}({});function dc(u,p){Ct.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(dc,Ct),t=dc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,al(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sl(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;u1(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function u1(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?sl(this):al(this),this.readyState==3&&u1(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,sl(this))},t.Qa=function(u){this.g&&(this.response=u,sl(this))},t.ga=function(){this.g&&sl(this)};function sl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,al(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function al(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function c1(u){let p="";return q(u,function(y,R){p+=R,p+=":",p+=y,p+=`\r
`}),p}function _0(u,p,y){e:{for(R in y){var R=!1;break e}R=!0}R||(y=c1(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):ot(u,p,y))}function xt(u){Ct.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(xt,Ct);var IA=/^https?$/i,CA=["POST","PUT"];t=xt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():b.g(),this.v=this.o?Zo(this.o):Zo(b),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(Y){h1(this,Y);return}if(u=y||"",y=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)y.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Y of R.keys())y.set(Y,R.get(Y));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(y.keys()).find(Y=>Y.toLowerCase()=="content-type"),W=o.FormData&&u instanceof o.FormData,!(0<=Array.prototype.indexOf.call(CA,p,void 0))||R||W||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of y)this.g.setRequestHeader(Y,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{p1(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){h1(this,Y)}};function h1(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,f1(u),pc(u)}function f1(u){u.A||(u.A=!0,Lt(u,"complete"),Lt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Lt(this,"complete"),Lt(this,"abort"),pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pc(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?d1(this):this.bb())},t.bb=function(){d1(this)};function d1(u){if(u.h&&typeof a<"u"&&(!u.v[1]||ri(u)!=4||u.Z()!=2)){if(u.u&&ri(u)==4)nc(u.Ea,0,u);else if(Lt(u,"readystatechange"),ri(u)==4){u.h=!1;try{const fe=u.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var R;if(R=fe===0){var W=String(u.D).match(n1)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),R=!IA.test(W?W.toLowerCase():"")}y=R}if(y)Lt(u,"complete"),Lt(u,"success");else{u.m=6;try{var Y=2<ri(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",f1(u)}}finally{pc(u)}}}}function pc(u,p){if(u.g){p1(u);const y=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Lt(u,"ready");try{y.onreadystatechange=R}catch{}}}function p1(u){u.I&&(o.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),d0(p)}};function m1(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function RA(u){const p={};u=(u.g&&2<=ri(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(x(u[R]))continue;var y=D(u[R]);const W=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Y=p[W]||[];p[W]=Y,Y.push(y)}T(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ol(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function g1(u){this.Aa=0,this.i=[],this.j=new Vs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ol("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ol("baseRetryDelayMs",5e3,u),this.cb=ol("retryDelaySeedMs",1e4,u),this.Wa=ol("forwardChannelMaxRetries",2,u),this.wa=ol("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(u&&u.concurrentRequestLimit),this.Da=new SA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=g1.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,R){qt(0),this.W=u,this.H=p||{},y&&R!==void 0&&(this.H.OSID=y,this.H.OAID=R),this.F=this.X,this.I=A1(this,null,this.W),gc(this)};function y0(u){if(v1(u),u.G==3){var p=u.U++,y=ti(u.I);if(ot(y,"SID",u.K),ot(y,"RID",p),ot(y,"TYPE","terminate"),ll(u,y),p=new Z(u,u.j,p),p.L=2,p.v=hc(ti(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&o.Image&&(new Image().src=p.v,y=!0),y||(p.g=I1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),pe(p)}S1(u)}function mc(u){u.g&&(E0(u),u.g.cancel(),u.g=null)}function v1(u){mc(u),u.u&&(o.clearTimeout(u.u),u.u=null),vc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&o.clearTimeout(u.s),u.s=null)}function gc(u){if(!Dn(u.h)&&!u.s){u.s=!0;var p=u.Ga;Ke||Se(),ce||(Ke(),ce=!0),xe.add(p,u),u.B=0}}function kA(u,p){return ka(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Zn(d(u.Ga,u,p),T1(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const W=new Z(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=S(Y),C(Y,this.S)):Y=this.S),this.m!==null||this.O||(W.H=Y,Y=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var R=this.i[y];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=y1(this,W,p),y=ti(this.I),ot(y,"RID",u),ot(y,"CVER",22),this.D&&ot(y,"X-HTTP-Session-Id",this.D),ll(this,y),Y&&(this.O?p="headers="+encodeURIComponent(String(c1(Y)))+"&"+p:this.m&&_0(y,this.m,Y)),v0(this.h,W),this.Ua&&ot(y,"TYPE","init"),this.P?(ot(y,"$req",p),ot(y,"SID","null"),W.T=!0,se(W,y,null)):se(W,y,p),this.G=2}}else this.G==3&&(u?_1(this,u):this.i.length==0||Dn(this.h)||_1(this))};function _1(u,p){var y;p?y=p.l:y=u.U++;const R=ti(u.I);ot(R,"SID",u.K),ot(R,"RID",y),ot(R,"AID",u.T),ll(u,R),u.m&&u.o&&_0(R,u.m,u.o),y=new Z(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=y1(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),v0(u.h,y),se(y,R,p)}function ll(u,p){u.H&&q(u.H,function(y,R){ot(p,R,y)}),u.l&&r1({},function(y,R){ot(p,R,y)})}function y1(u,p,y){y=Math.min(u.i.length,y);var R=u.l?d(u.l.Na,u.l,u):null;e:{var W=u.i;let Y=-1;for(;;){const fe=["count="+y];Y==-1?0<y?(Y=W[0].g,fe.push("ofs="+Y)):Y=0:fe.push("ofs="+Y);let it=!0;for(let Xt=0;Xt<y;Xt++){let He=W[Xt].g;const ur=W[Xt].map;if(He-=Y,0>He)Y=Math.max(0,W[Xt].g-100),it=!1;else try{AA(ur,fe,"req"+He+"_")}catch{R&&R(ur)}}if(it){R=fe.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,R}function x1(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;Ke||Se(),ce||(Ke(),ce=!0),xe.add(p,u),u.v=0}}function x0(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Zn(d(u.Fa,u),T1(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,E1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Zn(d(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qt(10),mc(this),E1(this))};function E0(u){u.A!=null&&(o.clearTimeout(u.A),u.A=null)}function E1(u){u.g=new Z(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=ti(u.qa);ot(p,"RID","rpc"),ot(p,"SID",u.K),ot(p,"AID",u.T),ot(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ot(p,"TO",u.ja),ot(p,"TYPE","xmlhttp"),ll(u,p),u.m&&u.o&&_0(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=hc(ti(p)),y.m=null,y.P=!0,he(y,u)}t.Za=function(){this.C!=null&&(this.C=null,mc(this),x0(this),qt(19))};function vc(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function w1(u,p){var y=null;if(u.g==p){vc(u),E0(u),u.g=null;var R=2}else if(Ur(u.h,p))y=p.D,e1(u.h,p),R=1;else return;if(u.G!=0){if(p.o)if(R==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var W=u.B;R=Ra(),Lt(R,new lc(R,y)),gc(u)}else x1(u);else if(W=p.s,W==3||W==0&&0<p.X||!(R==1&&kA(u,p)||R==2&&x0(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),W){case 1:js(u,5);break;case 4:js(u,10);break;case 3:js(u,6);break;default:js(u,2)}}}function T1(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function js(u,p){if(u.j.info("Error code "+p),p==2){var y=d(u.fb,u),R=u.Xa;const W=!R;R=new Us(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||uc(R,"https"),hc(R),W?wA(R.toString(),y):TA(R.toString(),y)}else qt(2);u.G=0,u.l&&u.l.sa(p),S1(u),v1(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function S1(u){if(u.G=0,u.ka=[],u.l){const p=t1(u.h);(p.length!=0||u.i.length!=0)&&(g(u.ka,p),g(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function A1(u,p,y){var R=y instanceof Us?ti(y):new Us(y);if(R.g!="")p&&(R.g=p+"."+R.g),cc(R,R.s);else{var W=o.location;R=W.protocol,p=p?p+"."+W.hostname:W.hostname,W=+W.port;var Y=new Us(null);R&&uc(Y,R),p&&(Y.g=p),W&&cc(Y,W),y&&(Y.l=y),R=Y}return y=u.D,p=u.ya,y&&p&&ot(R,y,p),ot(R,"VER",u.la),ll(u,R),R}function I1(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new xt(new fc({eb:y})):new xt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C1(){}t=C1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _c(){}_c.prototype.g=function(u,p){return new jr(u,p)};function jr(u,p){Ct.call(this),this.g=new g1(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!x(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!x(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Na(this)}_(jr,Ct),jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jr.prototype.close=function(){y0(this.g)},jr.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Ia(u),u=y);p.i.push(new Bs(p.Ya++,u)),p.G==3&&gc(p)},jr.prototype.N=function(){this.g.l=null,delete this.j,y0(this.g),delete this.g,jr.aa.N.call(this)};function R1(u){tl.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}_(R1,tl);function k1(){Pi.call(this),this.status=1}_(k1,Pi);function Na(u){this.g=u}_(Na,C1),Na.prototype.ua=function(){Lt(this.g,"a")},Na.prototype.ta=function(u){Lt(this.g,new R1(u))},Na.prototype.sa=function(u){Lt(this.g,new k1)},Na.prototype.ra=function(){Lt(this.g,"b")},_c.prototype.createWebChannel=_c.prototype.g,jr.prototype.send=jr.prototype.o,jr.prototype.open=jr.prototype.m,jr.prototype.close=jr.prototype.close,_T=function(){return new _c},vT=function(){return Ra()},gT=Jn,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},O.NO_ERROR=0,O.TIMEOUT=8,O.HTTP_ERROR=6,ph=O,L.COMPLETE="complete",mT=L,el.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Al=el,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,pT=xt}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Vm("@firebase/firestore");function vl(){return la.logLevel}function we(t,...e){if(la.logLevel<=Be.DEBUG){const r=e.map(Qm);la.debug(`Firestore (${zo}): ${t}`,...r)}}function Ei(t,...e){if(la.logLevel<=Be.ERROR){const r=e.map(Qm);la.error(`Firestore (${zo}): ${t}`,...r)}}function Ao(t,...e){if(la.logLevel<=Be.WARN){const r=e.map(Qm);la.warn(`Firestore (${zo}): ${t}`,...r)}}function Qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: `+t;throw Ei(e),new Error(e)}function et(t,e){t||ke()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ii{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pr.UNAUTHENTICATED))}shutdown(){}}class ZN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class eO{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){et(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cs)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string"),new yT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new pr(e)}}class tO{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rO{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new tO(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){et(this.o===void 0);const n=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,we("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(et(typeof r.token=="string"),this.R=r.token,new nO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=sO(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function Ge(t,e){return t<e?-1:t>e?1:0}function Io(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Bt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Bt(0,0))}static max(){return new Pe(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r,n){r===void 0?r=0:r>e.length&&ke(),n===void 0?n=e.length-r:n>e.length-r&&ke(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return vu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof vu?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class ut extends vu{construct(e,r,n){return new ut(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new ut(r)}static emptyPath(){return new ut([])}}const aO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends vu{construct(e,r,n){return new er(e,r,n)}static isValidIdentifier(e){return aO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(r)}static emptyPath(){return new er([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(ut.fromString(e))}static fromName(e){return new Ae(ut.fromString(e).popFirst(5))}static empty(){return new Ae(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return ut.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new ut(e.slice()))}}function oO(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(n===1e9?new Bt(r+1,0):new Bt(r,n));return new ps(i,Ae.empty(),e)}function lO(t){return new ps(t.readTime,t.key,-1)}class ps{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ps(Pe.min(),Ae.empty(),-1)}static max(){return new ps(Pe.max(),Ae.empty(),-1)}}function uO(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==cO)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ie.reject(r)}static resolve(e){return new ie((r,n)=>{r(e)})}static reject(e){return new ie((r,n)=>{n(e)})}static waitFor(e){return new ie((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=ie.resolve(!1);for(const n of e)r=r.next(i=>i?ie.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new ie((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;r(e[c]).next(h=>{a[c]=h,++o,o===s&&n(a)},h=>i(h))}})}static doWhile(e,r){return new ie((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function fO(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ym.oe=-1;function Hf(t){return t==null}function Zh(t){return t===0&&1/t==-1/0}function dO(t){return typeof t=="number"&&Number.isInteger(t)&&!Zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function _a(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ET(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,r){this.comparator=e,this.root=r||Zt.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Zt(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Zt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Zt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ir(this.comparator);return r.data=e,r}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new Xr([])}unionWith(e){let r=new ir(er.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Xr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wT("Invalid base64 string: "+s):s}}(e);return new or(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new or(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}or.EMPTY_BYTE_STRING=new or("");const pO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(t){if(et(!!t),typeof t=="string"){let e=0;const r=pO.exec(t);if(et(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?or.fromBase64String(t):or.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Zm(t){const e=t.mapValue.fields.__previous_value__;return Jm(e)?Zm(e):e}function _u(t){const e=ms(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,r,n,i,s,a,o,l,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c}}class yu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Jm(t)?4:vO(t)?9007199254740991:gO(t)?10:11:ke()}function Gn(t,e){if(t===e)return!0;const r=ca(t);if(r!==ca(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ms(i.timestampValue),o=ms(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ua(i.bytesValue).isEqual(ua(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=St(i.doubleValue),o=St(s.doubleValue);return a===o?Zh(a)===Zh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Io(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(A_(a)!==A_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Gn(a[l],o[l])))return!1;return!0}(t,e);default:return ke()}}function xu(t,e){return(t.values||[]).find(r=>Gn(r,e))!==void 0}function Co(t,e){if(t===e)return 0;const r=ca(t),n=ca(e);if(r!==n)return Ge(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=St(s.integerValue||s.doubleValue),l=St(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return C_(t.timestampValue,e.timestampValue);case 4:return C_(_u(t),_u(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(s,a){const o=ua(s),l=ua(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=Ge(o[c],l[c]);if(h!==0)return h}return Ge(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Ge(St(s.latitude),St(a.latitude));return o!==0?o:Ge(St(s.longitude),St(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return R_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,c,h;const f=s.fields||{},d=a.fields||{},m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,_=(l=d.value)===null||l===void 0?void 0:l.arrayValue,v=Ge(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=_==null?void 0:_.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:R_(m,_)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Uc.mapValue&&a===Uc.mapValue)return 0;if(s===Uc.mapValue)return 1;if(a===Uc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Ge(l[f],h[f]);if(d!==0)return d;const m=Co(o[l[f]],c[h[f]]);if(m!==0)return m}return Ge(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ke()}}function C_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const r=ms(t),n=ms(e),i=Ge(r.seconds,n.seconds);return i!==0?i:Ge(r.nanos,n.nanos)}function R_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Co(r[i],n[i]);if(s)return s}return Ge(r.length,n.length)}function Ro(t){return Ep(t)}function Ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ms(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return ua(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=Ep(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${Ep(r.fields[a])}`;return i+"}"}(t.mapValue):ke()}function k_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wp(t){return!!t&&"integerValue"in t}function eg(t){return!!t&&"arrayValue"in t}function P_(t){return!!t&&"nullValue"in t}function N_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function gO(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Bl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function vO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.value=e}static empty(){return new Nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!mh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(r)}setAll(e){let r=er.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Bl(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());mh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){_a(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Nr(Bl(this.value))}}function TT(t){const e=[];return _a(t.fields,(r,n)=>{const i=new er([r]);if(mh(n)){const s=TT(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new gr(e,0,Pe.min(),Pe.min(),Pe.min(),Nr.empty(),0)}static newFoundDocument(e,r,n,i){return new gr(e,1,r,Pe.min(),n,i,0)}static newNoDocument(e,r){return new gr(e,2,r,Pe.min(),Pe.min(),Nr.empty(),0)}static newUnknownDocument(e,r){return new gr(e,3,r,Pe.min(),Pe.min(),Nr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,r){this.position=e,this.inclusive=r}}function O_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ae.comparator(Ae.fromName(a.referenceValue),r.key):n=Co(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Gn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,r="asc"){this.field=e,this.dir=r}}function _O(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class Nt extends ST{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new xO(e,r,n):r==="array-contains"?new TO(e,n):r==="in"?new SO(e,n):r==="not-in"?new AO(e,n):r==="array-contains-any"?new IO(e,n):new Nt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new EO(e,n):new wO(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Co(r,this.value)):r!==null&&ca(this.value)===ca(r)&&this.matchesComparison(Co(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends ST{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Nn(e,r)}matches(e){return AT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function AT(t){return t.op==="and"}function IT(t){return yO(t)&&AT(t)}function yO(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function Tp(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(IT(t))return t.filters.map(e=>Tp(e)).join(",");{const e=t.filters.map(r=>Tp(r)).join(",");return`${t.op}(${e})`}}function CT(t,e){return t instanceof Nt?function(n,i){return i instanceof Nt&&n.op===i.op&&n.field.isEqual(i.field)&&Gn(n.value,i.value)}(t,e):t instanceof Nn?function(n,i){return i instanceof Nn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&CT(a,i.filters[o]),!0):!1}(t,e):void ke()}function RT(t){return t instanceof Nt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ro(r.value)}`}(t):t instanceof Nn?function(r){return r.op.toString()+" {"+r.getFilters().map(RT).join(" ,")+"}"}(t):"Filter"}class xO extends Nt{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class EO extends Nt{constructor(e,r){super(e,"in",r),this.keys=kT("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class wO extends Nt{constructor(e,r){super(e,"not-in",r),this.keys=kT("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function kT(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class TO extends Nt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return eg(r)&&xu(r.arrayValue,this.value)}}class SO extends Nt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&xu(this.value.arrayValue,r)}}class AO extends Nt{constructor(e,r){super(e,"not-in",r)}matches(e){if(xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!xu(this.value.arrayValue,r)}}class IO extends Nt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!eg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>xu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function F_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new CO(t,e,r,n,i,s,a)}function tg(t){const e=Ne(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Tp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Hf(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ro(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ro(n)).join(",")),e.ue=r}return e.ue}function rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!_O(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!CT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function Sp(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function RO(t,e,r,n,i,s,a,o){return new Wo(t,e,r,n,i,s,a,o)}function PT(t){return new Wo(t)}function L_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NT(t){return t.collectionGroup!==null}function Ul(t){const e=Ne(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ir(er.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Eu(s,n))}),r.has(er.keyField().canonicalString())||e.ce.push(new Eu(er.keyField(),n))}return e.ce}function Hn(t){const e=Ne(t);return e.le||(e.le=kO(e,Ul(t))),e.le}function kO(t,e){if(t.limitType==="F")return F_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Eu(i.field,s)});const r=t.endAt?new ef(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ef(t.startAt.position,t.startAt.inclusive):null;return F_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ap(t,e){const r=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ip(t,e,r){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function $f(t,e){return rg(Hn(t),Hn(e))&&t.limitType===e.limitType}function OT(t){return`${tg(Hn(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>RT(i)).join(", ")}]`),Hf(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ro(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ro(i)).join(",")),`Target(${n})`}(Hn(t))}; limitType=${t.limitType})`}function Gf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ae.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Ul(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const c=O_(a,o,l);return a.inclusive?c<=0:c<0}(n.startAt,Ul(n),i)||n.endAt&&!function(a,o,l){const c=O_(a,o,l);return a.inclusive?c>=0:c>0}(n.endAt,Ul(n),i))}(t,e)}function PO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function DT(t){return(e,r)=>{let n=!1;for(const i of Ul(t)){const s=NO(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function NO(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Co(l,c):ke()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return ET(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=new yt(Ae.comparator);function wi(){return OO}const FT=new yt(Ae.comparator);function Il(...t){let e=FT;for(const r of t)e=e.insert(r.key,r);return e}function LT(t){let e=FT;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Qs(){return jl()}function MT(){return jl()}function jl(){return new Ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const DO=new yt(Ae.comparator),FO=new ir(Ae.comparator);function Ve(...t){let e=FO;for(const r of t)e=e.add(r);return e}const LO=new ir(Ge);function MO(){return LO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function bT(t){return{integerValue:""+t}}function bO(t,e){return dO(e)?bT(e):ng(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function VO(t,e,r){return t instanceof tf?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Jm(s)&&(s=Zm(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof wu?BT(t,e):t instanceof Tu?UT(t,e):function(i,s){const a=VT(i,s),o=M_(a)+M_(i.Pe);return wp(a)&&wp(i.Pe)?bT(o):ng(i.serializer,o)}(t,e)}function BO(t,e,r){return t instanceof wu?BT(t,e):t instanceof Tu?UT(t,e):r}function VT(t,e){return t instanceof rf?function(n){return wp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class tf extends Kf{}class wu extends Kf{constructor(e){super(),this.elements=e}}function BT(t,e){const r=jT(e);for(const n of t.elements)r.some(i=>Gn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Tu extends Kf{constructor(e){super(),this.elements=e}}function UT(t,e){let r=jT(e);for(const n of t.elements)r=r.filter(i=>!Gn(i,n));return{arrayValue:{values:r}}}class rf extends Kf{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function M_(t){return St(t.integerValue||t.doubleValue)}function jT(t){return eg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function UO(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof wu&&i instanceof wu||n instanceof Tu&&i instanceof Tu?Io(n.elements,i.elements,Gn):n instanceof rf&&i instanceof rf?Gn(n.Pe,i.Pe):n instanceof tf&&i instanceof tf}(t.transform,e.transform)}class jO{constructor(e,r){this.version=e,this.transformResults=r}}class Cn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Cn}static exists(e){return new Cn(void 0,e)}static updateTime(e){return new Cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ig(t.key,Cn.none()):new Hu(t.key,t.data,Cn.none());{const r=t.data,n=Nr.empty();let i=new ir(er.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Is(t.key,n,new Xr(i.toArray()),Cn.none())}}function zO(t,e,r){t instanceof Hu?function(i,s,a){const o=i.value.clone(),l=V_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Is?function(i,s,a){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=V_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(WT(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function zl(t,e,r,n){return t instanceof Hu?function(s,a,o,l){if(!gh(s.precondition,a))return o;const c=s.value.clone(),h=B_(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,r,n):t instanceof Is?function(s,a,o,l){if(!gh(s.precondition,a))return o;const c=B_(s.fieldTransforms,l,a),h=a.data;return h.setAll(WT(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function WO(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=VT(n.transform,i||null);s!=null&&(r===null&&(r=Nr.empty()),r.set(n.field,s))}return r||null}function b_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Io(n,i,(s,a)=>UO(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hu extends qf{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Is extends qf{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WT(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function V_(t,e,r){const n=new Map;et(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,BO(a,o,r[i]))}return n}function B_(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,VO(s,a,e))}return n}class ig extends qf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HO extends qf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zO(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=zl(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=zl(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=MT();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=zT(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Pe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(r,n)=>b_(r,n))&&Io(this.baseMutations,e.baseMutations,(r,n)=>b_(r,n))}}class sg{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){et(e.mutations.length===n.length);let i=function(){return DO}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new sg(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,je;function qO(t){switch(t){default:return ke();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function HT(t){if(t===void 0)return Ei("GRPC error has no .code"),re.UNKNOWN;switch(t){case kt.OK:return re.OK;case kt.CANCELLED:return re.CANCELLED;case kt.UNKNOWN:return re.UNKNOWN;case kt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case kt.INTERNAL:return re.INTERNAL;case kt.UNAVAILABLE:return re.UNAVAILABLE;case kt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case kt.NOT_FOUND:return re.NOT_FOUND;case kt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case kt.ABORTED:return re.ABORTED;case kt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case kt.DATA_LOSS:return re.DATA_LOSS;default:return ke()}}(je=kt||(kt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO=new Zs([4294967295,4294967295],0);function U_(t){const e=XO().encode(t),r=new dT;return r.update(e),new Uint8Array(r.digest())}function j_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zs([r,n],0),new Zs([i,s],0)]}class ag{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Cl(`Invalid padding: ${r}`);if(n<0)throw new Cl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Zs.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Zs.fromNumber(n)));return i.compare(QO)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=U_(e),[n,i]=j_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new ag(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=U_(e),[n,i]=j_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Xf(Pe.min(),i,new yt(Ge),wi(),Ve())}}class $u{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new $u(n,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class $T{constructor(e,r){this.targetId=e,this.me=r}}class GT{constructor(e,r,n=or.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class z_{constructor(){this.fe=0,this.ge=H_(),this.pe=or.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),r=Ve(),n=Ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ke()}}),new $u(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=H_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YO{constructor(e){this.Le=e,this.Be=new Map,this.ke=wi(),this.qe=W_(),this.Qe=new yt(Ge)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Sp(s))if(n===0){const a=new Ae(s.path);this.Ue(r,a,gr.newNoDocument(a,Pe.min()))}else et(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,c)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=ua(n).toUint8Array()}catch(l){if(l instanceof wT)return Ao("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new ag(a,i,s)}catch(l){return Ao(l instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Sp(o.target)){const l=new Ae(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,gr.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Ve();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Xf(e,r,this.Qe,this.ke,n);return this.ke=wi(),this.qe=W_(),this.Qe=new yt(Ge),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new z_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ir(Ge),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new z_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function W_(){return new yt(Ae.comparator)}function H_(){return new yt(Ae.comparator)}const JO={asc:"ASCENDING",desc:"DESCENDING"},ZO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e3={and:"AND",or:"OR"};class t3{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Cp(t,e){return t.useProto3Json||Hf(e)?e:{value:e}}function nf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function r3(t,e){return nf(t,e.toTimestamp())}function $n(t){return et(!!t),Pe.fromTimestamp(function(r){const n=ms(r);return new Bt(n.seconds,n.nanos)}(t))}function og(t,e){return Rp(t,e).canonicalString()}function Rp(t,e){const r=function(i){return new ut(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function qT(t){const e=ut.fromString(t);return et(ZT(e)),e}function kp(t,e){return og(t.databaseId,e.path)}function nd(t,e){const r=qT(e);if(r.get(1)!==t.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(QT(r))}function XT(t,e){return og(t.databaseId,e)}function n3(t){const e=qT(t);return e.length===4?ut.emptyPath():QT(e)}function Pp(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QT(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function $_(t,e,r){return{name:kp(t,e),fields:r.value.mapValue.fields}}function i3(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(et(h===void 0||typeof h=="string"),or.fromBase64String(h||"")):(et(h===void 0||h instanceof Buffer||h instanceof Uint8Array),or.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?re.UNKNOWN:HT(c.code);return new _e(h,c.message||"")}(a);r=new GT(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=nd(t,n.document.name),s=$n(n.document.updateTime),a=n.document.createTime?$n(n.document.createTime):Pe.min(),o=new Nr({mapValue:{fields:n.document.fields}}),l=gr.newFoundDocument(i,s,a,o),c=n.targetIds||[],h=n.removedTargetIds||[];r=new vh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=nd(t,n.document),s=n.readTime?$n(n.readTime):Pe.min(),a=gr.newNoDocument(i,s),o=n.removedTargetIds||[];r=new vh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=nd(t,n.document),s=n.removedTargetIds||[];r=new vh([],s,i,null)}else{if(!("filter"in e))return ke();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new KO(i,s),o=n.targetId;r=new $T(o,a)}}return r}function s3(t,e){let r;if(e instanceof Hu)r={update:$_(t,e.key,e.value)};else if(e instanceof ig)r={delete:kp(t,e.key)};else if(e instanceof Is)r={update:$_(t,e.key,e.data),updateMask:p3(e.fieldMask)};else{if(!(e instanceof HO))return ke();r={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof tf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof rf)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw ke()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:r3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke()}(t,e.precondition)),r}function a3(t,e){return t&&t.length>0?(et(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?$n(i.updateTime):$n(s);return a.isEqual(Pe.min())&&(a=$n(s)),new jO(a,i.transformResults||[])}(r,e))):[]}function o3(t,e){return{documents:[XT(t,e.path)]}}function l3(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=XT(t,i);const s=function(c){if(c.length!==0)return JT(Nn.create(c,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:Va(d.field),direction:h3(d.dir)}}(h))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Cp(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:r,parent:i}}function u3(t){let e=n3(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){et(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];r.where&&(s=function(f){const d=YT(f);return d instanceof Nn&&IT(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(d=>function(_){return new Eu(Ba(_.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,Hf(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new ef(m,d)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const d=!f.before,m=f.values||[];return new ef(m,d)}(r.endAt)),RO(e,i,a,s,o,"F",l,c)}function c3(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function YT(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ba(r.unaryFilter.field);return Nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Ba(r.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ba(r.unaryFilter.field);return Nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ba(r.unaryFilter.field);return Nt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(r){return Nt.create(Ba(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Nn.create(r.compositeFilter.filters.map(n=>YT(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke()}}(r.compositeFilter.op))}(t):ke()}function h3(t){return JO[t]}function f3(t){return ZO[t]}function d3(t){return e3[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Ba(t){return er.fromServerFormat(t.fieldPath)}function JT(t){return t instanceof Nt?function(r){if(r.op==="=="){if(N_(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NAN"}};if(P_(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(N_(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NOT_NAN"}};if(P_(r.value))return{unaryFilter:{field:Va(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(r.field),op:f3(r.op),value:r.value}}}(t):t instanceof Nn?function(r){const n=r.getFilters().map(i=>JT(i));return n.length===1?n[0]:{compositeFilter:{op:d3(r.op),filters:n}}}(t):ke()}function p3(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function ZT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,r,n,i,s=Pe.min(),a=Pe.min(),o=or.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.ct=e}}function g3(t){const e=u3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.un=new _3}addToCollectionParentIndex(e,r){return this.un.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(ps.min())}updateCollectionGroup(e,r,n){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class _3{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ir(ut.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ir(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ko(0)}static kn(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.changes=new Ho(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ie.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&zl(n.mutation,i,Xr.empty(),Bt.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ve()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ve()){const i=Qs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Il();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Qs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ve()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=wi();const a=jl(),o=function(){return jl()}();return r.forEach((l,c)=>{const h=n.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Is)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),zl(h.mutation,c,h.mutation.getFieldMask(),Bt.now())):a.set(c.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),r.forEach((c,h)=>{var f;return o.set(c,new x3(h,(f=a.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=jl();let i=new yt((a,o)=>a-o),s=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let h=n.get(l)||Xr.empty();h=o.applyToLocalView(c,h),n.set(l,h);const f=(i.get(o.batchId)||Ve()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=MT();h.forEach(d=>{if(!s.has(d)){const m=zT(r.get(d),n.get(d));m!==null&&f.set(d,m),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return ie.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):NT(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):ie.resolve(Qs());let o=-1,l=s;return a.next(c=>ie.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(h)?ie.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Ve())).next(h=>({batchId:o,changes:LT(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=Il();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Il();return this.indexManager.getCollectionParents(e,s).next(o=>ie.forEach(o,l=>{const c=function(f,d){return new Wo(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,n,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,gr.newInvalidDocument(h)))});let o=Il();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&zl(h.mutation,c,Xr.empty(),Bt.now()),Gf(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ie.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:$n(i.createTime)}}(r)),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:g3(i.bundledQuery),readTime:$n(i.readTime)}}(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(){this.overlays=new yt(Ae.comparator),this.Ir=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Qs();return ie.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),ie.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ie.resolve()}getOverlaysForCollection(e,r,n){const i=Qs(),s=r.length+1,a=new Ae(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new yt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let h=s.get(c.largestBatchId);h===null&&(h=Qs(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return ie.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new GO(r,n));let s=this.Ir.get(r);s===void 0&&(s=Ve(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(){this.sessionToken=or.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.Tr=new ir(Ut.Er),this.dr=new ir(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Ut(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Ut(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ae(new ut([])),n=new Ut(r,e),i=new Ut(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ae(new ut([])),n=new Ut(r,e),i=new Ut(r,e+1);let s=Ve();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Ut(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ut{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ae.comparator(e.key,r.key)||Ge(e.wr,r.wr)}static Ar(e,r){return Ge(e.wr,r.wr)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new ir(Ut.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new $O(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Ut(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ie.resolve(a)}lookupMutationBatch(e,r){return ie.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return ie.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ut(r,0),i=new Ut(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),ie.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ir(Ge);return r.forEach(i=>{const s=new Ut(i,0),a=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),ie.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ae.isDocumentKey(s)||(s=s.child(""));const a=new Ut(new Ae(s),0);let o=new ir(Ge);return this.br.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.wr)),!0)},a),ie.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){et(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ie.forEach(r.mutations,i=>{const s=new Ut(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Ut(r,0),i=this.br.firstAfterOrEqual(n);return ie.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.Mr=e,this.docs=function(){return new yt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ie.resolve(n?n.document.mutableCopy():gr.newInvalidDocument(r))}getEntries(e,r){let n=wi();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():gr.newInvalidDocument(i))}),ie.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=wi();const a=r.path,o=new Ae(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||uO(lO(h),n)<=0||(i.has(h.key)||Gf(r,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ie.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ke()}Or(e,r){return ie.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new C3(this)}getSize(e){return ie.resolve(this.size)}}class C3 extends y3{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ie.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.persistence=e,this.Nr=new Ho(r=>tg(r),rg),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lg,this.targetCount=0,this.kr=ko.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new ko(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.Kn(r),ie.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ie.waitFor(s).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ie.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ie.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ie.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ie.resolve(n)}containsKey(e,r){return ie.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Ym(0),this.Kr=!1,this.Kr=!0,this.$r=new S3,this.referenceDelegate=e(this),this.Ur=new R3(this),this.indexManager=new v3,this.remoteDocumentCache=function(i){return new I3(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new m3(r),this.Gr=new w3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new T3,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new A3(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){we("MemoryPersistence","Starting transaction:",e);const i=new P3(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return ie.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class P3 extends hO{constructor(e){super(),this.currentSequenceNumber=e}}class ug{constructor(e){this.persistence=e,this.Jr=new lg,this.Yr=null}static Zr(e){return new ug(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ie.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,n=>{const i=Ae.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ie.or([()=>ie.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Ve(),i=Ve();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cg(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return E4()?8:fO(xr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new N3;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(vl()<=Be.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",ba(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(vl()<=Be.DEBUG&&we("QueryEngine","Query:",ba(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(vl()<=Be.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",ba(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(r))):ie.resolve())}Yi(e,r){if(L_(r))return ie.resolve(null);let n=Hn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ip(r,null,"F"),n=Hn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Ve(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const c=this.ts(r,o);return this.ns(r,c,a,l.readTime)?this.Yi(e,Ip(r,null,"F")):this.rs(e,c,r,l)}))})))}Zi(e,r,n,i){return L_(r)||i.isEqual(Pe.min())?ie.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?ie.resolve(null):(vl()<=Be.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ba(r)),this.rs(e,a,r,oO(i,-1)).next(o=>o))})}ts(e,r){let n=new ir(DT(e));return r.forEach((i,s)=>{Gf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return vl()<=Be.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",ba(r)),this.Ji.getDocumentsMatchingQuery(e,r,ps.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new yt(Ge),this._s=new Ho(s=>tg(s),rg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new E3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function F3(t,e,r,n){return new D3(t,e,r,n)}async function e2(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Ve();for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function L3(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let m=ie.resolve();return d.forEach(_=>{m=m.next(()=>h.getEntry(l,_)).next(v=>{const g=c.docVersions.get(_);et(g!==null),v.version.compareTo(g)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ve();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function t2(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function M3(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(s,h.addedDocuments,f)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(or.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),i=i.insert(f,m),function(v,g,w){return v.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(d,m,h)&&o.push(r.Ur.updateTargetData(s,m))});let l=wi(),c=Ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(b3(s,a,e.documentUpdates).next(h=>{l=h.Ps,c=h.Is})),!n.isEqual(Pe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(s).next(f=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(h)}return ie.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(r.os=i,s))}function b3(t,e,r){let n=Ve(),i=Ve();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=wi();return r.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):we("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function V3(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function B3(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,ie.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new qi(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function Np(t,e,r){const n=Ne(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Wu(a))throw a;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function G_(t,e,r){const n=Ne(t);let i=Pe.min(),s=Ve();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=Ne(l),d=f._s.get(h);return d!==void 0?ie.resolve(f.os.get(d)):f.Ur.getTargetData(c,h)}(n,a,Hn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Pe.min(),r?s:Ve())).next(o=>(U3(n,PO(e),o),{documents:o,Ts:s})))}function U3(t,e,r){let n=t.us.get(e)||Pe.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class K_{constructor(){this.activeTargetIds=MO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class j3{constructor(){this.so=new K_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new K_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function id(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="WebChannelConnection";class $3 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=id(),l=this.xo(r,n.toUriEncodedString());we("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(r,l,c,i).then(h=>(we("RestConnection",`Received RPC '${r}' ${o}: `,h),h),h=>{throw Ao("RestConnection",`RPC '${r}' ${o} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=W3[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=id();return new Promise((a,o)=>{const l=new pT;l.setWithCredentials(!0),l.listenOnce(mT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ph.NO_ERROR:const h=l.getResponseJson();we(dr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case ph.TIMEOUT:we(dr,`RPC '${e}' ${s} timed out`),o(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const f=l.getStatus();if(we(dr,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const _=function(g){const w=g.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(w)>=0?w:re.UNKNOWN}(m.status);o(new _e(_,m.message))}else o(new _e(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new _e(re.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{we(dr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);we(dr,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",c,n,15)})}Bo(e,r,n){const i=id(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=_T(),o=vT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=s.join("");we(dr,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);let d=!1,m=!1;const _=new H3({Io:g=>{m?we(dr,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(d||(we(dr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),we(dr,`RPC '${e}' stream ${i} sending:`,g),f.send(g))},To:()=>f.close()}),v=(g,w,x)=>{g.listen(w,E=>{try{x(E)}catch(M){setTimeout(()=>{throw M},0)}})};return v(f,Al.EventType.OPEN,()=>{m||(we(dr,`RPC '${e}' stream ${i} transport opened.`),_.yo())}),v(f,Al.EventType.CLOSE,()=>{m||(m=!0,we(dr,`RPC '${e}' stream ${i} transport closed`),_.So())}),v(f,Al.EventType.ERROR,g=>{m||(m=!0,Ao(dr,`RPC '${e}' stream ${i} transport errored:`,g),_.So(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),v(f,Al.EventType.MESSAGE,g=>{var w;if(!m){const x=g.data[0];et(!!x);const E=x,M=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(M){we(dr,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let q=function(A){const C=kt[A];if(C!==void 0)return HT(C)}(z),T=M.message;q===void 0&&(q=re.INTERNAL,T="Unknown error status: "+z+" with message "+M.message),m=!0,_.So(new _e(q,T)),f.close()}else we(dr,`RPC '${e}' stream ${i} received:`,x),_.bo(x)}}),v(o,gT.STAT_EVENT,g=>{g.stat===xp.PROXY?we(dr,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===xp.NOPROXY&&we(dr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new t3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new r2(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===re.RESOURCE_EXHAUSTED?(Ei(r.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new _e(re.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G3 extends n2{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=i3(this.serializer,e),n=function(s){if(!("targetChange"in s))return Pe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Pe.min():a.readTime?$n(a.readTime):Pe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Pp(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=Sp(l)?{documents:o3(s,l)}:{query:l3(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=KT(s,a.resumeToken);const c=Cp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Pe.min())>0){o.readTime=nf(s,a.snapshotVersion.toTimestamp());const c=Cp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const n=c3(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Pp(this.serializer),r.removeTarget=e,this.a_(r)}}class K3 extends n2{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=a3(e.writeResults,e.commitTime),n=$n(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Pp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>s3(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Rp(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(re.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Rp(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class X3{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ei(r),this.D_=!1):we("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{ya(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ne(l);c.L_.add(4),await Gu(c),c.q_.set("Unknown"),c.L_.delete(4),await Yf(c)}(this))})}),this.q_=new X3(n,i)}}async function Yf(t){if(ya(t))for(const e of t.B_)await e(!0)}async function Gu(t){for(const e of t.B_)await e(!1)}function i2(t,e){const r=Ne(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),pg(r)?dg(r):$o(r).r_()&&fg(r,e))}function hg(t,e){const r=Ne(t),n=$o(r);r.N_.delete(e),n.r_()&&s2(r,e),r.N_.size===0&&(n.r_()?n.o_():ya(r)&&r.q_.set("Unknown"))}function fg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$o(t).A_(e)}function s2(t,e){t.Q_.xe(e),$o(t).R_(e)}function dg(t){t.Q_=new YO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.q_.v_()}function pg(t){return ya(t)&&!$o(t).n_()&&t.N_.size>0}function ya(t){return Ne(t).L_.size===0}function a2(t){t.Q_=void 0}async function Y3(t){t.q_.set("Online")}async function J3(t){t.N_.forEach((e,r)=>{fg(t,e)})}async function Z3(t,e){a2(t),pg(t)?(t.q_.M_(e),dg(t)):t.q_.set("Unknown")}async function eD(t,e,r){if(t.q_.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await sf(t,n)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof $T?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Pe.min()))try{const n=await t2(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(c);h&&s.N_.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(or.EMPTY_BYTE_STRING,h.snapshotVersion)),s2(s,l);const f=new qi(h.target,l,c,h.sequenceNumber);fg(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){we("RemoteStore","Failed to raise snapshot:",n),await sf(t,n)}}async function sf(t,e,r){if(!Wu(e))throw e;t.L_.add(1),await Gu(t),t.q_.set("Offline"),r||(r=()=>t2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Yf(t)})}function o2(t,e){return e().catch(r=>sf(t,r,e))}async function Jf(t){const e=Ne(t),r=gs(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tD(e);)try{const i=await V3(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,rD(e,i)}catch(i){await sf(e,i)}l2(e)&&u2(e)}function tD(t){return ya(t)&&t.O_.length<10}function rD(t,e){t.O_.push(e);const r=gs(t);r.r_()&&r.V_&&r.m_(e.mutations)}function l2(t){return ya(t)&&!gs(t).n_()&&t.O_.length>0}function u2(t){gs(t).start()}async function nD(t){gs(t).p_()}async function iD(t){const e=gs(t);for(const r of t.O_)e.m_(r.mutations)}async function sD(t,e,r){const n=t.O_.shift(),i=sg.from(n,e,r);await o2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jf(t)}async function aD(t,e){e&&gs(t).V_&&await async function(n,i){if(function(a){return qO(a)&&a!==re.ABORTED}(i.code)){const s=n.O_.shift();gs(n).s_(),await o2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Jf(n)}}(t,e),l2(t)&&u2(t)}async function X_(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const n=ya(r);r.L_.add(3),await Gu(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Yf(r)}async function oD(t,e){const r=Ne(t);e?(r.L_.delete(2),await Yf(r)):e||(r.L_.add(2),await Gu(r),r.q_.set("Unknown"))}function $o(t){return t.K_||(t.K_=function(r,n,i){const s=Ne(r);return s.w_(),new G3(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Y3.bind(null,t),Ro:J3.bind(null,t),mo:Z3.bind(null,t),d_:eD.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),pg(t)?dg(t):t.q_.set("Unknown")):(await t.K_.stop(),a2(t))})),t.K_}function gs(t){return t.U_||(t.U_=function(r,n,i){const s=Ne(r);return s.w_(),new K3(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nD.bind(null,t),mo:aD.bind(null,t),f_:iD.bind(null,t),g_:sD.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Jf(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new mg(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(t,e){if(Ei("AsyncQueue",`${e}: ${t}`),Wu(t))return new _e(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=Il(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new co;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.W_=new yt(Ae.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Po{constructor(e,r,n,i,s,a,o,l,c){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new Po(e,r,co.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class uD{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ne(r),s=i.queries;i.queries=Y_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function Y_(){return new Ho(t=>OT(t),$f)}async function cD(t,e){const r=Ne(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new lD,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=gg(a,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&vg(r)}async function hD(t,e){const r=Ne(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function fD(t,e){const r=Ne(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&vg(r)}function dD(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function vg(t){t.Y_.forEach(e=>{e.next()})}var Op,J_;(J_=Op||(Op={})).ea="default",J_.Cache="cache";class pD{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Po(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.key=e}}class h2{constructor(e){this.key=e}}class mD{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=DT(e),this.Ra=new co(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Q_,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=Gf(this.query,f)?f:null,_=!!d&&this.mutatedKeys.has(d.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;d&&m?d.data.isEqual(m.data)?_!==v&&(n.track({type:3,doc:m}),g=!0):this.ga(d,m)||(n.track({type:2,doc:m}),g=!0,(l&&this.Aa(m,l)>0||c&&this.Aa(m,c)<0)&&(o=!0)):!d&&m?(n.track({type:0,doc:m}),g=!0):d&&!m&&(n.track({type:1,doc:d}),g=!0,(l||c)&&(o=!0)),g&&(m?(a=a.add(m),s=v?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),n.track({type:1,doc:h})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(m,_){const v=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return v(m)-v(_)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,a.length!==0||c?{snapshot:new Po(this.query,e.Ra,s,a,e.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Q_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new h2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new c2(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ve();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Po.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class gD{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class vD{constructor(e){this.key=e,this.va=!1}}class _D{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Ho(o=>OT(o),$f),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(Ae.comparator),this.Na=new Map,this.La=new lg,this.Ba={},this.ka=new Map,this.qa=ko.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yD(t,e,r=!0){const n=v2(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await f2(n,e,r,!0),i}async function xD(t,e){const r=v2(t);await f2(r,e,!0,!1)}async function f2(t,e,r,n){const i=await B3(t.localStore,Hn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await ED(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&i2(t.remoteStore,i),o}async function ED(t,e,r,n,i){t.Ka=(f,d,m)=>async function(v,g,w,x){let E=g.view.ma(w);E.ns&&(E=await G_(v.localStore,g.query,!1).then(({documents:T})=>g.view.ma(T,E)));const M=x&&x.targetChanges.get(g.targetId),z=x&&x.targetMismatches.get(g.targetId)!=null,q=g.view.applyChanges(E,v.isPrimaryClient,M,z);return ey(v,g.targetId,q.wa),q.snapshot}(t,f,d,m);const s=await G_(t.localStore,e,!0),a=new mD(e,s.Ts),o=a.ma(s.documents),l=$u.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);ey(t,r,c.wa);const h=new gD(e,r,a);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),c.snapshot}async function wD(t,e,r){const n=Ne(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!$f(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Np(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&hg(n.remoteStore,i.targetId),Dp(n,i.targetId)}).catch(zu)):(Dp(n,i.targetId),await Np(n.localStore,i.targetId,!0))}async function TD(t,e){const r=Ne(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),hg(r.remoteStore,n.targetId))}async function SD(t,e,r){const n=ND(t);try{const i=await function(a,o){const l=Ne(a),c=Bt.now(),h=o.reduce((m,_)=>m.add(_.key),Ve());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let _=wi(),v=Ve();return l.cs.getEntries(m,h).next(g=>{_=g,_.forEach((w,x)=>{x.isValidDocument()||(v=v.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,_)).next(g=>{f=g;const w=[];for(const x of o){const E=WO(x,f.get(x.key).overlayedDocument);E!=null&&w.push(new Is(x.key,E,TT(E.value.mapValue),Cn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,o)}).next(g=>{d=g;const w=g.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,g.batchId,w)})}).then(()=>({batchId:d.batchId,changes:LT(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Ba[a.currentUser.toKey()];c||(c=new yt(Ge)),c=c.insert(o,l),a.Ba[a.currentUser.toKey()]=c}(n,i.batchId,r),await Ku(n,i.changes),await Jf(n.remoteStore)}catch(i){const s=gg(i,"Failed to persist write");r.reject(s)}}async function d2(t,e){const r=Ne(t);try{const n=await M3(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?et(a.va):i.removedDocuments.size>0&&(et(a.va),a.va=!1))}),await Ku(r,n,e)}catch(n){await zu(n)}}function Z_(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ne(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(o)&&(c=!0)}),c&&vg(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function AD(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new yt(Ae.comparator);a=a.insert(s,gr.newNoDocument(s,Pe.min()));const o=Ve().add(s),l=new Xf(Pe.min(),new Map,new yt(Ge),a,o);await d2(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),_g(n)}else await Np(n.localStore,e,!1).then(()=>Dp(n,e,r)).catch(zu)}async function ID(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await L3(r.localStore,e);m2(r,n,null),p2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ku(r,i)}catch(i){await zu(i)}}async function CD(t,e,r){const n=Ne(t);try{const i=await function(a,o){const l=Ne(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(et(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(n.localStore,e);m2(n,e,r),p2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Ku(n,i)}catch(i){await zu(i)}}function p2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function m2(t,e,r){const n=Ne(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Dp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||g2(t,n)})}function g2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(hg(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),_g(t))}function ey(t,e,r){for(const n of r)n instanceof c2?(t.La.addReference(n.key,e),RD(t,n)):n instanceof h2?(we("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||g2(t,n.key)):ke()}function RD(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(we("SyncEngine","New document in limbo: "+r),t.xa.add(n),_g(t))}function _g(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ae(ut.fromString(e)),n=t.qa.next();t.Na.set(n,new vD(r)),t.Oa=t.Oa.insert(r,n),i2(t.remoteStore,new qi(Hn(PT(r.path)),n,"TargetPurposeLimboResolution",Ym.oe))}}async function Ku(t,e,r){const n=Ne(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(c=>{var h;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=cg.Wi(l.targetId,c);s.push(f)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,c){const h=Ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(c,d=>ie.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>ie.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Wu(f))throw f;we("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),_=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(_);h.os=h.os.insert(d,v)}}}(n.localStore,s))}async function kD(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const n=await e2(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new _e(re.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Ku(r,n.hs)}}function PD(t,e){const r=Ne(t),n=r.Na.get(e);if(n&&n.va)return Ve().add(n.key);{let i=Ve();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function v2(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=d2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AD.bind(null,e),e.Ca.d_=fD.bind(null,e.eventManager),e.Ca.$a=dD.bind(null,e.eventManager),e}function ND(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ID.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return F3(this.persistence,new O3,e.initialUser,this.serializer)}Ga(e){return new k3(ug.Zr,this.serializer)}Wa(e){return new j3}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class Fp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Z_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=kD.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uD}()}createDatastore(e){const r=Qf(e.databaseInfo.databaseId),n=function(s){return new $3(s)}(e.databaseInfo);return function(s,a,o,l){return new q3(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new Q3(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>Z_(this.syncEngine,r,0),function(){return q_.D()?new q_:new z3}())}createSyncEngine(e,r){return function(i,s,a,o,l,c,h){const f=new _D(i,s,a,o,l,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ne(i);we("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Gu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Fp.provider={build:()=>new Fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=xT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{we("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(we("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=gg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ad(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await e2(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ty(t,e){t.asyncQueue.verifyOperationInProgress();const r=await FD(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>X_(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>X_(e.remoteStore,i)),t._onlineComponents=e}async function FD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await ad(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Ao("Error using user provided cache. Falling back to memory cache: "+r),await ad(t,new af)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await ad(t,new af);return t._offlineComponents}async function _2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await ty(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await ty(t,new Fp))),t._onlineComponents}function LD(t){return _2(t).then(e=>e.syncEngine)}async function MD(t){const e=await _2(t),r=e.eventManager;return r.onListen=yD.bind(null,e.syncEngine),r.onUnlisten=wD.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=xD.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=TD.bind(null,e.syncEngine),r}function bD(t,e,r={}){const n=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new OD({next:d=>{h.Za(),a.enqueueAndForget(()=>hD(s,f)),d.fromCache&&l.source==="server"?c.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new pD(o,h,{includeMetadataChanges:!0,_a:!0});return cD(s,f)}(await MD(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e,r){if(!r)throw new _e(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VD(t,e,r,n){if(e===!0&&n===!0)throw new _e(re.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ny(t){if(!Ae.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iy(t){if(Ae.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Zf(t);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class e0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new JN;switch(n.type){case"firstParty":return new rO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ry.get(r);n&&(we("ComponentProvider","Removing Datastore"),ry.delete(r),n.terminate())}(this),Promise.resolve()}}function BD(t,e,r,n={}){var i;const s=(t=ha(t,e0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=pr.MOCK_USER;else{o=p4(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=n.mockUserToken.sub||n.mockUserToken.user_id;if(!c)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pr(c)}t._authCredentials=new ZN(new yT(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class Yr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class hs extends xa{constructor(e,r,n){super(e,r,PT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new Ae(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function On(t,e,...r){if(t=Gt(t),x2("collection","path",e),t instanceof e0){const n=ut.fromString(e,...r);return iy(n),new hs(t,null,n)}{if(!(t instanceof Yr||t instanceof hs))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ut.fromString(e,...r));return iy(n),new hs(t.firestore,null,n)}}function yg(t,e,...r){if(t=Gt(t),arguments.length===1&&(e=xT.newId()),x2("doc","path",e),t instanceof e0){const n=ut.fromString(e,...r);return ny(n),new Yr(t,null,new Ae(n))}{if(!(t instanceof Yr||t instanceof hs))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ut.fromString(e,...r));return ny(n),new Yr(t.firestore,t instanceof hs?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new r2(this,"async_queue_retry"),this.Vu=()=>{const n=sd();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=sd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=sd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new cs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wu(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Ei("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=mg.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class qu extends e0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new ay,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ay(e),this._firestoreClient=void 0,await e}}}function UD(t,e){const r=typeof t=="object"?t:Nw(),n=typeof t=="string"?t:"(default)",i=Um(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=f4("firestore");s&&BD(i,...s)}return i}function E2(t){if(t._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jD(t),t._firestoreClient}function jD(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,c,h){return new mO(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,y2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new DD(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(or.fromBase64String(e))}catch(r){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new No(or.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class WD{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Is(e,this.data,this.fieldMask,r,this.fieldTransforms):new Hu(e,this.data,r,this.fieldTransforms)}}class w2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Is(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function T2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Tg{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return of(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(T2(this.Cu)&&zD.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class HD{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Qf(e)}Qu(e,r,n,i=!1){return new Tg({Cu:e,methodName:r,qu:n,path:er.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sg(t){const e=t._freezeSettings(),r=Qf(t._databaseId);return new HD(t._databaseId,!!e.ignoreUndefinedProperties,r)}function $D(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);Ag("Data must be an object, but it was:",a,n);const o=S2(n,a);let l,c;if(s.merge)l=new Xr(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=Lp(e,f,r);if(!a.contains(d))throw new _e(re.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);I2(h,d)||h.push(d)}l=new Xr(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new WD(new Nr(o),l,c)}class r0 extends xg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}function GD(t,e,r,n){const i=t.Qu(1,e,r);Ag("Data must be an object, but it was:",i,n);const s=[],a=Nr.empty();_a(n,(l,c)=>{const h=Ig(e,l,r);c=Gt(c);const f=i.Nu(h);if(c instanceof r0)s.push(h);else{const d=Xu(c,f);d!=null&&(s.push(h),a.set(h,d))}});const o=new Xr(s);return new w2(a,o,i.fieldTransforms)}function KD(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[Lp(e,n,r)],l=[i];if(s.length%2!=0)throw new _e(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Lp(e,s[d])),l.push(s[d+1]);const c=[],h=Nr.empty();for(let d=o.length-1;d>=0;--d)if(!I2(c,o[d])){const m=o[d];let _=l[d];_=Gt(_);const v=a.Nu(m);if(_ instanceof r0)c.push(m);else{const g=Xu(_,v);g!=null&&(c.push(m),h.set(m,g))}}const f=new Xr(c);return new w2(h,f,a.fieldTransforms)}function qD(t,e,r,n=!1){return Xu(r,t.Qu(n?4:3,e))}function Xu(t,e){if(A2(t=Gt(t)))return Ag("Unsupported field value:",e,t),S2(t,e);if(t instanceof xg)return function(n,i){if(!T2(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Xu(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bO(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Bt.fromDate(n);return{timestampValue:nf(i.serializer,s)}}if(n instanceof Bt){const s=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nf(i.serializer,s)}}if(n instanceof Eg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof No)return{bytesValue:KT(i.serializer,n._byteString)};if(n instanceof Yr){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:og(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof wg)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return ng(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Zf(n)}`)}(t,e)}function S2(t,e){const r={};return ET(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(n,i)=>{const s=Xu(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function A2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof Eg||t instanceof No||t instanceof Yr||t instanceof xg||t instanceof wg)}function Ag(t,e,r){if(!A2(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Zf(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function Lp(t,e,r){if((e=Gt(e))instanceof t0)return e._internalPath;if(typeof e=="string")return Ig(t,e);throw of("Field path arguments must be of type string or ",t,!1,void 0,r)}const XD=new RegExp("[~\\*/\\[\\]]");function Ig(t,e,r){if(e.search(XD)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new t0(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function of(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new _e(re.INVALID_ARGUMENT,o+t+l)}function I2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(n0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class QD extends C2{data(){return super.data()}}function n0(t,e){return typeof e=="string"?Ig(t,e):e instanceof t0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class R2 extends Cg{}function Kn(t,e,...r){let n=[];e instanceof Cg&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof Rg).length,o=s.filter(l=>l instanceof i0).length;if(a>1||a>0&&o>0)throw new _e(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class i0 extends R2{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new i0(e,r,n)}_apply(e){const r=this._parse(e);return k2(e._query,r),new xa(e.firestore,e.converter,Ap(e._query,r))}_parse(e){const r=Sg(e.firestore);return function(s,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ly(f,h);const m=[];for(const _ of f)m.push(oy(l,s,_));d={arrayValue:{values:m}}}else d=oy(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ly(f,h),d=qD(o,a,f,h==="in"||h==="not-in");return Nt.create(c,h,d)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function JD(t,e,r){const n=e,i=n0("where",t);return i0._create(i,n,r)}class Rg extends Cg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Rg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Nn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)k2(a,l),a=Ap(a,l)}(e._query,r),new xa(e.firestore,e.converter,Ap(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class kg extends R2{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new kg(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new _e(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Eu(s,a)}(e._query,this._field,this._direction);return new xa(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Wo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function qn(t,e="asc"){const r=e,n=n0("orderBy",t);return kg._create(n,r)}function oy(t,e,r){if(typeof(r=Gt(r))=="string"){if(r==="")throw new _e(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&r.indexOf("/")!==-1)throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(ut.fromString(r));if(!Ae.isDocumentKey(n))throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return k_(t,new Ae(n))}if(r instanceof Yr)return k_(t,r._key);throw new _e(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(r)}.`)}function ly(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k2(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ZD{convertValue(e,r="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return _a(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>St(a.doubleValue));return new wg(s)}convertGeoPoint(e){return new Eg(St(e.latitude),St(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Zm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const r=ms(e);return new Bt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=ut.fromString(e);et(ZT(n));const i=new yu(n.get(1),n.get(3)),s=new Ae(n.popFirst(5));return i.isEqual(r)||Ei(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tF extends C2{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(n0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class _h extends tF{data(e={}){return super.data(e)}}class rF{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new zc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new _h(this._firestore,this._userDataWriter,n.key,n,new zc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new _h(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new _h(i._firestore,i._userDataWriter,o.doc.key,o.doc,new zc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:nF(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function nF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class iF extends ZD{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,r)}}function Ci(t){t=ha(t,xa);const e=ha(t.firestore,qu),r=E2(e),n=new iF(e);return YD(t._query),bD(r,t._query).then(i=>new rF(e,n,t,i))}function sF(t,e,r,...n){t=ha(t,Yr);const i=ha(t.firestore,qu),s=Sg(i);let a;return a=typeof(e=Gt(e))=="string"||e instanceof t0?KD(s,"updateDoc",t._key,e,r,n):GD(s,"updateDoc",t._key,e),Pg(i,[a.toMutation(t._key,Cn.exists(!0))])}function aF(t){return Pg(ha(t.firestore,qu),[new ig(t._key,Cn.none())])}function oF(t,e){const r=ha(t.firestore,qu),n=yg(t),i=eF(t.converter,e);return Pg(r,[$D(Sg(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Cn.exists(!1))]).then(()=>n)}function Pg(t,e){return function(n,i){const s=new cs;return n.asyncQueue.enqueueAndForget(async()=>SD(await LD(n),i,s)),s.promise}(E2(t),e)}(function(e,r=!0){(function(i){zo=i})(Bo),To(new aa("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new qu(new eO(n.getProvider("auth-internal")),new iO(n.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(c.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ls(S_,"4.7.3",e),ls(S_,"4.7.3","esm2017")})();const lF={apiKey:"AIzaSyAf6iJ4hNdJijF-4sWWt7Y-akXhT9mKCFE",authDomain:"qtholidays-app-a9595.firebaseapp.com",projectId:"qtholidays-app-a9595",storageBucket:"qtholidays-app-a9595.firebasestorage.app",messagingSenderId:"492855809684",appId:"1:492855809684:web:5927cefca2f046552e8681",measurementId:"G-MZP2YFKF8C"},P2=Pw(lF),od=qN(P2),Zr=UD(P2),N2=J.createContext(null),Ng=()=>{const t=J.useContext(N2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},uF=({children:t})=>{const[e,r]=J.useState(null),[n,i]=J.useState(!0);J.useEffect(()=>MP(od,c=>{r(c),i(!1)}),[]);const o={currentUser:e,login:async(l,c)=>{await DP(od,l,c)},logout:async()=>{await bP(od)},loading:n};return k.jsx(N2.Provider,{value:o,children:!n&&t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Kt=(t,e)=>{const r=J.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},h)=>J.createElement("svg",{ref:h,...cF,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${hF(t)}`,o].join(" "),...c},[...e.map(([f,d])=>J.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Kt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Kt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Kt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=Kt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=Kt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=Kt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=Kt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Kt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=Kt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=Kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=Kt("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=Kt("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=Kt("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=Kt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=Kt("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=Kt("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=Kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=Kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),SF=()=>{const[t,e]=J.useState("qtholidays@gmail.com"),[r,n]=J.useState("Fatema1422"),[i,s]=J.useState(""),[a,o]=J.useState(!1),{login:l,currentUser:c}=Ng(),h=Mu();J.useEffect(()=>{c&&h("/")},[c,h]);const f=async d=>{d.preventDefault();try{s(""),o(!0),await l(t,r),h("/")}catch(m){s("Failed to log in. Please check your credentials."),console.error(m)}finally{o(!1)}};return k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-100 to-teal-50 p-4",children:k.jsx("div",{className:"w-full max-w-md",children:k.jsxs("div",{className:"bg-white rounded-lg shadow-xl overflow-hidden",children:[k.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-teal-400 p-6 text-white text-center",children:[k.jsx("div",{className:"flex justify-center mb-2",children:k.jsx(Og,{size:48,className:"text-white"})}),k.jsx("h1",{className:"text-3xl font-bold",children:"QT Holidays"}),k.jsx("p",{className:"mt-1 opacity-90",children:"Travel Management System"})]}),k.jsxs("div",{className:"p-8",children:[i&&k.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),k.jsxs("form",{onSubmit:f,children:[k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),k.jsx("input",{id:"email",type:"email",value:t,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),k.jsx("input",{id:"password",type:"password",value:r,onChange:d=>n(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),k.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded-md transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-70",children:a?"Logging in...":"Log In"})]})]})]})})})},Qn=()=>{const[t,e]=J.useState(!1),{logout:r}=Ng(),n=Mu(),i=Vo(),s=async()=>{try{await r(),n("/login")}catch(o){console.error("Failed to log out",o)}},a=()=>{switch(i.pathname){case"/":return"Dashboard";case"/summary":return"Financial Summary";case"/flight-booking":return"Flight Booking";case"/hotel-reservation":return"Hotel Reservation";case"/car-rental":return"Car Rental";case"/visa":return"Visa Services";case"/foreign-exchange":return"Foreign Exchange";case"/tour-packages":return"Tour Packages";case"/train-booking":return"Train Booking";case"/vajabhat":return"Vajabhat";default:return"QT Holidays"}};return k.jsxs("nav",{className:"bg-white shadow-md",children:[k.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"flex justify-between h-16",children:[k.jsxs("div",{className:"flex",children:[k.jsx("div",{className:"flex-shrink-0 flex items-center",children:k.jsxs(uh,{to:"/",className:"flex items-center",children:[k.jsx(Og,{className:"h-8 w-8 text-blue-500"}),k.jsx("span",{className:"ml-2 text-xl font-bold text-gray-800",children:"QT Holidays"})]})}),k.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:k.jsx("div",{className:"text-lg font-medium text-gray-700",children:a()})})]}),k.jsxs("div",{className:"hidden sm:ml-6 sm:flex sm:items-center space-x-4",children:[k.jsxs(uh,{to:"/summary",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex items-center",children:[k.jsx(hy,{className:"h-5 w-5 mr-1"}),"Summary"]}),k.jsxs("button",{onClick:s,className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 hover:text-gray-900 flex items-center",children:[k.jsx(fy,{className:"h-5 w-5 mr-1"}),"Logout"]})]}),k.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:k.jsxs("button",{onClick:()=>e(!t),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:[k.jsx("span",{className:"sr-only",children:"Open main menu"}),t?k.jsx(TF,{className:"block h-6 w-6","aria-hidden":"true"}):k.jsx(vF,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),k.jsx("div",{className:`${t?"block":"hidden"} sm:hidden`,children:k.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[k.jsx("div",{className:"px-4 py-2 text-base font-medium text-gray-800",children:a()}),k.jsx(uh,{to:"/summary",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50",onClick:()=>e(!1),children:k.jsxs("div",{className:"flex items-center",children:[k.jsx(hy,{className:"h-5 w-5 mr-2"}),"Summary"]})}),k.jsx("button",{onClick:()=>{s(),e(!1)},className:"w-full text-left block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx(fy,{className:"h-5 w-5 mr-2"}),"Logout"]})})]})})]})},AF=({icon:t,title:e,description:r,to:n,color:i})=>k.jsxs(uh,{to:n,className:"block w-full bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[k.jsx("div",{className:`p-5 ${i} text-white flex items-center justify-center`,children:t}),k.jsxs("div",{className:"p-5",children:[k.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e}),k.jsx("p",{className:"mt-2 text-sm text-gray-600",children:r})]})]}),IF=()=>{const t=[{icon:k.jsx(Og,{size:30}),title:"Flight Booking",description:"Manage flight bookings with complete financial tracking",to:"/flight-booking",color:"bg-blue-500"},{icon:k.jsx(fF,{size:30}),title:"Hotel Reservation",description:"Track hotel bookings and associated costs",to:"/hotel-reservation",color:"bg-indigo-500"},{icon:k.jsx(dF,{size:30}),title:"Car Rental",description:"Manage car rentals with size and pricing details",to:"/car-rental",color:"bg-green-500"},{icon:k.jsx(xF,{size:30}),title:"Visa",description:"Track visa applications and processing fees",to:"/visa",color:"bg-yellow-500"},{icon:k.jsx(pF,{size:30}),title:"Foreign Exchange",description:"Manage currency exchange rates and transactions",to:"/foreign-exchange",color:"bg-purple-500"},{icon:k.jsx(gF,{size:30}),title:"Tour Packages",description:"Comprehensive tracking of complete tour packages",to:"/tour-packages",color:"bg-red-500"},{icon:k.jsx(EF,{size:30}),title:"Train Booking",description:"Manage train tickets and associated costs",to:"/train-booking",color:"bg-teal-500"},{icon:k.jsx(yF,{size:30}),title:"Vajabhat",description:"Track miscellaneous payments and expenses",to:"/vajabhat",color:"bg-orange-500"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-8",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to QT Holidays Management"}),k.jsx("p",{className:"mt-2 text-gray-600",children:"Track and manage all your travel services in one place"})]}),k.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((e,r)=>k.jsx(AF,{icon:e.icon,title:e.title,description:e.description,to:e.to,color:e.color},r))})]})]})},Fe={FLIGHT_BOOKING:"flightBookings",HOTEL_RESERVATION:"hotelReservations",CAR_RENTAL:"carRentals",VISA:"visas",FOREIGN_EXCHANGE:"foreignExchanges",TOUR_PACKAGE:"tourPackages",TRAIN_BOOKING:"trainBookings",VAJABHAT:"vajabhats"},Rs=async(t,e)=>{const r=Date.now(),n={...e,createdAt:r,updatedAt:r},i=await oF(On(Zr,t),n);return{...n,id:i.id}},ks=async(t,e,r)=>{const n={...r,updatedAt:Date.now()},i=yg(Zr,t,e);return await sF(i,n),n},Ps=async(t,e)=>{const r=yg(Zr,t,e);return await aF(r),e},pt=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),O2=(t,e)=>t-e;/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var lf={};lf.version="0.18.5";var D2=1252,CF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],F2=function(t){CF.indexOf(t)!=-1&&(D2=t)};function RF(){F2(1252)}var Su=function(t){F2(t)};function kF(){Su(1200),RF()}var Wc=function(e){return String.fromCharCode(e)},dy=function(e){return String.fromCharCode(e)},$s,Xi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Au(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,c=0;c<t.length;)r=t.charCodeAt(c++),s=r>>2,n=t.charCodeAt(c++),a=(r&3)<<4|n>>4,i=t.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Xi.charAt(s)+Xi.charAt(a)+Xi.charAt(o)+Xi.charAt(l);return e}function Ti(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<t.length;)s=Xi.indexOf(t.charAt(c++)),a=Xi.indexOf(t.charAt(c++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Xi.indexOf(t.charAt(c++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Xi.indexOf(t.charAt(c++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var qe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ri=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function fa(t){return qe?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function py(t){return qe?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Tn=function(e){return qe?Ri(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function s0(t){if(typeof ArrayBuffer>"u")return Tn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Qu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function PF(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var tr=qe?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ri(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function NF(t){for(var e=[],r=0,n=t.length+250,i=fa(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=fa(65535),n=65530)}return e.push(i.slice(0,r)),tr(e)}var Wl=/\u0000/g,Hc=/[\u0001-\u0006]/g;function ho(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Sn(t,e){var r=""+t;return r.length>=e?r:wt("0",e-r.length)+r}function Dg(t,e){var r=""+t;return r.length>=e?r:wt(" ",e-r.length)+r}function uf(t,e){var r=""+t;return r.length>=e?r:r+wt(" ",e-r.length)}function OF(t,e){var r=""+Math.round(t);return r.length>=e?r:wt("0",e-r.length)+r}function DF(t,e){var r=""+t;return r.length>=e?r:wt("0",e-r.length)+r}var my=Math.pow(2,32);function Fa(t,e){if(t>my||t<-my)return OF(t,e);var r=Math.round(t);return DF(r,e)}function cf(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var gy=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ld=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function FF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var Tt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},vy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},LF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hf(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,c=0,h=0,f=Math.floor(i);c<e&&(f=Math.floor(i),o=f*a+s,h=f*c+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=c,c=h;if(h>e&&(c>e?(h=l,o=s):(h=c,o=a)),!r)return[0,n*o,h];var d=Math.floor(n*o/h);return[d,n*o-d*h,h]}function $c(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=zF(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var L2=new Date(1899,11,31,0,0,0),MF=L2.getTime(),bF=new Date(1900,2,1,0,0,0);function M2(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=bF&&(r+=24*60*60*1e3),(r-(MF+(t.getTimezoneOffset()-L2.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Fg(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function VF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function BF(t){var e=t<0?12:11,r=Fg(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function UF(t){var e=Fg(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function jF(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=BF(t):e===10?r=t.toFixed(10).substr(0,12):r=UF(t),Fg(VF(r.toUpperCase()))}function Mp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):jF(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return vs(14,M2(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function zF(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function WF(t,e,r,n){var i="",s=0,a=0,o=r.y,l,c=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,c=e.length;break;case 3:return ld[r.m-1][1];case 5:return ld[r.m-1][0];default:return ld[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,c=e.length;break;case 3:return gy[r.q][0];default:return gy[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,c=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,c=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,c=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Sn(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Sn(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}c=e.length===3?1:2;break;case 101:l=o,c=1;break}var h=c>0?Sn(l,c):"";return h}function Qi(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var b2=/%/g;function HF(t,e,r){var n=e.replace(b2,""),i=e.length-n.length;return fi(t,n,r*Math.pow(10,2*i))+wt("%",i)}function $F(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return fi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function V2(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+V2(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,h){return l+c+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var B2=/# (\?+)( ?)\/( ?)(\d+)/;function GF(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?wt(" ",t[1].length+1+t[4].length):Dg(a,t[1].length)+t[2]+"/"+t[3]+Sn(o,t[4].length))}function KF(t,e,r){return r+(e===0?"":""+e)+wt(" ",t[1].length+2+t[4].length)}var U2=/^#*0*\.([0#]+)/,j2=/\).*[0#]/,z2=/\(###\) ###\\?-####/;function wr(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function _y(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function yy(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function qF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function XF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function an(t,e,r){if(t.charCodeAt(0)===40&&!e.match(j2)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?an("n",n,r):"("+an("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return $F(t,e,r);if(e.indexOf("%")!==-1)return HF(t,e,r);if(e.indexOf("E")!==-1)return V2(e,r);if(e.charCodeAt(0)===36)return"$"+an(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Fa(l,e.length);if(e.match(/^[#?]+$/))return i=Fa(r,0),i==="0"&&(i=""),i.length>e.length?i:wr(e.substr(0,e.length-i.length))+i;if(s=e.match(B2))return GF(s,l,c);if(e.match(/^#+0+$/))return c+Fa(l,e.length-e.indexOf("0"));if(s=e.match(U2))return i=_y(r,s[1].length).replace(/^([^\.]+)$/,"$1."+wr(s[1])).replace(/\.$/,"."+wr(s[1])).replace(/\.(\d*)$/,function(_,v){return"."+v+wt("0",wr(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+_y(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Qi(Fa(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+an(t,e,-r):Qi(""+(Math.floor(r)+qF(r,s[1].length)))+"."+Sn(yy(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return an(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ho(an(t,e.replace(/[\\-]/g,""),r)),a=0,ho(ho(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(z2))return i=an(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=hf(l,Math.pow(10,a)-1,!1),i=""+c,h=fi("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=uf(o[2],a),h.length<s[4].length&&(h=wr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=hf(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Dg(o[1],a)+s[2]+"/"+s[3]+uf(o[2],a):wt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Fa(r,0),e.length<=i.length?i:wr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return wr(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=yy(r,s[1].length),r<0?"-"+an(t,e,-r):Qi(XF(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Sn(0,3-_.length):"")+_})+"."+Sn(a,s[1].length);switch(e){case"###,##0.00":return an(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=Qi(Fa(l,0));return m!=="0"?c+m:"";case"###,###.00":return an(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return an(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function QF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return fi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function YF(t,e,r){var n=e.replace(b2,""),i=e.length-n.length;return fi(t,n,r*Math.pow(10,2*i))+wt("%",i)}function W2(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+W2(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,h){return l+c+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Mn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(j2)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Mn("n",n,r):"("+Mn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return QF(t,e,r);if(e.indexOf("%")!==-1)return YF(t,e,r);if(e.indexOf("E")!==-1)return W2(e,r);if(e.charCodeAt(0)===36)return"$"+Mn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),c=r<0?"-":"";if(e.match(/^00+$/))return c+Sn(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:wr(e.substr(0,e.length-i.length))+i;if(s=e.match(B2))return KF(s,l,c);if(e.match(/^#+0+$/))return c+Sn(l,e.length-e.indexOf("0"));if(s=e.match(U2))return i=(""+r).replace(/^([^\.]+)$/,"$1."+wr(s[1])).replace(/\.$/,"."+wr(s[1])),i=i.replace(/\.(\d*)$/,function(_,v){return"."+v+wt("0",wr(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return c+Qi(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Mn(t,e,-r):Qi(""+r)+"."+wt("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Mn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ho(Mn(t,e.replace(/[\\-]/g,""),r)),a=0,ho(ho(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(z2))return i=Mn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=hf(l,Math.pow(10,a)-1,!1),i=""+c,h=fi("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=uf(o[2],a),h.length<s[4].length&&(h=wr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=hf(l,Math.pow(10,a)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Dg(o[1],a)+s[2]+"/"+s[3]+uf(o[2],a):wt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:wr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return wr(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Mn(t,e,-r):Qi(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Sn(0,3-_.length):"")+_})+"."+Sn(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=Qi(""+l);return m!=="0"?c+m:"";default:if(e.match(/\.[0#?]*$/))return Mn(t,e.slice(0,e.lastIndexOf(".")),r)+wr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function fi(t,e,r){return(r|0)===r?Mn(t,e,r):an(t,e,r)}function JF(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var H2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function $2(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":cf(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(H2))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function ZF(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",c,h,f,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!cf(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),_=m==="("||m===")"?m:"t";i[i.length]={t:_,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(c==null&&(c=$c(e,r,t.charAt(a+1)==="2"),c==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||c==null&&(c=$c(e,r),c==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var v={t:o,v:o};if(c==null&&(c=$c(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="上午/下午"?(c!=null&&(v.v=c.H>=12?"下午":"上午"),v.t="T",a+=5,d="h"):(v.t="t",++a),c==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(H2)){if(c==null&&(c=$c(e,r),c==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",$2(t)||(i[i.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var g=0,w=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",g<1&&(g=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(w=Math.max(w,x[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[a].v.match(/[Hh]/)&&(g=1),g<2&&i[a].v.match(/[Mm]/)&&(g=2),g<3&&i[a].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var E="",M;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=WF(i[a].t.charCodeAt(0),i[a].v,c,w),i[a].t="t";break;case"n":case"?":for(M=a+1;i[M]!=null&&((o=i[M].t)==="?"||o==="D"||(o===" "||o==="t")&&i[M+1]!=null&&(i[M+1].t==="?"||i[M+1].t==="t"&&i[M+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[M].v==="/"||i[M].v===" "&&i[M+1]!=null&&i[M+1].t=="?"));)i[a].v+=i[M].v,i[M]={v:"",t:";"},++M;E+=i[a].v,a=M-1;break;case"G":i[a].t="t",i[a].v=Mp(e,r);break}var z="",q,T;if(E.length>0){E.charCodeAt(0)==40?(q=e<0&&E.charCodeAt(0)===45?-e:e,T=fi("n",E,q)):(q=e<0&&n>1?-e:e,T=fi("n",E,q),q<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),M=T.length-1;var S=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){S=a;break}var A=i.length;if(S===i.length&&T.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(M>=i[a].v.length-1?(M-=i[a].v.length,i[a].v=T.substr(M+1,i[a].v.length)):M<0?i[a].v="":(i[a].v=T.substr(0,M+1),M=-1),i[a].t="t",A=a);M>=0&&A<i.length&&(i[A].v=T.substr(0,M+1)+i[A].v)}else if(S!==i.length&&T.indexOf("E")===-1){for(M=T.indexOf(".")-1,a=S;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===S?i[a].v.indexOf(".")-1:i[a].v.length-1,z=i[a].v.substr(h+1);h>=0;--h)M>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(z=T.charAt(M--)+z);i[a].v=z,i[a].t="t",A=a}for(M>=0&&A<i.length&&(i[A].v=T.substr(0,M+1)+i[A].v),M=T.indexOf(".")+1,a=S;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==S)){for(h=i[a].v.indexOf(".")>-1&&a===S?i[a].v.indexOf(".")+1:0,z=i[a].v.substr(0,h);h<i[a].v.length;++h)M<T.length&&(z+=T.charAt(M++));i[a].v=z,i[a].t="t",A=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(q=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=fi(i[a].t,i[a].v,q),i[a].t="t");var C="";for(a=0;a!==i.length;++a)i[a]!=null&&(C+=i[a].v);return C}var xy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Ey(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function eL(t,e){var r=JF(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(xy),o=r[1].match(xy);return Ey(e,a)?[n,r[0]]:Ey(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function vs(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tt)[t],n==null&&(n=r.table&&r.table[vy[t]]||Tt[vy[t]]),n==null&&(n=LF[t]||"General");break}if(cf(n,0))return Mp(e,r);e instanceof Date&&(e=M2(e,r.date1904));var i=eL(n,e);if(cf(i[1]))return Mp(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return ZF(i[1],e,r,i[0])}function G2(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Tt[r]==null){e<0&&(e=r);continue}if(Tt[r]==t){e=r;break}}e<0&&(e=391)}return Tt[e]=t,e}function a0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&G2(t[e],e)}function o0(){Tt=FF()}var K2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function tL(t){var e=typeof t=="number"?Tt[t]:t;return e=e.replace(K2,"(\\d+)"),new RegExp("^"+e+"$")}function rL(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(K2)||[]).forEach(function(f,d){var m=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&s==-1?h:c+"T"+h}var nL=function(){var t={};t.version="1.2.0";function e(){for(var T=0,S=new Array(256),A=0;A!=256;++A)T=A,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[A]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=e();function n(T){var S=0,A=0,C=0,D=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(C=0;C!=256;++C)D[C]=T[C];for(C=0;C!=256;++C)for(A=T[C],S=256+C;S<4096;S+=256)A=D[S]=A>>>8^T[A&255];var V=[];for(C=1;C!=16;++C)V[C-1]=typeof Int32Array<"u"?D.subarray(C*256,C*256+256):D.slice(C*256,C*256+256);return V}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],h=i[5],f=i[6],d=i[7],m=i[8],_=i[9],v=i[10],g=i[11],w=i[12],x=i[13],E=i[14];function M(T,S){for(var A=S^-1,C=0,D=T.length;C<D;)A=A>>>8^r[(A^T.charCodeAt(C++))&255];return~A}function z(T,S){for(var A=S^-1,C=T.length-15,D=0;D<C;)A=E[T[D++]^A&255]^x[T[D++]^A>>8&255]^w[T[D++]^A>>16&255]^g[T[D++]^A>>>24]^v[T[D++]]^_[T[D++]]^m[T[D++]]^d[T[D++]]^f[T[D++]]^h[T[D++]]^c[T[D++]]^l[T[D++]]^o[T[D++]]^a[T[D++]]^s[T[D++]]^r[T[D++]];for(C+=15;D<C;)A=A>>>8^r[(A^T[D++])&255];return~A}function q(T,S){for(var A=S^-1,C=0,D=T.length,V=0,N=0;C<D;)V=T.charCodeAt(C++),V<128?A=A>>>8^r[(A^V)&255]:V<2048?(A=A>>>8^r[(A^(192|V>>6&31))&255],A=A>>>8^r[(A^(128|V&63))&255]):V>=55296&&V<57344?(V=(V&1023)+64,N=T.charCodeAt(C++)&1023,A=A>>>8^r[(A^(240|V>>8&7))&255],A=A>>>8^r[(A^(128|V>>2&63))&255],A=A>>>8^r[(A^(128|N>>6&15|(V&3)<<4))&255],A=A>>>8^r[(A^(128|N&63))&255]):(A=A>>>8^r[(A^(224|V>>12&15))&255],A=A>>>8^r[(A^(128|V>>6&63))&255],A=A>>>8^r[(A^(128|V&63))&255]);return~A}return t.table=r,t.bstr=M,t.buf=z,t.str=q,t}(),rt=function(){var e={};e.version="1.2.1";function r(I,F){for(var P=I.split("/"),O=F.split("/"),L=0,b=0,G=Math.min(P.length,O.length);L<G;++L){if(b=P[L].length-O[L].length)return b;if(P[L]!=O[L])return P[L]<O[L]?-1:1}return P.length-O.length}function n(I){if(I.charAt(I.length-1)=="/")return I.slice(0,-1).indexOf("/")===-1?I:n(I.slice(0,-1));var F=I.lastIndexOf("/");return F===-1?I:I.slice(0,F+1)}function i(I){if(I.charAt(I.length-1)=="/")return i(I.slice(0,-1));var F=I.lastIndexOf("/");return F===-1?I:I.slice(F+1)}function s(I,F){typeof F=="string"&&(F=new Date(F));var P=F.getHours();P=P<<6|F.getMinutes(),P=P<<5|F.getSeconds()>>>1,I.write_shift(2,P);var O=F.getFullYear()-1980;O=O<<4|F.getMonth()+1,O=O<<5|F.getDate(),I.write_shift(2,O)}function a(I){var F=I.read_shift(2)&65535,P=I.read_shift(2)&65535,O=new Date,L=P&31;P>>>=5;var b=P&15;P>>>=4,O.setMilliseconds(0),O.setFullYear(P+1980),O.setMonth(b-1),O.setDate(L);var G=F&31;F>>>=5;var Z=F&63;return F>>>=6,O.setHours(F),O.setMinutes(Z),O.setSeconds(G<<1),O}function o(I){$r(I,0);for(var F={},P=0;I.l<=I.length-4;){var O=I.read_shift(2),L=I.read_shift(2),b=I.l+L,G={};switch(O){case 21589:P=I.read_shift(1),P&1&&(G.mtime=I.read_shift(4)),L>5&&(P&2&&(G.atime=I.read_shift(4)),P&4&&(G.ctime=I.read_shift(4))),G.mtime&&(G.mt=new Date(G.mtime*1e3));break}I.l=b,F[O]=G}return F}var l;function c(){return l||(l={})}function h(I,F){if(I[0]==80&&I[1]==75)return el(I,F);if((I[0]|32)==109&&(I[1]|32)==105)return oc(I,F);if(I.length<512)throw new Error("CFB file size "+I.length+" < 512");var P=3,O=512,L=0,b=0,G=0,Z=0,K=0,X=[],Q=I.slice(0,512);$r(Q,0);var se=f(Q);switch(P=se[0],P){case 3:O=512;break;case 4:O=4096;break;case 0:if(se[1]==0)return el(I,F);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}O!==512&&(Q=I.slice(0,O),$r(Q,28));var he=I.slice(0,O);d(Q,P);var me=Q.read_shift(4,"i");if(P===3&&me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+me);Q.l+=4,G=Q.read_shift(4,"i"),Q.l+=4,Q.chk("00100000","Mini Stream Cutoff Size: "),Z=Q.read_shift(4,"i"),L=Q.read_shift(4,"i"),K=Q.read_shift(4,"i"),b=Q.read_shift(4,"i");for(var oe=-1,pe=0;pe<109&&(oe=Q.read_shift(4,"i"),!(oe<0));++pe)X[pe]=oe;var Re=m(I,O);g(K,b,Re,O,X);var nt=x(Re,G,X,O);nt[G].name="!Directory",L>0&&Z!==N&&(nt[Z].name="!MiniFAT"),nt[X[0]].name="!FAT",nt.fat_addrs=X,nt.ssz=O;var Xe={},ft=[],ei=[],Bs=[];E(G,nt,Re,ft,L,Xe,ei,Z),_(ei,Bs,ft),ft.shift();var Ni={FileIndex:ei,FullPaths:Bs};return F&&F.raw&&(Ni.raw={header:he,sectors:Re}),Ni}function f(I){if(I[I.l]==80&&I[I.l+1]==75)return[0,0];I.chk(Oe,"Header Signature: "),I.l+=16;var F=I.read_shift(2,"u");return[I.read_shift(2,"u"),F]}function d(I,F){var P=9;switch(I.l+=2,P=I.read_shift(2)){case 9:if(F!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(F!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}I.chk("0600","Mini Sector Shift: "),I.chk("000000000000","Reserved: ")}function m(I,F){for(var P=Math.ceil(I.length/F)-1,O=[],L=1;L<P;++L)O[L-1]=I.slice(L*F,(L+1)*F);return O[P-1]=I.slice(P*F),O}function _(I,F,P){for(var O=0,L=0,b=0,G=0,Z=0,K=P.length,X=[],Q=[];O<K;++O)X[O]=Q[O]=O,F[O]=P[O];for(;Z<Q.length;++Z)O=Q[Z],L=I[O].L,b=I[O].R,G=I[O].C,X[O]===O&&(L!==-1&&X[L]!==L&&(X[O]=X[L]),b!==-1&&X[b]!==b&&(X[O]=X[b])),G!==-1&&(X[G]=O),L!==-1&&O!=X[O]&&(X[L]=X[O],Q.lastIndexOf(L)<Z&&Q.push(L)),b!==-1&&O!=X[O]&&(X[b]=X[O],Q.lastIndexOf(b)<Z&&Q.push(b));for(O=1;O<K;++O)X[O]===O&&(b!==-1&&X[b]!==b?X[O]=X[b]:L!==-1&&X[L]!==L&&(X[O]=X[L]));for(O=1;O<K;++O)if(I[O].type!==0){if(Z=O,Z!=X[Z])do Z=X[Z],F[O]=F[Z]+"/"+F[O];while(Z!==0&&X[Z]!==-1&&Z!=X[Z]);X[O]=-1}for(F[0]+="/",O=1;O<K;++O)I[O].type!==2&&(F[O]+="/")}function v(I,F,P){for(var O=I.start,L=I.size,b=[],G=O;P&&L>0&&G>=0;)b.push(F.slice(G*V,G*V+V)),L-=V,G=Gs(P,G*4);return b.length===0?ee(0):tr(b).slice(0,I.size)}function g(I,F,P,O,L){var b=N;if(I===N){if(F!==0)throw new Error("DIFAT chain shorter than expected")}else if(I!==-1){var G=P[I],Z=(O>>>2)-1;if(!G)return;for(var K=0;K<Z&&(b=Gs(G,K*4))!==N;++K)L.push(b);g(Gs(G,O-4),F-1,P,O,L)}}function w(I,F,P,O,L){var b=[],G=[];L||(L=[]);var Z=O-1,K=0,X=0;for(K=F;K>=0;){L[K]=!0,b[b.length]=K,G.push(I[K]);var Q=P[Math.floor(K*4/O)];if(X=K*4&Z,O<4+X)throw new Error("FAT boundary crossed: "+K+" 4 "+O);if(!I[Q])break;K=Gs(I[Q],X)}return{nodes:b,data:ky([G])}}function x(I,F,P,O){var L=I.length,b=[],G=[],Z=[],K=[],X=O-1,Q=0,se=0,he=0,me=0;for(Q=0;Q<L;++Q)if(Z=[],he=Q+F,he>=L&&(he-=L),!G[he]){K=[];var oe=[];for(se=he;se>=0;){oe[se]=!0,G[se]=!0,Z[Z.length]=se,K.push(I[se]);var pe=P[Math.floor(se*4/O)];if(me=se*4&X,O<4+me)throw new Error("FAT boundary crossed: "+se+" 4 "+O);if(!I[pe]||(se=Gs(I[pe],me),oe[se]))break}b[he]={nodes:Z,data:ky([K])}}return b}function E(I,F,P,O,L,b,G,Z){for(var K=0,X=O.length?2:0,Q=F[I].data,se=0,he=0,me;se<Q.length;se+=128){var oe=Q.slice(se,se+128);$r(oe,64),he=oe.read_shift(2),me=Bg(oe,0,he-X),O.push(me);var pe={name:me,type:oe.read_shift(1),color:oe.read_shift(1),L:oe.read_shift(4,"i"),R:oe.read_shift(4,"i"),C:oe.read_shift(4,"i"),clsid:oe.read_shift(16),state:oe.read_shift(4,"i"),start:0,size:0},Re=oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2);Re!==0&&(pe.ct=M(oe,oe.l-8));var nt=oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2);nt!==0&&(pe.mt=M(oe,oe.l-8)),pe.start=oe.read_shift(4,"i"),pe.size=oe.read_shift(4,"i"),pe.size<0&&pe.start<0&&(pe.size=pe.type=0,pe.start=N,pe.name=""),pe.type===5?(K=pe.start,L>0&&K!==N&&(F[K].name="!StreamData")):pe.size>=4096?(pe.storage="fat",F[pe.start]===void 0&&(F[pe.start]=w(P,pe.start,F.fat_addrs,F.ssz)),F[pe.start].name=pe.name,pe.content=F[pe.start].data.slice(0,pe.size)):(pe.storage="minifat",pe.size<0?pe.size=0:K!==N&&pe.start!==N&&F[K]&&(pe.content=v(pe,F[K].data,(F[Z]||{}).data))),pe.content&&$r(pe.content,0),b[me]=pe,G.push(pe)}}function M(I,F){return new Date((Kr(I,F+4)/1e7*Math.pow(2,32)+Kr(I,F)/1e7-11644473600)*1e3)}function z(I,F){return c(),h(l.readFileSync(I),F)}function q(I,F){var P=F&&F.type;switch(P||qe&&Buffer.isBuffer(I)&&(P="buffer"),P||"base64"){case"file":return z(I,F);case"base64":return h(Tn(Ti(I)),F);case"binary":return h(Tn(I),F)}return h(I,F)}function T(I,F){var P=F||{},O=P.root||"Root Entry";if(I.FullPaths||(I.FullPaths=[]),I.FileIndex||(I.FileIndex=[]),I.FullPaths.length!==I.FileIndex.length)throw new Error("inconsistent CFB structure");I.FullPaths.length===0&&(I.FullPaths[0]=O+"/",I.FileIndex[0]={name:O,type:5}),P.CLSID&&(I.FileIndex[0].clsid=P.CLSID),S(I)}function S(I){var F="Sh33tJ5";if(!rt.find(I,"/"+F)){var P=ee(4);P[0]=55,P[1]=P[3]=50,P[2]=54,I.FileIndex.push({name:F,type:2,content:P,size:4,L:69,R:69,C:69}),I.FullPaths.push(I.FullPaths[0]+F),A(I)}}function A(I,F){T(I);for(var P=!1,O=!1,L=I.FullPaths.length-1;L>=0;--L){var b=I.FileIndex[L];switch(b.type){case 0:O?P=!0:(I.FileIndex.pop(),I.FullPaths.pop());break;case 1:case 2:case 5:O=!0,isNaN(b.R*b.L*b.C)&&(P=!0),b.R>-1&&b.L>-1&&b.R==b.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!F)){var G=new Date(1987,1,19),Z=0,K=Object.create?Object.create(null):{},X=[];for(L=0;L<I.FullPaths.length;++L)K[I.FullPaths[L]]=!0,I.FileIndex[L].type!==0&&X.push([I.FullPaths[L],I.FileIndex[L]]);for(L=0;L<X.length;++L){var Q=n(X[L][0]);O=K[Q],O||(X.push([Q,{name:i(Q).replace("/",""),type:1,clsid:mt,ct:G,mt:G,content:null}]),K[Q]=!0)}for(X.sort(function(me,oe){return r(me[0],oe[0])}),I.FullPaths=[],I.FileIndex=[],L=0;L<X.length;++L)I.FullPaths[L]=X[L][0],I.FileIndex[L]=X[L][1];for(L=0;L<X.length;++L){var se=I.FileIndex[L],he=I.FullPaths[L];if(se.name=i(he).replace("/",""),se.L=se.R=se.C=-(se.color=1),se.size=se.content?se.content.length:0,se.start=0,se.clsid=se.clsid||mt,L===0)se.C=X.length>1?1:-1,se.size=0,se.type=5;else if(he.slice(-1)=="/"){for(Z=L+1;Z<X.length&&n(I.FullPaths[Z])!=he;++Z);for(se.C=Z>=X.length?-1:Z,Z=L+1;Z<X.length&&n(I.FullPaths[Z])!=n(he);++Z);se.R=Z>=X.length?-1:Z,se.type=1}else n(I.FullPaths[L+1]||"")==n(he)&&(se.R=L+1),se.type=2}}}function C(I,F){var P=F||{};if(P.fileType=="mad")return qt(I,P);switch(A(I),P.fileType){case"zip":return tl(I,P)}var O=function(me){for(var oe=0,pe=0,Re=0;Re<me.FileIndex.length;++Re){var nt=me.FileIndex[Re];if(nt.content){var Xe=nt.content.length;Xe>0&&(Xe<4096?oe+=Xe+63>>6:pe+=Xe+511>>9)}}for(var ft=me.FullPaths.length+3>>2,ei=oe+7>>3,Bs=oe+127>>7,Ni=ei+pe+ft+Bs,Dn=Ni+127>>7,ka=Dn<=109?0:Math.ceil((Dn-109)/127);Ni+Dn+ka+127>>7>Dn;)ka=++Dn<=109?0:Math.ceil((Dn-109)/127);var Ur=[1,ka,Dn,Bs,ft,pe,oe,0];return me.FileIndex[0].size=oe<<6,Ur[7]=(me.FileIndex[0].start=Ur[0]+Ur[1]+Ur[2]+Ur[3]+Ur[4]+Ur[5])+(Ur[6]+7>>3),Ur}(I),L=ee(O[7]<<9),b=0,G=0;{for(b=0;b<8;++b)L.write_shift(1,Ie[b]);for(b=0;b<8;++b)L.write_shift(2,0);for(L.write_shift(2,62),L.write_shift(2,3),L.write_shift(2,65534),L.write_shift(2,9),L.write_shift(2,6),b=0;b<3;++b)L.write_shift(2,0);for(L.write_shift(4,0),L.write_shift(4,O[2]),L.write_shift(4,O[0]+O[1]+O[2]+O[3]-1),L.write_shift(4,0),L.write_shift(4,4096),L.write_shift(4,O[3]?O[0]+O[1]+O[2]-1:N),L.write_shift(4,O[3]),L.write_shift(-4,O[1]?O[0]-1:N),L.write_shift(4,O[1]),b=0;b<109;++b)L.write_shift(-4,b<O[2]?O[1]+b:-1)}if(O[1])for(G=0;G<O[1];++G){for(;b<236+G*127;++b)L.write_shift(-4,b<O[2]?O[1]+b:-1);L.write_shift(-4,G===O[1]-1?N:G+1)}var Z=function(me){for(G+=me;b<G-1;++b)L.write_shift(-4,b+1);me&&(++b,L.write_shift(-4,N))};for(G=b=0,G+=O[1];b<G;++b)L.write_shift(-4,Ke.DIFSECT);for(G+=O[2];b<G;++b)L.write_shift(-4,Ke.FATSECT);Z(O[3]),Z(O[4]);for(var K=0,X=0,Q=I.FileIndex[0];K<I.FileIndex.length;++K)Q=I.FileIndex[K],Q.content&&(X=Q.content.length,!(X<4096)&&(Q.start=G,Z(X+511>>9)));for(Z(O[6]+7>>3);L.l&511;)L.write_shift(-4,Ke.ENDOFCHAIN);for(G=b=0,K=0;K<I.FileIndex.length;++K)Q=I.FileIndex[K],Q.content&&(X=Q.content.length,!(!X||X>=4096)&&(Q.start=G,Z(X+63>>6)));for(;L.l&511;)L.write_shift(-4,Ke.ENDOFCHAIN);for(b=0;b<O[4]<<2;++b){var se=I.FullPaths[b];if(!se||se.length===0){for(K=0;K<17;++K)L.write_shift(4,0);for(K=0;K<3;++K)L.write_shift(4,-1);for(K=0;K<12;++K)L.write_shift(4,0);continue}Q=I.FileIndex[b],b===0&&(Q.start=Q.size?Q.start-1:N);var he=b===0&&P.root||Q.name;if(X=2*(he.length+1),L.write_shift(64,he,"utf16le"),L.write_shift(2,X),L.write_shift(1,Q.type),L.write_shift(1,Q.color),L.write_shift(-4,Q.L),L.write_shift(-4,Q.R),L.write_shift(-4,Q.C),Q.clsid)L.write_shift(16,Q.clsid,"hex");else for(K=0;K<4;++K)L.write_shift(4,0);L.write_shift(4,Q.state||0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,Q.start),L.write_shift(4,Q.size),L.write_shift(4,0)}for(b=1;b<I.FileIndex.length;++b)if(Q=I.FileIndex[b],Q.size>=4096)if(L.l=Q.start+1<<9,qe&&Buffer.isBuffer(Q.content))Q.content.copy(L,L.l,0,Q.size),L.l+=Q.size+511&-512;else{for(K=0;K<Q.size;++K)L.write_shift(1,Q.content[K]);for(;K&511;++K)L.write_shift(1,0)}for(b=1;b<I.FileIndex.length;++b)if(Q=I.FileIndex[b],Q.size>0&&Q.size<4096)if(qe&&Buffer.isBuffer(Q.content))Q.content.copy(L,L.l,0,Q.size),L.l+=Q.size+63&-64;else{for(K=0;K<Q.size;++K)L.write_shift(1,Q.content[K]);for(;K&63;++K)L.write_shift(1,0)}if(qe)L.l=L.length;else for(;L.l<L.length;)L.write_shift(1,0);return L}function D(I,F){var P=I.FullPaths.map(function(K){return K.toUpperCase()}),O=P.map(function(K){var X=K.split("/");return X[X.length-(K.slice(-1)=="/"?2:1)]}),L=!1;F.charCodeAt(0)===47?(L=!0,F=P[0].slice(0,-1)+F):L=F.indexOf("/")!==-1;var b=F.toUpperCase(),G=L===!0?P.indexOf(b):O.indexOf(b);if(G!==-1)return I.FileIndex[G];var Z=!b.match(Hc);for(b=b.replace(Wl,""),Z&&(b=b.replace(Hc,"!")),G=0;G<P.length;++G)if((Z?P[G].replace(Hc,"!"):P[G]).replace(Wl,"")==b||(Z?O[G].replace(Hc,"!"):O[G]).replace(Wl,"")==b)return I.FileIndex[G];return null}var V=64,N=-2,Oe="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],mt="00000000000000000000000000000000",Ke={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:Oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:mt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(I,F,P){c();var O=C(I,P);l.writeFileSync(F,O)}function xe(I){for(var F=new Array(I.length),P=0;P<I.length;++P)F[P]=String.fromCharCode(I[P]);return F.join("")}function Se(I,F){var P=C(I,F);switch(F&&F.type||"buffer"){case"file":return c(),l.writeFileSync(F.filename,P),P;case"binary":return typeof P=="string"?P:xe(P);case"base64":return Au(typeof P=="string"?P:xe(P));case"buffer":if(qe)return Buffer.isBuffer(P)?P:Ri(P);case"array":return typeof P=="string"?Tn(P):P}return P}var Le;function B(I){try{var F=I.InflateRaw,P=new F;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)Le=I;else throw new Error("zlib does not expose bytesRead")}catch(O){console.error("cannot use native zlib: "+(O.message||O))}}function H(I,F){if(!Le)return Ca(I,F);var P=Le.InflateRaw,O=new P,L=O._processChunk(I.slice(I.l),O._finishFlushFlag);return I.l+=O.bytesRead,L}function j(I){return Le?Le.deflateRawSync(I):Qo(I)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Te(I){var F=(I<<1|I<<11)&139536|(I<<5|I<<15)&558144;return(F>>16|F>>8|F)&255}for(var Ee=typeof Uint8Array<"u",de=Ee?new Uint8Array(256):[],We=0;We<256;++We)de[We]=Te(We);function Me(I,F){var P=de[I&255];return F<=8?P>>>8-F:(P=P<<8|de[I>>8&255],F<=16?P>>>16-F:(P=P<<8|de[I>>16&255],P>>>24-F))}function Ft(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=6?0:I[O+1]<<8))>>>P&3}function Ue(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=5?0:I[O+1]<<8))>>>P&7}function Br(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=4?0:I[O+1]<<8))>>>P&15}function at(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=3?0:I[O+1]<<8))>>>P&31}function ye(I,F){var P=F&7,O=F>>>3;return(I[O]|(P<=1?0:I[O+1]<<8))>>>P&127}function Rr(I,F,P){var O=F&7,L=F>>>3,b=(1<<P)-1,G=I[L]>>>O;return P<8-O||(G|=I[L+1]<<8-O,P<16-O)||(G|=I[L+2]<<16-O,P<24-O)||(G|=I[L+3]<<24-O),G&b}function nn(I,F,P){var O=F&7,L=F>>>3;return O<=5?I[L]|=(P&7)<<O:(I[L]|=P<<O&255,I[L+1]=(P&7)>>8-O),F+3}function mn(I,F,P){var O=F&7,L=F>>>3;return P=(P&1)<<O,I[L]|=P,F+1}function Yn(I,F,P){var O=F&7,L=F>>>3;return P<<=O,I[L]|=P&255,P>>>=8,I[L+1]=P,F+8}function rc(I,F,P){var O=F&7,L=F>>>3;return P<<=O,I[L]|=P&255,P>>>=8,I[L+1]=P&255,I[L+2]=P>>>8,F+16}function Fs(I,F){var P=I.length,O=2*P>F?2*P:F+5,L=0;if(P>=F)return I;if(qe){var b=py(O);if(I.copy)I.copy(b);else for(;L<I.length;++L)b[L]=I[L];return b}else if(Ee){var G=new Uint8Array(O);if(G.set)G.set(I);else for(;L<P;++L)G[L]=I[L];return G}return I.length=O,I}function kr(I){for(var F=new Array(I),P=0;P<I;++P)F[P]=0;return F}function Ls(I,F,P){var O=1,L=0,b=0,G=0,Z=0,K=I.length,X=Ee?new Uint16Array(32):kr(32);for(b=0;b<32;++b)X[b]=0;for(b=K;b<P;++b)I[b]=0;K=I.length;var Q=Ee?new Uint16Array(K):kr(K);for(b=0;b<K;++b)X[L=I[b]]++,O<L&&(O=L),Q[b]=0;for(X[0]=0,b=1;b<=O;++b)X[b+16]=Z=Z+X[b-1]<<1;for(b=0;b<K;++b)Z=I[b],Z!=0&&(Q[b]=X[Z+16]++);var se=0;for(b=0;b<K;++b)if(se=I[b],se!=0)for(Z=Me(Q[b],O)>>O-se,G=(1<<O+4-se)-1;G>=0;--G)F[Z|G<<se]=se&15|b<<4;return O}var Ct=Ee?new Uint16Array(512):kr(512),Lt=Ee?new Uint16Array(32):kr(32);if(!Ee){for(var sn=0;sn<512;++sn)Ct[sn]=0;for(sn=0;sn<32;++sn)Lt[sn]=0}(function(){for(var I=[],F=0;F<32;F++)I.push(5);Ls(I,Lt,32);var P=[];for(F=0;F<=143;F++)P.push(8);for(;F<=255;F++)P.push(9);for(;F<=279;F++)P.push(7);for(;F<=287;F++)P.push(8);Ls(P,Ct,288)})();var nc=function(){for(var F=Ee?new Uint8Array(32768):[],P=0,O=0;P<ge.length-1;++P)for(;O<ge[P+1];++O)F[O]=P;for(;O<32768;++O)F[O]=29;var L=Ee?new Uint8Array(259):[];for(P=0,O=0;P<te.length-1;++P)for(;O<te[P+1];++O)L[O]=P;function b(Z,K){for(var X=0;X<Z.length;){var Q=Math.min(65535,Z.length-X),se=X+Q==Z.length;for(K.write_shift(1,+se),K.write_shift(2,Q),K.write_shift(2,~Q&65535);Q-- >0;)K[K.l++]=Z[X++]}return K.l}function G(Z,K){for(var X=0,Q=0,se=Ee?new Uint16Array(32768):[];Q<Z.length;){var he=Math.min(65535,Z.length-Q);if(he<10){for(X=nn(K,X,+(Q+he==Z.length)),X&7&&(X+=8-(X&7)),K.l=X/8|0,K.write_shift(2,he),K.write_shift(2,~he&65535);he-- >0;)K[K.l++]=Z[Q++];X=K.l*8;continue}X=nn(K,X,+(Q+he==Z.length)+2);for(var me=0;he-- >0;){var oe=Z[Q];me=(me<<5^oe)&32767;var pe=-1,Re=0;if((pe=se[me])&&(pe|=Q&-32768,pe>Q&&(pe-=32768),pe<Q))for(;Z[pe+Re]==Z[Q+Re]&&Re<250;)++Re;if(Re>2){oe=L[Re],oe<=22?X=Yn(K,X,de[oe+1]>>1)-1:(Yn(K,X,3),X+=5,Yn(K,X,de[oe-23]>>5),X+=3);var nt=oe<8?0:oe-4>>2;nt>0&&(rc(K,X,Re-te[oe]),X+=nt),oe=F[Q-pe],X=Yn(K,X,de[oe]>>3),X-=3;var Xe=oe<4?0:oe-2>>1;Xe>0&&(rc(K,X,Q-pe-ge[oe]),X+=Xe);for(var ft=0;ft<Re;++ft)se[me]=Q&32767,me=(me<<5^Z[Q])&32767,++Q;he-=Re-1}else oe<=143?oe=oe+48:X=mn(K,X,1),X=Yn(K,X,de[oe]),se[me]=Q&32767,++Q}X=Yn(K,X,0)-1}return K.l=(X+7)/8|0,K.l}return function(K,X){return K.length<8?b(K,X):G(K,X)}}();function Qo(I){var F=ee(50+Math.floor(I.length*1.1)),P=nc(I,F);return F.slice(0,P)}var ic=Ee?new Uint16Array(32768):kr(32768),ki=Ee?new Uint16Array(32768):kr(32768),Yo=Ee?new Uint16Array(128):kr(128),Jo=1,Ia=1;function d0(I,F){var P=at(I,F)+257;F+=5;var O=at(I,F)+1;F+=5;var L=Br(I,F)+4;F+=4;for(var b=0,G=Ee?new Uint8Array(19):kr(19),Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K=1,X=Ee?new Uint8Array(8):kr(8),Q=Ee?new Uint8Array(8):kr(8),se=G.length,he=0;he<L;++he)G[U[he]]=b=Ue(I,F),K<b&&(K=b),X[b]++,F+=3;var me=0;for(X[0]=0,he=1;he<=K;++he)Q[he]=me=me+X[he-1]<<1;for(he=0;he<se;++he)(me=G[he])!=0&&(Z[he]=Q[me]++);var oe=0;for(he=0;he<se;++he)if(oe=G[he],oe!=0){me=de[Z[he]]>>8-oe;for(var pe=(1<<7-oe)-1;pe>=0;--pe)Yo[me|pe<<oe]=oe&7|he<<3}var Re=[];for(K=1;Re.length<P+O;)switch(me=Yo[ye(I,F)],F+=me&7,me>>>=3){case 16:for(b=3+Ft(I,F),F+=2,me=Re[Re.length-1];b-- >0;)Re.push(me);break;case 17:for(b=3+Ue(I,F),F+=3;b-- >0;)Re.push(0);break;case 18:for(b=11+ye(I,F),F+=7;b-- >0;)Re.push(0);break;default:Re.push(me),K<me&&(K=me);break}var nt=Re.slice(0,P),Xe=Re.slice(P);for(he=P;he<286;++he)nt[he]=0;for(he=O;he<30;++he)Xe[he]=0;return Jo=Ls(nt,ic,286),Ia=Ls(Xe,ki,30),F}function p0(I,F){if(I[0]==3&&!(I[1]&3))return[fa(F),2];for(var P=0,O=0,L=py(F||1<<18),b=0,G=L.length>>>0,Z=0,K=0;!(O&1);){if(O=Ue(I,P),P+=3,O>>>1)O>>1==1?(Z=9,K=5):(P=d0(I,P),Z=Jo,K=Ia);else{P&7&&(P+=8-(P&7));var X=I[P>>>3]|I[(P>>>3)+1]<<8;if(P+=32,X>0)for(!F&&G<b+X&&(L=Fs(L,b+X),G=L.length);X-- >0;)L[b++]=I[P>>>3],P+=8;continue}for(;;){!F&&G<b+32767&&(L=Fs(L,b+32767),G=L.length);var Q=Rr(I,P,Z),se=O>>>1==1?Ct[Q]:ic[Q];if(P+=se&15,se>>>=4,!(se>>>8&255))L[b++]=se;else{if(se==256)break;se-=257;var he=se<8?0:se-4>>2;he>5&&(he=0);var me=b+te[se];he>0&&(me+=Rr(I,P,he),P+=he),Q=Rr(I,P,K),se=O>>>1==1?Lt[Q]:ki[Q],P+=se&15,se>>>=4;var oe=se<4?0:se-2>>1,pe=ge[se];for(oe>0&&(pe+=Rr(I,P,oe),P+=oe),!F&&G<me&&(L=Fs(L,me+100),G=L.length);b<me;)L[b]=L[b-pe],++b}}}return F?[L,P+7>>>3]:[L.slice(0,b),P+7>>>3]}function Ca(I,F){var P=I.slice(I.l||0),O=p0(P,F);return I.l+=O[1],O[0]}function Zo(I,F){if(I)typeof console<"u"&&console.error(F);else throw new Error(F)}function el(I,F){var P=I;$r(P,0);var O=[],L=[],b={FileIndex:O,FullPaths:L};T(b,{root:F.root});for(var G=P.length-4;(P[G]!=80||P[G+1]!=75||P[G+2]!=5||P[G+3]!=6)&&G>=0;)--G;P.l=G+4,P.l+=4;var Z=P.read_shift(2);P.l+=6;var K=P.read_shift(4);for(P.l=K,G=0;G<Z;++G){P.l+=20;var X=P.read_shift(4),Q=P.read_shift(4),se=P.read_shift(2),he=P.read_shift(2),me=P.read_shift(2);P.l+=8;var oe=P.read_shift(4),pe=o(P.slice(P.l+se,P.l+se+he));P.l+=se+he+me;var Re=P.l;P.l=oe+4,Ms(P,X,Q,b,pe),P.l=Re}return b}function Ms(I,F,P,O,L){I.l+=2;var b=I.read_shift(2),G=I.read_shift(2),Z=a(I);if(b&8257)throw new Error("Unsupported ZIP encryption");for(var K=I.read_shift(4),X=I.read_shift(4),Q=I.read_shift(4),se=I.read_shift(2),he=I.read_shift(2),me="",oe=0;oe<se;++oe)me+=String.fromCharCode(I[I.l++]);if(he){var pe=o(I.slice(I.l,I.l+he));(pe[21589]||{}).mt&&(Z=pe[21589].mt),((L||{})[21589]||{}).mt&&(Z=L[21589].mt)}I.l+=he;var Re=I.slice(I.l,I.l+X);switch(G){case 8:Re=H(I,Q);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+G)}var nt=!1;b&8&&(K=I.read_shift(4),K==134695760&&(K=I.read_shift(4),nt=!0),X=I.read_shift(4),Q=I.read_shift(4)),X!=F&&Zo(nt,"Bad compressed size: "+F+" != "+X),Q!=P&&Zo(nt,"Bad uncompressed size: "+P+" != "+Q),Zn(O,me,Re,{unsafe:!0,mt:Z})}function tl(I,F){var P=F||{},O=[],L=[],b=ee(1),G=P.compression?8:0,Z=0,K=0,X=0,Q=0,se=0,he=I.FullPaths[0],me=he,oe=I.FileIndex[0],pe=[],Re=0;for(K=1;K<I.FullPaths.length;++K)if(me=I.FullPaths[K].slice(he.length),oe=I.FileIndex[K],!(!oe.size||!oe.content||me=="Sh33tJ5")){var nt=Q,Xe=ee(me.length);for(X=0;X<me.length;++X)Xe.write_shift(1,me.charCodeAt(X)&127);Xe=Xe.slice(0,Xe.l),pe[se]=nL.buf(oe.content,0);var ft=oe.content;G==8&&(ft=j(ft)),b=ee(30),b.write_shift(4,67324752),b.write_shift(2,20),b.write_shift(2,Z),b.write_shift(2,G),oe.mt?s(b,oe.mt):b.write_shift(4,0),b.write_shift(-4,pe[se]),b.write_shift(4,ft.length),b.write_shift(4,oe.content.length),b.write_shift(2,Xe.length),b.write_shift(2,0),Q+=b.length,O.push(b),Q+=Xe.length,O.push(Xe),Q+=ft.length,O.push(ft),b=ee(46),b.write_shift(4,33639248),b.write_shift(2,0),b.write_shift(2,20),b.write_shift(2,Z),b.write_shift(2,G),b.write_shift(4,0),b.write_shift(-4,pe[se]),b.write_shift(4,ft.length),b.write_shift(4,oe.content.length),b.write_shift(2,Xe.length),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(4,0),b.write_shift(4,nt),Re+=b.l,L.push(b),Re+=Xe.length,L.push(Xe),++se}return b=ee(22),b.write_shift(4,101010256),b.write_shift(2,0),b.write_shift(2,0),b.write_shift(2,se),b.write_shift(2,se),b.write_shift(4,Re),b.write_shift(4,Q),b.write_shift(2,0),tr([tr(O),tr(L),b])}var Pi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Jn(I,F){if(I.ctype)return I.ctype;var P=I.name||"",O=P.match(/\.([^\.]+)$/);return O&&Pi[O[1]]||F&&(O=(P=F).match(/[\.\\]([^\.\\])+$/),O&&Pi[O[1]])?Pi[O[1]]:"application/octet-stream"}function sc(I){for(var F=Au(I),P=[],O=0;O<F.length;O+=76)P.push(F.slice(O,O+76));return P.join(`\r
`)+`\r
`}function Ra(I){var F=I.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(X){var Q=X.charCodeAt(0).toString(16).toUpperCase();return"="+(Q.length==1?"0"+Q:Q)});F=F.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),F.charAt(0)==`
`&&(F="=0D"+F.slice(1)),F=F.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],O=F.split(`\r
`),L=0;L<O.length;++L){var b=O[L];if(b.length==0){P.push("");continue}for(var G=0;G<b.length;){var Z=76,K=b.slice(G,G+Z);K.charAt(Z-1)=="="?Z--:K.charAt(Z-2)=="="?Z-=2:K.charAt(Z-3)=="="&&(Z-=3),K=b.slice(G,G+Z),G+=Z,G<b.length&&(K+="="),P.push(K)}}return P.join(`\r
`)}function ac(I){for(var F=[],P=0;P<I.length;++P){for(var O=I[P];P<=I.length&&O.charAt(O.length-1)=="=";)O=O.slice(0,O.length-1)+I[++P];F.push(O)}for(var L=0;L<F.length;++L)F[L]=F[L].replace(/[=][0-9A-Fa-f]{2}/g,function(b){return String.fromCharCode(parseInt(b.slice(1),16))});return Tn(F.join(`\r
`))}function bs(I,F,P){for(var O="",L="",b="",G,Z=0;Z<10;++Z){var K=F[Z];if(!K||K.match(/^\s*$/))break;var X=K.match(/^(.*?):\s*([^\s].*)$/);if(X)switch(X[1].toLowerCase()){case"content-location":O=X[2].trim();break;case"content-type":b=X[2].trim();break;case"content-transfer-encoding":L=X[2].trim();break}}switch(++Z,L.toLowerCase()){case"base64":G=Tn(Ti(F.slice(Z).join("")));break;case"quoted-printable":G=ac(F.slice(Z));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+L)}var Q=Zn(I,O.slice(P.length),G,{unsafe:!0});b&&(Q.ctype=b)}function oc(I,F){if(xe(I.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=F&&F.root||"",O=(qe&&Buffer.isBuffer(I)?I.toString("binary"):xe(I)).split(`\r
`),L=0,b="";for(L=0;L<O.length;++L)if(b=O[L],!!/^Content-Location:/i.test(b)&&(b=b.slice(b.indexOf("file")),P||(P=b.slice(0,b.lastIndexOf("/")+1)),b.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),b.slice(0,P.length)!=P););var G=(O[1]||"").match(/boundary="(.*?)"/);if(!G)throw new Error("MAD cannot find boundary");var Z="--"+(G[1]||""),K=[],X=[],Q={FileIndex:K,FullPaths:X};T(Q);var se,he=0;for(L=0;L<O.length;++L){var me=O[L];me!==Z&&me!==Z+"--"||(he++&&bs(Q,O.slice(se,L),P),se=L)}return Q}function qt(I,F){var P=F||{},O=P.boundary||"SheetJS";O="------="+O;for(var L=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+O.slice(2)+'"',"","",""],b=I.FullPaths[0],G=b,Z=I.FileIndex[0],K=1;K<I.FullPaths.length;++K)if(G=I.FullPaths[K].slice(b.length),Z=I.FileIndex[K],!(!Z.size||!Z.content||G=="Sh33tJ5")){G=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Re){return"_x"+Re.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Re){return"_u"+Re.charCodeAt(0).toString(16)+"_"});for(var X=Z.content,Q=qe&&Buffer.isBuffer(X)?X.toString("binary"):xe(X),se=0,he=Math.min(1024,Q.length),me=0,oe=0;oe<=he;++oe)(me=Q.charCodeAt(oe))>=32&&me<128&&++se;var pe=se>=he*4/5;L.push(O),L.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+G),L.push("Content-Transfer-Encoding: "+(pe?"quoted-printable":"base64")),L.push("Content-Type: "+Jn(Z,G)),L.push(""),L.push(pe?Ra(Q):sc(Q))}return L.push(O+`--\r
`),L.join(`\r
`)}function lc(I){var F={};return T(F,I),F}function Zn(I,F,P,O){var L=O&&O.unsafe;L||T(I);var b=!L&&rt.find(I,F);if(!b){var G=I.FullPaths[0];F.slice(0,G.length)==G?G=F:(G.slice(-1)!="/"&&(G+="/"),G=(G+F).replace("//","/")),b={name:i(F),type:2},I.FileIndex.push(b),I.FullPaths.push(G),L||rt.utils.cfb_gc(I)}return b.content=P,b.size=P?P.length:0,O&&(O.CLSID&&(b.clsid=O.CLSID),O.mt&&(b.mt=O.mt),O.ct&&(b.ct=O.ct)),b}function Vs(I,F){T(I);var P=rt.find(I,F);if(P){for(var O=0;O<I.FileIndex.length;++O)if(I.FileIndex[O]==P)return I.FileIndex.splice(O,1),I.FullPaths.splice(O,1),!0}return!1}function m0(I,F,P){T(I);var O=rt.find(I,F);if(O){for(var L=0;L<I.FileIndex.length;++L)if(I.FileIndex[L]==O)return I.FileIndex[L].name=i(P),I.FullPaths[L]=P,!0}return!1}function g0(I){A(I,!0)}return e.find=D,e.read=q,e.parse=h,e.write=Se,e.writeFile=ce,e.utils={cfb_new:lc,cfb_add:Zn,cfb_del:Vs,cfb_mov:m0,cfb_gc:g0,ReadShift:$l,CheckField:hS,prep_blob:$r,bconcat:tr,use_zlib:B,_deflateRaw:Qo,_inflateRaw:Ca,consts:Ke},e}();function iL(t){return typeof t=="string"?s0(t):Array.isArray(t)?PF(t):t}function Yu(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=s0(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Cu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([iL(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Qu(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function lr(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function wy(t,e){for(var r=[],n=lr(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Lg(t){for(var e=[],r=lr(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function l0(t){for(var e=[],r=lr(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function sL(t){for(var e=[],r=lr(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var ff=new Date(1899,11,30,0,0,0);function br(t,e){var r=t.getTime(),n=ff.getTime()+(t.getTimezoneOffset()-ff.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var q2=new Date,aL=ff.getTime()+(q2.getTimezoneOffset()-ff.getTimezoneOffset())*6e4,Ty=q2.getTimezoneOffset();function X2(t){var e=new Date;return e.setTime(t*24*60*60*1e3+aL),e.getTimezoneOffset()!==Ty&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Ty)*6e4),e}var Sy=new Date("2017-02-19T19:06:09.000Z"),Q2=isNaN(Sy.getFullYear())?new Date("2/19/17"):Sy,oL=Q2.getFullYear()==2017;function Ar(t,e){var r=new Date(t);if(oL)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Q2.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function u0(t,e){if(qe&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Vr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Vr(t[r]));return e}function wt(t,e){for(var r="";r.length<e;)r+=t;return r}function di(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var lL=["january","february","march","april","may","june","july","august","september","october","november","december"];function Iu(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&lL.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function De(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return qe?n=Ri(r):n=NF(r),rt.utils.cfb_add(t,e,n)}rt.utils.cfb_add(t,e,r)}else t.file(e,r)}function Mg(){return rt.utils.cfb_new()}var Dt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},bg=Lg(uL),Vg=/[&<>'"]/g,cL=/[\u0000-\u0008\u000b-\u001f]/g;function Je(t){var e=t+"";return e.replace(Vg,function(r){return bg[r]}).replace(cL,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Ay(t){return Je(t).replace(/ /g,"_x0020_")}var Y2=/[\u0000-\u001f]/g;function hL(t){var e=t+"";return e.replace(Vg,function(r){return bg[r]}).replace(/\n/g,"<br/>").replace(Y2,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function fL(t){var e=t+"";return e.replace(Vg,function(r){return bg[r]}).replace(Y2,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function dL(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function pL(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ud(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Iy(t){var e=fa(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Cy(t){return Ri(t,"binary").toString("utf8")}var Gc="foo bar bazâð£",Hl=qe&&(Cy(Gc)==ud(Gc)&&Cy||Iy(Gc)==ud(Gc)&&Iy)||ud,Cu=qe?function(t){return Ri(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},mL=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),J2=/(^\s|\s$|\n)/;function rr(t,e){return"<"+t+(e.match(J2)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Ru(t){return lr(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function le(t,e,r){return"<"+t+(r!=null?Ru(r):"")+(e!=null?(e.match(J2)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function bp(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function gL(t,e){switch(typeof t){case"string":var r=le("vt:lpwstr",Je(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return le((t|0)==t?"vt:i4":"vt:r8",Je(String(t)));case"boolean":return le("vt:bool",t?"true":"false")}if(t instanceof Date)return le("vt:filetime",bp(t));throw new Error("Unable to serialize "+t)}var zt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Go=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Gr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function vL(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function _L(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var Ry=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},ky=qe?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ri(e)})):Ry(t)}:Ry,Py=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Rl(t,i)));return n.join("").replace(Wl,"")},Bg=qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Wl,""):Py(t,e,r)}:Py,Ny=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},Z2=qe?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Ny(t,e,r)}:Ny,Oy=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Ua(t,i)));return n.join("")},Ju=qe?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):Oy(e,r,n)}:Oy,eS=function(t,e){var r=Kr(t,e);return r>0?Ju(t,e+4,e+4+r-1):""},tS=eS,rS=function(t,e){var r=Kr(t,e);return r>0?Ju(t,e+4,e+4+r-1):""},nS=rS,iS=function(t,e){var r=2*Kr(t,e);return r>0?Ju(t,e+4,e+4+r-1):""},sS=iS,aS=function(e,r){var n=Kr(e,r);return n>0?Bg(e,r+4,r+4+n):""},oS=aS,lS=function(t,e){var r=Kr(t,e);return r>0?Ju(t,e+4,e+4+r):""},uS=lS,cS=function(t,e){return vL(t,e)},df=cS,Ug=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};qe&&(tS=function(e,r){if(!Buffer.isBuffer(e))return eS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},nS=function(e,r){if(!Buffer.isBuffer(e))return rS(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},sS=function(e,r){if(!Buffer.isBuffer(e))return iS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},oS=function(e,r){if(!Buffer.isBuffer(e))return aS(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},uS=function(e,r){if(!Buffer.isBuffer(e))return lS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},df=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):cS(e,r)},Ug=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ua=function(t,e){return t[e]},Rl=function(t,e){return t[e+1]*256+t[e]},yL=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Kr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},Gs=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},xL=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function $l(t,e){var r="",n,i,s=[],a,o,l,c;switch(e){case"dbcs":if(c=this.l,qe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Rl(this,c)),c+=2;t*=2;break;case"utf8":r=Ju(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Bg(this,this.l,this.l+t);break;case"wstr":return $l.call(this,t,"dbcs");case"lpstr-ansi":r=tS(this,this.l),t=4+Kr(this,this.l);break;case"lpstr-cp":r=nS(this,this.l),t=4+Kr(this,this.l);break;case"lpwstr":r=sS(this,this.l),t=4+2*Kr(this,this.l);break;case"lpp4":t=4+Kr(this,this.l),r=oS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Kr(this,this.l),r=uS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Ua(this,this.l+t++))!==0;)s.push(Wc(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=Rl(this,this.l+t))!==0;)s.push(Wc(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Ua(this,c),this.l=c+1,o=$l.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wc(Rl(this,c))),c+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return a=Ua(this,c),this.l=c+1,o=$l.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wc(Ua(this,c))),c+=1}r=s.join("");break;default:switch(t){case 1:return n=Ua(this,this.l),this.l++,n;case 2:return n=(e==="i"?yL:Rl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?Gs:xL)(this,this.l),this.l+=4,n):(i=Kr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=df(this,this.l):i=df([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=Z2(this,this.l,t);break}}return this.l+=t,r}var EL=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},wL=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},TL=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function SL(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)TL(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,EL(this,e,this.l);break;case 8:if(n=8,r==="f"){_L(this,e,this.l);break}case 16:break;case-4:n=4,wL(this,e,this.l);break}return this.l+=n,this}function hS(t,e){var r=Z2(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function $r(t,e){t.l=e,t.read_shift=$l,t.chk=hS,t.write_shift=SL}function Xn(t,e){t.l+=e}function ee(t){var e=fa(t);return $r(e,0),e}function Mr(){var t=[],e=qe?256:2048,r=function(c){var h=ee(c);return $r(h,0),h},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,e)))},a=function(){return i(),tr(t)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function ne(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=v9[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Ug(r)&&t.push(r)}}function Gl(t,e,r){var n=Vr(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Dy(t,e,r){var n=Vr(t);return n.s=Gl(n.s,e.s,r),n.e=Gl(n.e,e.s,r),n}function Kl(t,e){if(t.cRel&&t.c<0)for(t=Vr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Vr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=tt(t);return!t.cRel&&t.cRel!=null&&(r=CL(r)),!t.rRel&&t.rRel!=null&&(r=AL(r)),r}function cd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+vr(t.s.c)+":"+(t.e.cRel?"":"$")+vr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+sr(t.s.r)+":"+(t.e.rRel?"":"$")+sr(t.e.r):Kl(t.s,e.biff)+":"+Kl(t.e,e.biff)}function jg(t){return parseInt(IL(t),10)-1}function sr(t){return""+(t+1)}function AL(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function IL(t){return t.replace(/\$(\d+)$/,"$1")}function zg(t){for(var e=RL(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function vr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function CL(t){return t.replace(/^([A-Z])/,"$$$1")}function RL(t){return t.replace(/^\$([A-Z])/,"$1")}function kL(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wt(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function tt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function en(t){var e=t.indexOf(":");return e==-1?{s:Wt(t),e:Wt(t)}:{s:Wt(t.slice(0,e)),e:Wt(t.slice(e+1))}}function Ot(t,e){return typeof e>"u"||typeof e=="number"?Ot(t.s,t.e):(typeof t!="string"&&(t=tt(t)),typeof e!="string"&&(e=tt(e)),t==e?t:t+":"+e)}function ht(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function Fy(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=vs(t.z,r?br(e):e)}catch{}try{return t.w=vs((t.XF||{}).numFmtId||(r?14:0),r?br(e):e)}catch{return""+e}}function Si(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Zu[t.v]||t.v:e==null?Fy(t,t.v):Fy(t,e))}function Ea(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function fS(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Wt(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=ht(s["!ref"]);c.s.c=h.s.c,c.s.r=h.s.r,c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),a==-1&&(c.e.r=a=h.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var m={v:e[f][d]},_=a+f,v=o+d;if(c.s.r>_&&(c.s.r=_),c.s.c>v&&(c.s.c=v),c.e.r<_&&(c.e.r=_),c.e.c<v&&(c.e.c=v),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))m=e[f][d];else if(Array.isArray(m.v)&&(m.f=e[f][d][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Tt[14],n.cellDates?(m.t="d",m.w=vs(m.z,br(m.v))):(m.t="n",m.v=br(m.v),m.w=vs(m.z,m.v))):m.t="s";if(i)s[_]||(s[_]=[]),s[_][v]&&s[_][v].z&&(m.z=s[_][v].z),s[_][v]=m;else{var g=tt({c:v,r:_});s[g]&&s[g].z&&(m.z=s[g].z),s[g]=m}}}return c.s.c<1e7&&(s["!ref"]=Ot(c)),s}function Ko(t,e){return fS(null,t,e)}function PL(t){return t.read_shift(4,"i")}function Rn(t,e){return e||(e=ee(4)),e.write_shift(4,t),e}function _r(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ht(t,e){var r=!1;return e==null&&(r=!0,e=ee(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function NL(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function OL(t,e){return e||(e=ee(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Wg(t,e){var r=t.l,n=t.read_shift(1),i=_r(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(NL(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function DL(t,e){var r=!1;return e==null&&(r=!0,e=ee(15+4*t.t.length)),e.write_shift(1,0),Ht(t.t,e),r?e.slice(0,e.l):e}var FL=Wg;function LL(t,e){var r=!1;return e==null&&(r=!0,e=ee(23+4*t.t.length)),e.write_shift(1,1),Ht(t.t,e),e.write_shift(4,1),OL({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function pn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function wa(t,e){return e==null&&(e=ee(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ta(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Sa(t,e){return e==null&&(e=ee(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var ML=_r,dS=Ht;function Hg(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function pf(t,e){var r=!1;return e==null&&(r=!0,e=ee(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var bL=_r,Vp=Hg,$g=pf;function pS(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?df([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Gs(e,0)>>2;return r?i/100:i}function mS(t,e){e==null&&(e=ee(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function gS(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function VL(t,e){return e||(e=ee(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Aa=gS,qo=VL;function Xo(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function da(t,e){return(e||ee(8)).write_shift(8,t,"f")}function BL(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var c=qL[i];c&&(e.rgb=$y(c));break;case 2:e.rgb=$y([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function mf(t,e){if(e||(e=ee(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function UL(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function jL(t,e){e||(e=ee(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var vS=2,Wr=3,Kc=11,gf=19,qc=64,zL=65,WL=71,HL=4108,$L=4126,Jt=80,Ly={1:{n:"CodePage",t:vS},2:{n:"Category",t:Jt},3:{n:"PresentationFormat",t:Jt},4:{n:"ByteCount",t:Wr},5:{n:"LineCount",t:Wr},6:{n:"ParagraphCount",t:Wr},7:{n:"SlideCount",t:Wr},8:{n:"NoteCount",t:Wr},9:{n:"HiddenCount",t:Wr},10:{n:"MultimediaClipCount",t:Wr},11:{n:"ScaleCrop",t:Kc},12:{n:"HeadingPairs",t:HL},13:{n:"TitlesOfParts",t:$L},14:{n:"Manager",t:Jt},15:{n:"Company",t:Jt},16:{n:"LinksUpToDate",t:Kc},17:{n:"CharacterCount",t:Wr},19:{n:"SharedDoc",t:Kc},22:{n:"HyperlinksChanged",t:Kc},23:{n:"AppVersion",t:Wr,p:"version"},24:{n:"DigSig",t:zL},26:{n:"ContentType",t:Jt},27:{n:"ContentStatus",t:Jt},28:{n:"Language",t:Jt},29:{n:"Version",t:Jt},255:{},2147483648:{n:"Locale",t:gf},2147483651:{n:"Behavior",t:gf},1919054434:{}},My={1:{n:"CodePage",t:vS},2:{n:"Title",t:Jt},3:{n:"Subject",t:Jt},4:{n:"Author",t:Jt},5:{n:"Keywords",t:Jt},6:{n:"Comments",t:Jt},7:{n:"Template",t:Jt},8:{n:"LastAuthor",t:Jt},9:{n:"RevNumber",t:Jt},10:{n:"EditTime",t:qc},11:{n:"LastPrinted",t:qc},12:{n:"CreatedDate",t:qc},13:{n:"ModifiedDate",t:qc},14:{n:"PageCount",t:Wr},15:{n:"WordCount",t:Wr},16:{n:"CharCount",t:Wr},17:{n:"Thumbnail",t:WL},18:{n:"Application",t:Jt},19:{n:"DocSecurity",t:Wr},255:{},2147483648:{n:"Locale",t:gf},2147483651:{n:"Behavior",t:gf},1919054434:{}};function GL(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var KL=GL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qL=Vr(KL),Zu={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Xc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function _S(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function yS(t,e){var r=sL(XL),n=[],i;n[n.length]=Dt,n[n.length]=le("Types",null,{xmlns:zt.CT,"xmlns:xsd":zt.xsd,"xmlns:xsi":zt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return le("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=le("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Xc[l][e.bookType]||Xc[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(c){n[n.length]=le("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Xc[l][e.bookType]||Xc[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(c){n[n.length]=le("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var $e={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function xS(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function fo(t){var e=[Dt,le("Relationships",null,{xmlns:zt.RELS})];return lr(t["!id"]).forEach(function(r){e[e.length]=le("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ye(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[$e.HLINK,$e.XPATH,$e.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function QL(t){var e=[Dt];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function by(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function YL(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function JL(t){var e=[Dt];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(by(t[r][0],t[r][1])),e.push(YL("",t[r][0]));return e.push(by("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function ES(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+lf.version+"</meta:generator></office:meta></office:document-meta>"}var ea=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function hd(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Je(e),n[n.length]=r?le(t,e,r):rr(t,e))}function wS(t,e){var r=e||{},n=[Dt,le("cp:coreProperties",null,{"xmlns:cp":zt.CORE_PROPS,"xmlns:dc":zt.dc,"xmlns:dcterms":zt.dcterms,"xmlns:dcmitype":zt.dcmitype,"xmlns:xsi":zt.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&hd("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:bp(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&hd("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:bp(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=ea.length;++s){var a=ea[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&hd(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var po=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],TS=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SS(t){var e=[],r=le;return t||(t={}),t.Application="SheetJS",e[e.length]=Dt,e[e.length]=le("Properties",null,{xmlns:zt.EXT_PROPS,"xmlns:vt":zt.vt}),po.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Je(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Je(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function AS(t){var e=[Dt,le("Properties",null,{xmlns:zt.CUST_PROPS,"xmlns:vt":zt.vt})];if(!t)return e.join("");var r=1;return lr(t).forEach(function(i){++r,e[e.length]=le("property",gL(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Je(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Vy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function ZL(t,e){var r=[];return lr(Vy).map(function(n){for(var i=0;i<ea.length;++i)if(ea[i][1]==n)return ea[i];for(i=0;i<po.length;++i)if(po[i][1]==n)return po[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(rr(Vy[n[1]]||n[1],i))}}),le("DocumentProperties",r.join(""),{xmlns:Gr.o})}function e6(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&lr(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<ea.length;++a)if(s==ea[a][1])return;for(a=0;a<po.length;++a)if(s==po[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(le(Ay(s),o,{"dt:dt":l}))}}),e&&lr(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(le(Ay(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Gr.o+'">'+i.join("")+"</"+n+">"}function t6(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=ee(8);return a.write_shift(4,n),a.write_shift(4,i),a}function By(t,e){var r=ee(4),n=ee(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=ee(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=t6(e);break;case 31:case 80:for(n=ee(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return tr([r,n])}var IS=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function r6(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Uy(t,e,r){var n=ee(8),i=[],s=[],a=8,o=0,l=ee(8),c=ee(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),s.push(l),i.push(c),a+=8+l.length,!e){c=ee(8),c.write_shift(4,0),i.unshift(c);var h=[ee(4)];for(h[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=ee(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=tr(h),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(IS.indexOf(t[o][0])>-1||TS.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],m=0;if(e){m=+e[t[o][0]];var _=r[m];if(_.p=="version"&&typeof d=="string"){var v=d.split(".");d=(+v[0]<<16)+(+v[1]||0)}l=By(_.t,d)}else{var g=r6(d);g==-1&&(g=31,d=String(d)),l=By(g,d)}s.push(l),c=ee(8),c.write_shift(4,e?m:2+o),i.push(c),a+=8+l.length}var w=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,w),w+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),tr([n].concat(i).concat(s))}function jy(t,e,r,n,i,s){var a=ee(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,rt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=Uy(t,r,n);if(o.push(l),i){var c=Uy(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(c)}return tr(o)}function n6(t,e){e||(e=ee(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function i6(t,e){return t.read_shift(e)===1}function Tr(t,e){return e||(e=ee(2)),e.write_shift(2,+!!t),e}function CS(t){return t.read_shift(2,"u")}function on(t,e){return e||(e=ee(2)),e.write_shift(2,t),e}function RS(t,e,r){return r||(r=ee(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function kS(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function s6(t){var e=t.t||"",r=ee(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=ee(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return tr(i)}function a6(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function o6(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):a6(t,n,r)}function l6(t,e,r){if(r.biff>5)return o6(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function PS(t,e,r){return r||(r=ee(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function zy(t,e){e||(e=ee(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function u6(t){var e=ee(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),zy(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&zy(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function pa(t,e,r,n){return n||(n=ee(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function c6(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function h6(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function NS(t,e){return e||(e=ee(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Gg(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=ee(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function f6(t,e){var r=!e||e.biff==8,n=ee(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function d6(t,e){var r=!e||e.biff>=8?2:1,n=ee(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function p6(t,e){var r=ee(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=s6(t[i]);var s=tr([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function m6(){var t=ee(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function g6(t){var e=ee(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function v6(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=ee(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function _6(t,e,r,n){var i=ee(10);return pa(t,e,n,i),i.write_shift(4,r),i}function y6(t,e,r,n,i){var s=!i||i.biff==8,a=ee(8+ +s+(1+s)*r.length);return pa(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function x6(t,e,r,n){var i=r&&r.biff==5;n||(n=ee(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function E6(t,e){var r=e.biff==8||!e.biff?4:2,n=ee(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Wy(t,e,r,n){var i=r&&r.biff==5;n||(n=ee(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function w6(t){var e=ee(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function T6(t,e,r,n,i,s){var a=ee(8);return pa(t,e,n,a),RS(r,s,a),a}function S6(t,e,r,n){var i=ee(14);return pa(t,e,n,i),da(r,i),i}function A6(t,e,r){if(r.biff<8)return I6(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(c6(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function I6(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=kS(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function C6(t){var e=ee(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)NS(t[r],e);return e}function R6(t){var e=ee(24),r=Wt(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return tr([e,u6(t[1])])}function k6(t){var e=t[1].Tooltip,r=ee(10+2*(e.length+1));r.write_shift(2,2048);var n=Wt(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function P6(t){return t||(t=ee(4)),t.write_shift(2,1),t.write_shift(2,1),t}function N6(t,e,r){if(!r.cellStyles)return Xn(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var c={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function O6(t,e){var r=ee(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function D6(t){for(var e=ee(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function F6(t,e,r){var n=ee(15);return tc(n,t,e),n.write_shift(8,r,"f"),n}function L6(t,e,r){var n=ee(9);return tc(n,t,e),n.write_shift(2,r),n}var M6=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Lg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],h=fa(1);switch(l.type){case"base64":h=Tn(Ti(o));break;case"binary":h=Tn(o);break;case"buffer":case"array":h=o;break}$r(h,0);var f=h.read_shift(1),d=!!(f&136),m=!1,_=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,d=!0;break;case 49:m=!0,d=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=h.read_shift(2)),h.l+=3,f!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=h.read_shift(2));var w=h.read_shift(2),x=l.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(x=t[h[h.l]]),h.l+=1,h.l+=2),_&&(h.l+=36);for(var E=[],M={},z=Math.min(h.length,f==2?521:g-10-(m?264:0)),q=_?32:11;h.l<z&&h[h.l]!=13;)switch(M={},M.name=$s.utils.decode(x,h.slice(h.l,h.l+q)).replace(/[\u0000\r\n].*$/g,""),h.l+=q,M.type=String.fromCharCode(h.read_shift(1)),f!=2&&!_&&(M.offset=h.read_shift(4)),M.len=h.read_shift(1),f==2&&(M.offset=h.read_shift(2)),M.dec=h.read_shift(1),M.name.length&&E.push(M),f!=2&&(h.l+=_?13:14),M.type){case"B":(!m||M.len!=8)&&l.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+M.name+":"+M.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+M.type)}if(h[h.l]!==13&&(h.l=g-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=g;var T=0,S=0;for(c[0]=[],S=0;S!=E.length;++S)c[0][S]=E[S].name;for(;v-- >0;){if(h[h.l]===42){h.l+=w;continue}for(++h.l,c[++T]=[],S=0,S=0;S!=E.length;++S){var A=h.slice(h.l,h.l+E[S].len);h.l+=E[S].len,$r(A,0);var C=$s.utils.decode(x,A);switch(E[S].type){case"C":C.trim().length&&(c[T][S]=C.replace(/\s+$/,""));break;case"D":C.length===8?c[T][S]=new Date(+C.slice(0,4),+C.slice(4,6)-1,+C.slice(6,8)):c[T][S]=C;break;case"F":c[T][S]=parseFloat(C.trim());break;case"+":case"I":c[T][S]=_?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(C.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+C+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][S]="##MEMO##"+(_?parseInt(C.trim(),10):A.read_shift(4));break;case"N":C=C.replace(/\u0000/g,"").trim(),C&&C!="."&&(c[T][S]=+C||0);break;case"@":c[T][S]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[T][S]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-A.read_shift(-8,"f");break;case"B":if(m&&E[S].len==8){c[T][S]=A.read_shift(8,"f");break}case"G":case"P":A.l+=E[S].len;break;case"0":if(E[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[S].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=E,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var h=Ko(r(o,c),c);return h["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,h}function i(o,l){try{return Ea(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var c=l||{};if(+c.codepage>=0&&Su(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var h=Mr(),f=Ef(o,{header:1,raw:!0,cellDates:!0}),d=f[0],m=f.slice(1),_=o["!cols"]||[],v=0,g=0,w=0,x=1;for(v=0;v<d.length;++v){if(((_[v]||{}).DBF||{}).name){d[v]=_[v].DBF.name,++w;continue}if(d[v]!=null){if(++w,typeof d[v]=="number"&&(d[v]=d[v].toString(10)),typeof d[v]!="string")throw new Error("DBF Invalid column name "+d[v]+" |"+typeof d[v]+"|");if(d.indexOf(d[v])!==v){for(g=0;g<1024;++g)if(d.indexOf(d[v]+"_"+g)==-1){d[v]+="_"+g;break}}}}var E=ht(o["!ref"]),M=[],z=[],q=[];for(v=0;v<=E.e.c-E.s.c;++v){var T="",S="",A=0,C=[];for(g=0;g<m.length;++g)m[g][v]!=null&&C.push(m[g][v]);if(C.length==0||d[v]==null){M[v]="?";continue}for(g=0;g<C.length;++g){switch(typeof C[g]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=C[g]instanceof Date?"D":"C";break;default:S="C"}A=Math.max(A,String(C[g]).length),T=T&&T!=S?"C":S}A>250&&(A=250),S=((_[v]||{}).DBF||{}).type,S=="C"&&_[v].DBF.len>A&&(A=_[v].DBF.len),T=="B"&&S=="N"&&(T="N",q[v]=_[v].DBF.dec,A=_[v].DBF.len),z[v]=T=="C"||S=="N"?A:s[T]||0,x+=z[v],M[v]=T}var D=h.next(32);for(D.write_shift(4,318902576),D.write_shift(4,m.length),D.write_shift(2,296+32*w),D.write_shift(2,x),v=0;v<4;++v)D.write_shift(4,0);for(D.write_shift(4,0|(+e[D2]||3)<<8),v=0,g=0;v<d.length;++v)if(d[v]!=null){var V=h.next(32),N=(d[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);V.write_shift(1,N,"sbcs"),V.write_shift(1,M[v]=="?"?"C":M[v],"sbcs"),V.write_shift(4,g),V.write_shift(1,z[v]||s[M[v]]||0),V.write_shift(1,q[v]||0),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(1,0),V.write_shift(4,0),V.write_shift(4,0),g+=z[v]||s[M[v]]||0}var Oe=h.next(264);for(Oe.write_shift(4,13),v=0;v<65;++v)Oe.write_shift(4,0);for(v=0;v<m.length;++v){var Ie=h.next(x);for(Ie.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(M[g]){case"L":Ie.write_shift(1,m[v][g]==null?63:m[v][g]?84:70);break;case"B":Ie.write_shift(8,m[v][g]||0,"f");break;case"N":var mt="0";for(typeof m[v][g]=="number"&&(mt=m[v][g].toFixed(q[g]||0)),w=0;w<z[g]-mt.length;++w)Ie.write_shift(1,32);Ie.write_shift(1,mt,"sbcs");break;case"D":m[v][g]?(Ie.write_shift(4,("0000"+m[v][g].getFullYear()).slice(-4),"sbcs"),Ie.write_shift(2,("00"+(m[v][g].getMonth()+1)).slice(-2),"sbcs"),Ie.write_shift(2,("00"+m[v][g].getDate()).slice(-2),"sbcs")):Ie.write_shift(8,"00000000","sbcs");break;case"C":var Ke=String(m[v][g]!=null?m[v][g]:"").slice(0,z[g]);for(Ie.write_shift(1,Ke,"sbcs"),w=0;w<z[g]-Ke.length;++w)Ie.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),b6=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+lr(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,m){var _=t[m];return typeof _=="number"?dy(_):_},n=function(d,m,_){var v=m.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return v==59?d:dy(v)};t["|"]=254;function i(d,m){switch(m.type){case"base64":return s(Ti(d),m);case"binary":return s(d,m);case"buffer":return s(qe&&Buffer.isBuffer(d)?d.toString("binary"):Qu(d),m);case"array":return s(u0(d),m)}throw new Error("Unrecognized type "+m.type)}function s(d,m){var _=d.split(/[\n\r]+/),v=-1,g=-1,w=0,x=0,E=[],M=[],z=null,q={},T=[],S=[],A=[],C=0,D;for(+m.codepage>=0&&Su(+m.codepage);w!==_.length;++w){C=0;var V=_[w].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),N=V.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),Oe=N[0],Ie;if(V.length>0)switch(Oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&M.push(V.slice(3).replace(/;;/g,";"));break;case"C":var mt=!1,Ke=!1,ce=!1,xe=!1,Se=-1,Le=-1;for(x=1;x<N.length;++x)switch(N[x].charAt(0)){case"A":break;case"X":g=parseInt(N[x].slice(1))-1,Ke=!0;break;case"Y":for(v=parseInt(N[x].slice(1))-1,Ke||(g=0),D=E.length;D<=v;++D)E[D]=[];break;case"K":Ie=N[x].slice(1),Ie.charAt(0)==='"'?Ie=Ie.slice(1,Ie.length-1):Ie==="TRUE"?Ie=!0:Ie==="FALSE"?Ie=!1:isNaN(di(Ie))?isNaN(Iu(Ie).getDate())||(Ie=Ar(Ie)):(Ie=di(Ie),z!==null&&$2(z)&&(Ie=X2(Ie))),mt=!0;break;case"E":xe=!0;var B=LM(N[x].slice(1),{r:v,c:g});E[v][g]=[E[v][g],B];break;case"S":ce=!0,E[v][g]=[E[v][g],"S5S"];break;case"G":break;case"R":Se=parseInt(N[x].slice(1))-1;break;case"C":Le=parseInt(N[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}if(mt&&(E[v][g]&&E[v][g].length==2?E[v][g][0]=Ie:E[v][g]=Ie,z=null),ce){if(xe)throw new Error("SYLK shared formula cannot have own formula");var H=Se>-1&&E[Se][Le];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");E[v][g][1]=MM(H[1],{r:v-Se,c:g-Le})}break;case"F":var j=0;for(x=1;x<N.length;++x)switch(N[x].charAt(0)){case"X":g=parseInt(N[x].slice(1))-1,++j;break;case"Y":for(v=parseInt(N[x].slice(1))-1,D=E.length;D<=v;++D)E[D]=[];break;case"M":C=parseInt(N[x].slice(1))/20;break;case"F":break;case"G":break;case"P":z=M[parseInt(N[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=N[x].slice(1).split(" "),D=parseInt(A[0],10);D<=parseInt(A[1],10);++D)C=parseInt(A[2],10),S[D-1]=C===0?{hidden:!0}:{wch:C},Kg(S[D-1]);break;case"C":g=parseInt(N[x].slice(1))-1,S[g]||(S[g]={});break;case"R":v=parseInt(N[x].slice(1))-1,T[v]||(T[v]={}),C>0?(T[v].hpt=C,T[v].hpx=MS(C)):C===0&&(T[v].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}j<1&&(z=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+V)}}return T.length>0&&(q["!rows"]=T),S.length>0&&(q["!cols"]=S),m&&m.sheetRows&&(E=E.slice(0,m.sheetRows)),[E,q]}function a(d,m){var _=i(d,m),v=_[0],g=_[1],w=Ko(v,m);return lr(g).forEach(function(x){w[x]=g[x]}),w}function o(d,m){return Ea(a(d,m),m)}function l(d,m,_,v){var g="C;Y"+(_+1)+";X"+(v+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+Xg(d.f,{r:_,c:v}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(d,m){m.forEach(function(_,v){var g="F;W"+(v+1)+" "+(v+1)+" ";_.hidden?g+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=vf(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=_f(_.wpx)),typeof _.wch=="number"&&(g+=Math.round(_.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function h(d,m){m.forEach(function(_,v){var g="F;";_.hidden?g+="M0;":_.hpt?g+="M"+20*_.hpt+";":_.hpx&&(g+="M"+20*yf(_.hpx)+";"),g.length>2&&d.push(g+"R"+(v+1))})}function f(d,m){var _=["ID;PWXL;N;E"],v=[],g=ht(d["!ref"]),w,x=Array.isArray(d),E=`\r
`;_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),d["!cols"]&&c(_,d["!cols"]),d["!rows"]&&h(_,d["!rows"]),_.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var M=g.s.r;M<=g.e.r;++M)for(var z=g.s.c;z<=g.e.c;++z){var q=tt({r:M,c:z});w=x?(d[M]||[])[z]:d[q],!(!w||w.v==null&&(!w.f||w.F))&&v.push(l(w,d,M,z))}return _.join(E)+E+v.join(E)+E+"E"+E}return{to_workbook:o,to_sheet:a,from_sheet:f}}(),V6=function(){function t(s,a){switch(a.type){case"base64":return e(Ti(s),a);case"binary":return e(s,a);case"buffer":return e(qe&&Buffer.isBuffer(s)?s.toString("binary"):Qu(s),a);case"array":return e(u0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,c=-1,h=0,f=[];h!==o.length;++h){if(o[h].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[h].trim().split(","),m=d[0],_=d[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+m){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(di(_))?isNaN(Iu(_).getDate())?f[l][c]=_:f[l][c]=Ar(_):f[l][c]=di(_),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(s,a){return Ko(t(s,a),a)}function n(s,a){return Ea(r(s,a),a)}var i=function(){var s=function(l,c,h,f,d){l.push(c),l.push(h+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,c,h,f){l.push(c+","+h),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],h=ht(l["!ref"]),f,d=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,h.e.r-h.s.r+1,""),s(c,"TUPLES",0,h.e.c-h.s.c+1,""),s(c,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){a(c,-1,0,"BOT");for(var _=h.s.c;_<=h.e.c;++_){var v=tt({r:m,c:_});if(f=d?(l[m]||[])[_]:l[v],!f){a(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?a(c,1,0,"="+f.f):a(c,1,0,""):a(c,0,g,"V");break;case"b":a(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=vs(f.z||Tt[14],br(Ar(f.v)))),a(c,0,f.w,"V");break;default:a(c,1,0,"")}}}a(c,-1,0,"EOD");var w=`\r
`,x=c.join(w);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),OS=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var m=f.split(`
`),_=-1,v=-1,g=0,w=[];g!==m.length;++g){var x=m[g].trim().split(":");if(x[0]==="cell"){var E=Wt(x[1]);if(w.length<=E.r)for(_=w.length;_<=E.r;++_)w[_]||(w[_]=[]);switch(_=E.r,v=E.c,x[2]){case"t":w[_][v]=t(x[3]);break;case"v":w[_][v]=+x[3];break;case"vtf":var M=x[x.length-1];case"vtc":switch(x[3]){case"nl":w[_][v]=!!+x[4];break;default:w[_][v]=+x[4];break}x[2]=="vtf"&&(w[_][v]=[w[_][v],M])}}}return d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),w}function n(f,d){return Ko(r(f,d),d)}function i(f,d){return Ea(n(f,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],m=[],_,v="",g=en(f["!ref"]),w=Array.isArray(f),x=g.s.r;x<=g.e.r;++x)for(var E=g.s.c;E<=g.e.c;++E)if(v=tt({r:x,c:E}),_=w?(f[x]||[])[E]:f[v],!(!_||_.v==null||_.t==="z")){switch(m=["cell",v,"t"],_.t){case"s":case"str":m.push(e(_.v));break;case"n":_.f?(m[2]="vtf",m[3]="n",m[4]=_.v,m[5]=e(_.f)):(m[2]="v",m[3]=_.v);break;case"b":m[2]="vt"+(_.f?"f":"c"),m[3]="nl",m[4]=_.v?"1":"0",m[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var M=br(Ar(_.v));m[2]="vtc",m[3]="nd",m[4]=""+M,m[5]=_.w||vs(_.z||Tt[14],M);break;case"e":continue}d.push(m.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function h(f){return[s,a,o,a,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}}(),B6=function(){function t(h,f,d,m,_){_.raw?f[d][m]=h:h===""||(h==="TRUE"?f[d][m]=!0:h==="FALSE"?f[d][m]=!1:isNaN(di(h))?isNaN(Iu(h).getDate())?f[d][m]=h:f[d][m]=Ar(h):f[d][m]=di(h))}function e(h,f){var d=f||{},m=[];if(!h||h.length===0)return m;for(var _=h.split(/[\r\n]/),v=_.length-1;v>=0&&_[v].length===0;)--v;for(var g=10,w=0,x=0;x<=v;++x)w=_[x].indexOf(" "),w==-1?w=_[x].length:w++,g=Math.max(g,w);for(x=0;x<=v;++x){m[x]=[];var E=0;for(t(_[x].slice(0,g).trim(),m,x,E,d),E=1;E<=(_[x].length-g)/10+1;++E)t(_[x].slice(g+(E-1)*10,g+E*10).trim(),m,x,E,d)}return d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var f={},d=!1,m=0,_=0;m<h.length;++m)(_=h.charCodeAt(m))==34?d=!d:!d&&_ in r&&(f[_]=(f[_]||0)+1);_=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&_.push([f[m],m]);if(!_.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&_.push([f[m],m])}return _.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[_.pop()[1]]||44}function s(h,f){var d=f||{},m="",_=d.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):d&&d.FS?m=d.FS:m=i(h.slice(0,1024));var g=0,w=0,x=0,E=0,M=0,z=m.charCodeAt(0),q=!1,T=0,S=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var A=d.dateNF!=null?tL(d.dateNF):null;function C(){var D=h.slice(E,M),V={};if(D.charAt(0)=='"'&&D.charAt(D.length-1)=='"'&&(D=D.slice(1,-1).replace(/""/g,'"')),D.length===0)V.t="z";else if(d.raw)V.t="s",V.v=D;else if(D.trim().length===0)V.t="s",V.v=D;else if(D.charCodeAt(0)==61)D.charCodeAt(1)==34&&D.charCodeAt(D.length-1)==34?(V.t="s",V.v=D.slice(2,-1).replace(/""/g,'"')):bM(D)?(V.t="n",V.f=D.slice(1)):(V.t="s",V.v=D);else if(D=="TRUE")V.t="b",V.v=!0;else if(D=="FALSE")V.t="b",V.v=!1;else if(!isNaN(x=di(D)))V.t="n",d.cellText!==!1&&(V.w=D),V.v=x;else if(!isNaN(Iu(D).getDate())||A&&D.match(A)){V.z=d.dateNF||Tt[14];var N=0;A&&D.match(A)&&(D=rL(D,d.dateNF,D.match(A)||[]),N=1),d.cellDates?(V.t="d",V.v=Ar(D,N)):(V.t="n",V.v=br(Ar(D,N))),d.cellText!==!1&&(V.w=vs(V.z,V.v instanceof Date?br(V.v):V.v)),d.cellNF||delete V.z}else V.t="s",V.v=D;if(V.t=="z"||(d.dense?(_[g]||(_[g]=[]),_[g][w]=V):_[tt({c:w,r:g})]=V),E=M+1,S=h.charCodeAt(E),v.e.c<w&&(v.e.c=w),v.e.r<g&&(v.e.r=g),T==z)++w;else if(w=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;M<h.length;++M)switch(T=h.charCodeAt(M)){case 34:S===34&&(q=!q);break;case z:case 10:case 13:if(!q&&C())break e;break}return M-E>0&&C(),_["!ref"]=Ot(v),_}function a(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,f):Ko(e(h,f),f)}function o(h,f){var d="",m=f.type=="string"?[0,0,0,0]:Y9(h,f);switch(f.type){case"base64":d=Ti(h);break;case"binary":d=h;break;case"buffer":f.codepage==65001?d=h.toString("utf8"):f.codepage&&typeof $s<"u"?d=$s.utils.decode(f.codepage,h):d=qe&&Buffer.isBuffer(h)?h.toString("binary"):Qu(h);break;case"array":d=u0(h);break;case"string":d=h;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?d=Hl(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Hl(d):f.type=="binary"&&typeof $s<"u"&&f.codepage&&(d=$s.utils.decode(f.codepage,$s.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?OS.to_sheet(f.type=="string"?d:Hl(d),f):a(d,f)}function l(h,f){return Ea(o(h,f),f)}function c(h){for(var f=[],d=ht(h["!ref"]),m,_=Array.isArray(h),v=d.s.r;v<=d.e.r;++v){for(var g=[],w=d.s.c;w<=d.e.c;++w){var x=tt({r:v,c:w});if(m=_?(h[v]||[])[w]:h[x],!m||m.v==null){g.push("          ");continue}for(var E=(m.w||(Si(m),m.w)||"").slice(0,10);E.length<10;)E+=" ";g.push(E+(w===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}(),Hy=function(){function t(B,H,j){if(B){$r(B,B.l||0);for(var U=j.Enum||Se;B.l<B.length;){var te=B.read_shift(2),ge=U[te]||U[65535],Te=B.read_shift(2),Ee=B.l+Te,de=ge.f&&ge.f(B,Te,j);if(B.l=Ee,H(de,ge,te))return}}}function e(B,H){switch(H.type){case"base64":return r(Tn(Ti(B)),H);case"binary":return r(Tn(B),H);case"buffer":case"array":return r(B,H)}throw"Unsupported type "+H.type}function r(B,H){if(!B)return B;var j=H||{},U=j.dense?[]:{},te="Sheet1",ge="",Te=0,Ee={},de=[],We=[],Me={s:{r:0,c:0},e:{r:0,c:0}},Ft=j.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)j.Enum=Se,t(B,function(ye,Rr,nn){switch(nn){case 0:j.vers=ye,ye>=4096&&(j.qpro=!0);break;case 6:Me=ye;break;case 204:ye&&(ge=ye);break;case 222:ge=ye;break;case 15:case 51:j.qpro||(ye[1].v=ye[1].v.slice(1));case 13:case 14:case 16:nn==14&&(ye[2]&112)==112&&(ye[2]&15)>1&&(ye[2]&15)<15&&(ye[1].z=j.dateNF||Tt[14],j.cellDates&&(ye[1].t="d",ye[1].v=X2(ye[1].v))),j.qpro&&ye[3]>Te&&(U["!ref"]=Ot(Me),Ee[te]=U,de.push(te),U=j.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Te=ye[3],te=ge||"Sheet"+(Te+1),ge="");var mn=j.dense?(U[ye[0].r]||[])[ye[0].c]:U[tt(ye[0])];if(mn){mn.t=ye[1].t,mn.v=ye[1].v,ye[1].z!=null&&(mn.z=ye[1].z),ye[1].f!=null&&(mn.f=ye[1].f);break}j.dense?(U[ye[0].r]||(U[ye[0].r]=[]),U[ye[0].r][ye[0].c]=ye[1]):U[tt(ye[0])]=ye[1];break}},j);else if(B[2]==26||B[2]==14)j.Enum=Le,B[2]==14&&(j.qpro=!0,B.l=0),t(B,function(ye,Rr,nn){switch(nn){case 204:te=ye;break;case 22:ye[1].v=ye[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ye[3]>Te&&(U["!ref"]=Ot(Me),Ee[te]=U,de.push(te),U=j.dense?[]:{},Me={s:{r:0,c:0},e:{r:0,c:0}},Te=ye[3],te="Sheet"+(Te+1)),Ft>0&&ye[0].r>=Ft)break;j.dense?(U[ye[0].r]||(U[ye[0].r]=[]),U[ye[0].r][ye[0].c]=ye[1]):U[tt(ye[0])]=ye[1],Me.e.c<ye[0].c&&(Me.e.c=ye[0].c),Me.e.r<ye[0].r&&(Me.e.r=ye[0].r);break;case 27:ye[14e3]&&(We[ye[14e3][0]]=ye[14e3][1]);break;case 1537:We[ye[0]]=ye[1],ye[0]==Te&&(te=ye[1]);break}},j);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(U["!ref"]=Ot(Me),Ee[ge||te]=U,de.push(ge||te),!We.length)return{SheetNames:de,Sheets:Ee};for(var Ue={},Br=[],at=0;at<We.length;++at)Ee[de[at]]?(Br.push(We[at]||de[at]),Ue[We[at]]=Ee[We[at]]||Ee[de[at]]):(Br.push(We[at]),Ue[We[at]]={"!ref":"A1"});return{SheetNames:Br,Sheets:Ue}}function n(B,H){var j=H||{};if(+j.codepage>=0&&Su(+j.codepage),j.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Mr(),te=ht(B["!ref"]),ge=Array.isArray(B),Te=[];ue(U,0,s(1030)),ue(U,6,l(te));for(var Ee=Math.min(te.e.r,8191),de=te.s.r;de<=Ee;++de)for(var We=sr(de),Me=te.s.c;Me<=te.e.c;++Me){de===te.s.r&&(Te[Me]=vr(Me));var Ft=Te[Me]+We,Ue=ge?(B[de]||[])[Me]:B[Ft];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?ue(U,13,m(de,Me,Ue.v)):ue(U,14,v(de,Me,Ue.v));else{var Br=Si(Ue);ue(U,15,f(de,Me,Br.slice(0,239)))}}return ue(U,1),U.end()}function i(B,H){var j=H||{};if(+j.codepage>=0&&Su(+j.codepage),j.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Mr();ue(U,0,a(B));for(var te=0,ge=0;te<B.SheetNames.length;++te)(B.Sheets[B.SheetNames[te]]||{})["!ref"]&&ue(U,27,xe(B.SheetNames[te],ge++));var Te=0;for(te=0;te<B.SheetNames.length;++te){var Ee=B.Sheets[B.SheetNames[te]];if(!(!Ee||!Ee["!ref"])){for(var de=ht(Ee["!ref"]),We=Array.isArray(Ee),Me=[],Ft=Math.min(de.e.r,8191),Ue=de.s.r;Ue<=Ft;++Ue)for(var Br=sr(Ue),at=de.s.c;at<=de.e.c;++at){Ue===de.s.r&&(Me[at]=vr(at));var ye=Me[at]+Br,Rr=We?(Ee[Ue]||[])[at]:Ee[ye];if(!(!Rr||Rr.t=="z"))if(Rr.t=="n")ue(U,23,C(Ue,at,Te,Rr.v));else{var nn=Si(Rr);ue(U,22,T(Ue,at,Te,nn.slice(0,239)))}}++Te}}return ue(U,1),U.end()}function s(B){var H=ee(2);return H.write_shift(2,B),H}function a(B){var H=ee(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var j=0,U=0,te=0,ge=0;ge<B.SheetNames.length;++ge){var Te=B.SheetNames[ge],Ee=B.Sheets[Te];if(!(!Ee||!Ee["!ref"])){++te;var de=en(Ee["!ref"]);j<de.e.r&&(j=de.e.r),U<de.e.c&&(U=de.e.c)}}return j>8191&&(j=8191),H.write_shift(2,j),H.write_shift(1,te),H.write_shift(1,U),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(B,H,j){var U={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&j.qpro?(U.s.c=B.read_shift(1),B.l++,U.s.r=B.read_shift(2),U.e.c=B.read_shift(1),B.l++,U.e.r=B.read_shift(2),U):(U.s.c=B.read_shift(2),U.s.r=B.read_shift(2),H==12&&j.qpro&&(B.l+=2),U.e.c=B.read_shift(2),U.e.r=B.read_shift(2),H==12&&j.qpro&&(B.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function l(B){var H=ee(8);return H.write_shift(2,B.s.c),H.write_shift(2,B.s.r),H.write_shift(2,B.e.c),H.write_shift(2,B.e.r),H}function c(B,H,j){var U=[{c:0,r:0},{t:"n",v:0},0,0];return j.qpro&&j.vers!=20768?(U[0].c=B.read_shift(1),U[3]=B.read_shift(1),U[0].r=B.read_shift(2),B.l+=2):(U[2]=B.read_shift(1),U[0].c=B.read_shift(2),U[0].r=B.read_shift(2)),U}function h(B,H,j){var U=B.l+H,te=c(B,H,j);if(te[1].t="s",j.vers==20768){B.l++;var ge=B.read_shift(1);return te[1].v=B.read_shift(ge,"utf8"),te}return j.qpro&&B.l++,te[1].v=B.read_shift(U-B.l,"cstr"),te}function f(B,H,j){var U=ee(7+j.length);U.write_shift(1,255),U.write_shift(2,H),U.write_shift(2,B),U.write_shift(1,39);for(var te=0;te<U.length;++te){var ge=j.charCodeAt(te);U.write_shift(1,ge>=128?95:ge)}return U.write_shift(1,0),U}function d(B,H,j){var U=c(B,H,j);return U[1].v=B.read_shift(2,"i"),U}function m(B,H,j){var U=ee(7);return U.write_shift(1,255),U.write_shift(2,H),U.write_shift(2,B),U.write_shift(2,j,"i"),U}function _(B,H,j){var U=c(B,H,j);return U[1].v=B.read_shift(8,"f"),U}function v(B,H,j){var U=ee(13);return U.write_shift(1,255),U.write_shift(2,H),U.write_shift(2,B),U.write_shift(8,j,"f"),U}function g(B,H,j){var U=B.l+H,te=c(B,H,j);if(te[1].v=B.read_shift(8,"f"),j.qpro)B.l=U;else{var ge=B.read_shift(2);M(B.slice(B.l,B.l+ge),te),B.l+=ge}return te}function w(B,H,j){var U=H&32768;return H&=-32769,H=(U?B:0)+(H>=8192?H-16384:H),(U?"":"$")+(j?vr(H):sr(H))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function M(B,H){$r(B,0);for(var j=[],U=0,te="",ge="",Te="",Ee="";B.l<B.length;){var de=B[B.l++];switch(de){case 0:j.push(B.read_shift(8,"f"));break;case 1:ge=w(H[0].c,B.read_shift(2),!0),te=w(H[0].r,B.read_shift(2),!1),j.push(ge+te);break;case 2:{var We=w(H[0].c,B.read_shift(2),!0),Me=w(H[0].r,B.read_shift(2),!1);ge=w(H[0].c,B.read_shift(2),!0),te=w(H[0].r,B.read_shift(2),!1),j.push(We+Me+":"+ge+te)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:j.push("("+j.pop()+")");break;case 5:j.push(B.read_shift(2));break;case 6:{for(var Ft="";de=B[B.l++];)Ft+=String.fromCharCode(de);j.push('"'+Ft.replace(/"/g,'""')+'"')}break;case 8:j.push("-"+j.pop());break;case 23:j.push("+"+j.pop());break;case 22:j.push("NOT("+j.pop()+")");break;case 20:case 21:Ee=j.pop(),Te=j.pop(),j.push(["AND","OR"][de-20]+"("+Te+","+Ee+")");break;default:if(de<32&&E[de])Ee=j.pop(),Te=j.pop(),j.push(Te+E[de]+Ee);else if(x[de]){if(U=x[de][1],U==69&&(U=B[B.l++]),U>j.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+j.join("|")+"|");return}var Ue=j.slice(-U);j.length-=U,j.push(x[de][0]+"("+Ue.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}j.length==1?H[1].f=""+j[0]:console.error("WK1 bad formula parse |"+j.join("|")+"|")}function z(B){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=B.read_shift(2),H[3]=B[B.l++],H[0].c=B[B.l++],H}function q(B,H){var j=z(B);return j[1].t="s",j[1].v=B.read_shift(H-4,"cstr"),j}function T(B,H,j,U){var te=ee(6+U.length);te.write_shift(2,B),te.write_shift(1,j),te.write_shift(1,H),te.write_shift(1,39);for(var ge=0;ge<U.length;++ge){var Te=U.charCodeAt(ge);te.write_shift(1,Te>=128?95:Te)}return te.write_shift(1,0),te}function S(B,H){var j=z(B);j[1].v=B.read_shift(2);var U=j[1].v>>1;if(j[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return j[1].v=U,j}function A(B,H){var j=z(B),U=B.read_shift(4),te=B.read_shift(4),ge=B.read_shift(2);if(ge==65535)return U===0&&te===3221225472?(j[1].t="e",j[1].v=15):U===0&&te===3489660928?(j[1].t="e",j[1].v=42):j[1].v=0,j;var Te=ge&32768;return ge=(ge&32767)-16446,j[1].v=(1-Te*2)*(te*Math.pow(2,ge+32)+U*Math.pow(2,ge)),j}function C(B,H,j,U){var te=ee(14);if(te.write_shift(2,B),te.write_shift(1,j),te.write_shift(1,H),U==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ge=0,Te=0,Ee=0,de=0;return U<0&&(ge=1,U=-U),Te=Math.log2(U)|0,U/=Math.pow(2,Te-31),de=U>>>0,de&2147483648||(U/=2,++Te,de=U>>>0),U-=de,de|=2147483648,de>>>=0,U*=Math.pow(2,32),Ee=U>>>0,te.write_shift(4,Ee),te.write_shift(4,de),Te+=16383+(ge?32768:0),te.write_shift(2,Te),te}function D(B,H){var j=A(B);return B.l+=H-14,j}function V(B,H){var j=z(B),U=B.read_shift(4);return j[1].v=U>>6,j}function N(B,H){var j=z(B),U=B.read_shift(8,"f");return j[1].v=U,j}function Oe(B,H){var j=N(B);return B.l+=H-10,j}function Ie(B,H){return B[B.l+H-1]==0?B.read_shift(H,"cstr"):""}function mt(B,H){var j=B[B.l++];j>H-1&&(j=H-1);for(var U="";U.length<j;)U+=String.fromCharCode(B[B.l++]);return U}function Ke(B,H,j){if(!(!j.qpro||H<21)){var U=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var te=B.read_shift(H-21,"cstr");return[U,te]}}function ce(B,H){for(var j={},U=B.l+H;B.l<U;){var te=B.read_shift(2);if(te==14e3){for(j[te]=[0,""],j[te][0]=B.read_shift(2);B[B.l];)j[te][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return j}function xe(B,H){var j=ee(5+B.length);j.write_shift(2,14e3),j.write_shift(2,H);for(var U=0;U<B.length;++U){var te=B.charCodeAt(U);j[j.l++]=te>127?95:te}return j[j.l++]=0,j}var Se={0:{n:"BOF",f:CS},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ie},222:{n:"SHEETNAMELP",f:mt},65535:{n:""}},Le={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:q},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:D},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:V},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:Oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ke},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),U6=/^\s|\s$|[\t\n\r]/;function DS(t,e){if(!e.bookSST)return"";var r=[Dt];r[r.length]=le("sst",null,{xmlns:Go[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(U6)&&(s+=' xml:space="preserve"'),s+=">"+Je(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function j6(t){return[t.read_shift(4),t.read_shift(4)]}function z6(t,e){return e||(e=ee(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var W6=DL;function H6(t){var e=Mr();ne(e,159,z6(t));for(var r=0;r<t.length;++r)ne(e,19,W6(t[r]));return ne(e,160),e.end()}function $6(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function FS(t){var e=0,r,n=$6(t),i=n.length+1,s,a,o,l,c;for(r=fa(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,c=o|l,e=c^a;return e^52811}var G6=function(){function t(i,s){switch(s.type){case"base64":return e(Ti(i),s);case"binary":return e(i,s);case"buffer":return e(qe&&Buffer.isBuffer(i)?i.toString("binary"):Qu(i),s);case"array":return e(u0(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,m=0,_,v=-1;_=d.exec(h);){switch(_[0]){case"\\cell":var g=h.slice(m,d.lastIndex-_[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var w={v:g,t:"s"};Array.isArray(o)?o[f][v]=w:o[tt({r:f,c:v})]=w}break}m=d.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=Ot(c),o}function r(i,s){return Ea(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=ht(i["!ref"]),o,l=Array.isArray(i),c=a.s.r;c<=a.e.r;++c){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var f=tt({r:c,c:h});o=l?(i[c]||[])[h]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Si(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function $y(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var K6=6,pi=K6;function vf(t){return Math.floor((t+Math.round(128/pi)/256)*pi)}function _f(t){return Math.floor((t-5)/pi*100+.5)/100}function Bp(t){return Math.round((t*pi+5)/pi*256)/256}function Kg(t){t.width?(t.wpx=vf(t.width),t.wch=_f(t.wpx),t.MDW=pi):t.wpx?(t.wch=_f(t.wpx),t.width=Bp(t.wch),t.MDW=pi):typeof t.wch=="number"&&(t.width=Bp(t.wch),t.wpx=vf(t.width),t.MDW=pi),t.customWidth&&delete t.customWidth}var q6=96,LS=q6;function yf(t){return t*96/LS}function MS(t){return t*LS/96}function X6(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=le("numFmt",null,{numFmtId:n,formatCode:Je(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=le("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function Q6(t){var e=[];return e[e.length]=le("cellXfs",null),t.forEach(function(r){e[e.length]=le("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=le("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function bS(t,e){var r=[Dt,le("styleSheet",null,{xmlns:Go[0],"xmlns:vt":zt.vt})],n;return t.SSF&&(n=X6(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Q6(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Y6(t,e){var r=t.read_shift(2),n=_r(t);return[r,n]}function J6(t,e,r){r||(r=ee(6+4*e.length)),r.write_shift(2,t),Ht(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Z6(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=UL(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=BL(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_r(t),n}function eM(t,e){e||(e=ee(25+4*32)),e.write_shift(2,t.sz*20),jL(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),mf(t.color,e);var n=0;return t.scheme=="major"&&(n=1),t.scheme=="minor"&&(n=2),e.write_shift(1,n),Ht(t.name,e),e.length>e.l?e.slice(0,e.l):e}var tM=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],fd,rM=Xn;function Gy(t,e){e||(e=ee(4*3+8*7+16*1)),fd||(fd=Lg(tM));var r=fd[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(mf({auto:1},e),mf({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function nM(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function VS(t,e,r){r||(r=ee(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function _l(t,e){return e||(e=ee(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var iM=Xn;function sM(t,e){return e||(e=ee(51)),e.write_shift(1,0),_l(null,e),_l(null,e),_l(null,e),_l(null,e),_l(null,e),e.length>e.l?e.slice(0,e.l):e}function aM(t,e){return e||(e=ee(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),pf(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function oM(t,e,r){var n=ee(2052);return n.write_shift(4,t),pf(e,n),pf(r,n),n.length>n.l?n.slice(0,n.l):n}function lM(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ne(t,615,Rn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ne(t,44,J6(i,e[i]))}),ne(t,616))}}function uM(t){var e=1;ne(t,611,Rn(e)),ne(t,43,eM({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ne(t,612)}function cM(t){var e=2;ne(t,603,Rn(e)),ne(t,45,Gy({patternType:"none"})),ne(t,45,Gy({patternType:"gray125"})),ne(t,604)}function hM(t){var e=1;ne(t,613,Rn(e)),ne(t,46,sM()),ne(t,614)}function fM(t){var e=1;ne(t,626,Rn(e)),ne(t,47,VS({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ne(t,627)}function dM(t,e){ne(t,617,Rn(e.length)),e.forEach(function(r){ne(t,47,VS(r,0))}),ne(t,618)}function pM(t){var e=1;ne(t,619,Rn(e)),ne(t,48,aM({xfId:0,builtinId:0,name:"Normal"})),ne(t,620)}function mM(t){var e=0;ne(t,505,Rn(e)),ne(t,506)}function gM(t){var e=0;ne(t,508,oM(e,"TableStyleMedium9","PivotStyleMedium4")),ne(t,509)}function vM(t,e){var r=Mr();return ne(r,278),lM(r,t.SSF),uM(r),cM(r),hM(r),fM(r),dM(r,e.cellXfs),pM(r),mM(r),gM(r),ne(r,279),r.end()}function BS(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Dt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function _M(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:_r(t)}}function yM(t){var e=ee(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ht(t.name,e),e.slice(0,e.l)}function xM(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function EM(t){var e=ee(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function wM(t,e){var r=ee(8+2*e.length);return r.write_shift(4,t),Ht(e,r),r.slice(0,r.l)}function TM(t){return t.l+=4,t.read_shift(4)!=0}function SM(t,e){var r=ee(8);return r.write_shift(4,t),r.write_shift(4,1),r}function AM(){var t=Mr();return ne(t,332),ne(t,334,Rn(1)),ne(t,335,yM({name:"XLDAPR",version:12e4,flags:3496657072})),ne(t,336),ne(t,339,wM(1,"XLDAPR")),ne(t,52),ne(t,35,Rn(514)),ne(t,4096,Rn(0)),ne(t,4097,on(1)),ne(t,36),ne(t,53),ne(t,340),ne(t,337,SM(1)),ne(t,51,EM([[1,0]])),ne(t,338),ne(t,333),t.end()}function US(){var t=[Dt];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function IM(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=tt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var eo=1024;function jS(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[le("xml",null,{"xmlns:v":Gr.v,"xmlns:o":Gr.o,"xmlns:x":Gr.x,"xmlns:mv":Gr.mv}).replace(/\/>/,">"),le("o:shapelayout",le("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),le("v:shapetype",[le("v:stroke",null,{joinstyle:"miter"}),le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];eo<t*1e3;)eo+=1e3;return e.forEach(function(s){var a=Wt(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=le("v:fill",l,o),h={on:"t",obscured:"t"};++eo,i=i.concat(["<v:shape"+Ru({id:"_x0000_s"+eo,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,le("v:shadow",null,h),le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",rr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),rr("x:AutoFill","False"),rr("x:Row",String(a.r)),rr("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function zS(t){var e=[Dt,le("comments",null,{xmlns:Go[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Je(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Je(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(rr("t",Je(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(rr("t",Je(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function CM(t,e,r){var n=[Dt,le("ThreadedComments",null,{xmlns:zt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(le("threadedComment",rr("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function RM(t){var e=[Dt,le("personList",null,{xmlns:zt.TCMNT,"xmlns:x":Go[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(le("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function kM(t){var e={};e.iauthor=t.read_shift(4);var r=Aa(t);return e.rfx=r.s,e.ref=tt(r.s),t.l+=16,e}function PM(t,e){return e==null&&(e=ee(36)),e.write_shift(4,t[1].iauthor),qo(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var NM=_r;function OM(t){return Ht(t.slice(0,54))}function DM(t){var e=Mr(),r=[];return ne(e,628),ne(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ne(e,632,OM(i.a)))})}),ne(e,631),ne(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Wt(n[0]),e:Wt(n[0])};ne(e,635,PM([s,i])),i.t&&i.t.length>0&&ne(e,637,LL(i)),ne(e,636),delete i.iauthor})}),ne(e,634),ne(e,629),e.end()}function FM(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&rt.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var WS=["xlsb","xlsm","xlam","biff8","xla"],LM=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,l?c+=e.r:--c,i+(o?"":"$")+vr(h)+(l?"":"$")+sr(c)}return function(i,s){return e=s,i.replace(t,r)}}(),qg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Xg=function(){return function(e,r){return e.replace(qg,function(n,i,s,a,o,l){var c=zg(a)-(s?0:r.c),h=jg(l)-(o?0:r.r),f=h==0?"":o?h+1:"["+h+"]",d=c==0?"":s?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function MM(t,e){return t.replace(qg,function(r,n,i,s,a,o){return n+(i=="$"?i+s:vr(zg(s)+e.c))+(a=="$"?a+o:sr(jg(o)+e.r))})}function bM(t){return t.length!=1}function Rt(t){t.l+=1}function _s(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function HS(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return $S(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=_s(t),o=_s(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function $S(t){var e=_s(t),r=_s(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function VM(t,e,r){if(r.biff<8)return $S(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=_s(t),a=_s(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function GS(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return BM(t);var n=t.read_shift(r&&r.biff==12?4:2),i=_s(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function BM(t){var e=_s(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function UM(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function jM(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return zM(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function zM(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function WM(t,e,r){var n=(t[t.l++]&96)>>5,i=HS(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function HM(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=HS(t,s,r);return[n,i,a]}function $M(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function GM(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function KM(t,e,r){var n=(t[t.l++]&96)>>5,i=VM(t,e-1,r);return[n,i]}function qM(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function Ky(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function XM(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function QM(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function YM(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function JM(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function ZM(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function KS(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function e5(t){return t.read_shift(2),KS(t)}function t5(t){return t.read_shift(2),KS(t)}function r5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=GS(t,0,r);return[n,i]}function n5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=jM(t,0,r);return[n,i]}function i5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=GS(t,0,r);return[n,i,s]}function s5(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[s8[i],QS[i],n]}function a5(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:o5(t);return[i,(s[0]===0?QS:i8)[s[1]]]}function o5(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function l5(t,e,r){t.l+=r&&r.biff==2?3:4}function u5(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function c5(t){return t.l++,Zu[t.read_shift(1)]}function h5(t){return t.l++,t.read_shift(2)}function f5(t){return t.l++,t.read_shift(1)!==0}function d5(t){return t.l++,Xo(t)}function p5(t,e,r){return t.l++,kS(t,e-1,r)}function m5(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=i6(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Zu[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Xo(t);break;case 2:r[1]=l6(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function g5(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Aa:h6)(t));return i}function v5(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=m5(t,r.biff);return a}function _5(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function y5(t,e,r){if(r.biff==5)return x5(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function x5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function E5(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function w5(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function T5(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function S5(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var A5=Xn,I5=Xn,C5=Xn;function ec(t,e,r){return t.l+=2,[UM(t)]}function Qg(t){return t.l+=6,[]}var R5=ec,k5=Qg,P5=Qg,N5=ec;function qS(t){return t.l+=2,[CS(t),t.read_shift(2)&1]}var O5=ec,D5=qS,F5=Qg,L5=ec,M5=ec,b5=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function V5(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=b5[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function B5(t){return t.l+=2,[t.read_shift(4)]}function U5(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function j5(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function z5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function W5(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function H5(t){return t.l+=4,[0,0]}var qy={1:{n:"PtgExp",f:u5},2:{n:"PtgTbl",f:C5},3:{n:"PtgAdd",f:Rt},4:{n:"PtgSub",f:Rt},5:{n:"PtgMul",f:Rt},6:{n:"PtgDiv",f:Rt},7:{n:"PtgPower",f:Rt},8:{n:"PtgConcat",f:Rt},9:{n:"PtgLt",f:Rt},10:{n:"PtgLe",f:Rt},11:{n:"PtgEq",f:Rt},12:{n:"PtgGe",f:Rt},13:{n:"PtgGt",f:Rt},14:{n:"PtgNe",f:Rt},15:{n:"PtgIsect",f:Rt},16:{n:"PtgUnion",f:Rt},17:{n:"PtgRange",f:Rt},18:{n:"PtgUplus",f:Rt},19:{n:"PtgUminus",f:Rt},20:{n:"PtgPercent",f:Rt},21:{n:"PtgParen",f:Rt},22:{n:"PtgMissArg",f:Rt},23:{n:"PtgStr",f:p5},26:{n:"PtgSheet",f:U5},27:{n:"PtgEndSheet",f:j5},28:{n:"PtgErr",f:c5},29:{n:"PtgBool",f:f5},30:{n:"PtgInt",f:h5},31:{n:"PtgNum",f:d5},32:{n:"PtgArray",f:qM},33:{n:"PtgFunc",f:s5},34:{n:"PtgFuncVar",f:a5},35:{n:"PtgName",f:_5},36:{n:"PtgRef",f:r5},37:{n:"PtgArea",f:WM},38:{n:"PtgMemArea",f:E5},39:{n:"PtgMemErr",f:A5},40:{n:"PtgMemNoMem",f:I5},41:{n:"PtgMemFunc",f:w5},42:{n:"PtgRefErr",f:T5},43:{n:"PtgAreaErr",f:$M},44:{n:"PtgRefN",f:n5},45:{n:"PtgAreaN",f:KM},46:{n:"PtgMemAreaN",f:z5},47:{n:"PtgMemNoMemN",f:W5},57:{n:"PtgNameX",f:y5},58:{n:"PtgRef3d",f:i5},59:{n:"PtgArea3d",f:HM},60:{n:"PtgRefErr3d",f:S5},61:{n:"PtgAreaErr3d",f:GM},255:{}},$5={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},G5={1:{n:"PtgElfLel",f:qS},2:{n:"PtgElfRw",f:L5},3:{n:"PtgElfCol",f:R5},6:{n:"PtgElfRwV",f:M5},7:{n:"PtgElfColV",f:N5},10:{n:"PtgElfRadical",f:O5},11:{n:"PtgElfRadicalS",f:F5},13:{n:"PtgElfColS",f:k5},15:{n:"PtgElfColSV",f:P5},16:{n:"PtgElfRadicalLel",f:D5},25:{n:"PtgList",f:V5},29:{n:"PtgSxName",f:B5},255:{}},K5={0:{n:"PtgAttrNoop",f:H5},1:{n:"PtgAttrSemi",f:ZM},2:{n:"PtgAttrIf",f:YM},4:{n:"PtgAttrChoose",f:XM},8:{n:"PtgAttrGoto",f:QM},16:{n:"PtgAttrSum",f:l5},32:{n:"PtgAttrBaxcel",f:Ky},33:{n:"PtgAttrBaxcel",f:Ky},64:{n:"PtgAttrSpace",f:e5},65:{n:"PtgAttrSpaceSemi",f:t5},128:{n:"PtgAttrIfError",f:JM},255:{}};function q5(t,e,r,n){if(n.biff<8)return Xn(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=v5(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=g5(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Xn(t,e)),s}function X5(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=qy[s]||qy[$5[s]],(s===24||s===25)&&(i=(s===24?G5:K5)[t[t.l+1]]),!i||!i.f?Xn(t,e):a.push([i.n,i.f(t,e,r)]);return a}function Q5(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Y5={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function J5(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function XS(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Xy(t,e,r){var n=XS(t,e,r);return n=="#REF"?n:J5(n,r)}function Oo(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,h,f=0,d=0,m,_="";if(!t[0]||!t[0][0])return"";for(var v=-1,g="",w=0,x=t[0].length;w<x;++w){var E=t[0][w];switch(E[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:g=wt(" ",t[0][v][1][1]);break;case 1:g=wt("\r",t[0][v][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}c=c+g,v=-1}o.push(c+Y5[E[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Gl(E[1][1],a,i),o.push(Kl(h,s));break;case"PtgRefN":h=r?Gl(E[1][1],r,i):E[1][1],o.push(Kl(h,s));break;case"PtgRef3d":f=E[1][1],h=Gl(E[1][2],a,i),_=Xy(n,f,i),o.push(_+"!"+Kl(h,s));break;case"PtgFunc":case"PtgFuncVar":var M=E[1][0],z=E[1][1];M||(M=0),M&=127;var q=M==0?[]:o.slice(-M);o.length-=M,z==="User"&&(z=q.shift()),o.push(z+"("+q.join(",")+")");break;case"PtgBool":o.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(E[1]);break;case"PtgNum":o.push(String(E[1]));break;case"PtgStr":o.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(E[1]);break;case"PtgAreaN":m=Dy(E[1][1],r?{s:r}:a,i),o.push(cd(m,i));break;case"PtgArea":m=Dy(E[1][1],a,i),o.push(cd(m,i));break;case"PtgArea3d":f=E[1][1],m=E[1][2],_=Xy(n,f,i),o.push(_+"!"+cd(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=E[1][2];var T=(n.names||[])[d-1]||(n[0]||[])[d],S=T?T.Name:"SH33TJSNAME"+String(d);S&&S.slice(0,6)=="_xlfn."&&!i.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=E[1][1];d=E[1][2];var C;if(i.biff<=5)A<0&&(A=-A),n[A]&&(C=n[A][d]);else{var D="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][d]&&n[A][d].itab>0&&(D=n.SheetNames[n[A][d].itab-1]+"!"):D=n.SheetNames[d-1]+"!"),n[A]&&n[A][d])D+=n[A][d].Name;else if(n[0]&&n[0][d])D+=n[0][d].Name;else{var V=(XS(n,A,i)||"").split(";;");V[d-1]?D=V[d-1]:D+="SH33TJSERRX"}o.push(D);break}C||(C={Name:"SH33TJSERRY"}),o.push(C.Name);break;case"PtgParen":var N="(",Oe=")";if(v>=0){switch(g="",t[0][v][1][0]){case 2:N=wt(" ",t[0][v][1][1])+N;break;case 3:N=wt("\r",t[0][v][1][1])+N;break;case 4:Oe=wt(" ",t[0][v][1][1])+Oe;break;case 5:Oe=wt("\r",t[0][v][1][1])+Oe;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(N+o.pop()+Oe);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:E[1][1],r:E[1][0]};var Ie={c:r.c,r:r.r};if(n.sharedf[tt(h)]){var mt=n.sharedf[tt(h)];o.push(Oo(mt,a,Ie,n,i))}else{var Ke=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(h.c<c[0].s.c||h.c>c[0].e.c)&&!(h.r<c[0].s.r||h.r>c[0].e.r)){o.push(Oo(c[1],a,Ie,n,i)),Ke=!0;break}Ke||o.push(E[1])}break;case"PtgArray":o.push("{"+Q5(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=w;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&ce.indexOf(t[0][w][0])==-1){E=t[0][v];var xe=!0;switch(E[1][0]){case 4:xe=!1;case 0:g=wt(" ",E[1][1]);break;case 5:xe=!1;case 1:g=wt("\r",E[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}o.push((xe?g:"")+o.pop()+(xe?"":g)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function Z5(t){if(t==null){var e=ee(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return da(t);return da(0)}function e8(t,e,r,n,i){var s=pa(e,r,i),a=Z5(t.v),o=ee(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=ee(t.bf.length),h=0;h<t.bf.length;++h)c[h]=t.bf[h];var f=tr([s,a,o,c]);return f}function c0(t,e,r){var n=t.read_shift(4),i=X5(t,n,r),s=t.read_shift(4),a=s>0?q5(t,s,i,r):null;return[i,a]}var t8=c0,h0=c0,r8=c0,n8=c0,i8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},QS={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},s8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function a8(t){var e="of:="+t.replace(qg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function o8(t){return t.replace(/\./,"!")}var ql=typeof Map<"u";function Yg(t,e,r){var n=0,i=t.length;if(r){if(ql?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=ql?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(ql?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function f0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(pi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=_f(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=Bp(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function YS(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Ns(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){G2(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function l8(t,e,r){if(t&&t["!ref"]){var n=ht(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function u8(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Ot(t[r])+'"/>';return e+"</mergeCells>"}function c8(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Cu(Je(l))}if(t&&t["!outline"]){var c={summaryBelow:1,summaryRight:1};t["!outline"].above&&(c.summaryBelow=0),t["!outline"].left&&(c.summaryRight=0),o=(o||"")+le("outlinePr",null,c)}!s&&!o||(i[i.length]=le("sheetPr",o,a))}var h8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],f8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function d8(t){var e={sheet:1};return h8.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),f8.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=FS(t.password).toString(16).toUpperCase()),le("sheetProtection",null,e)}function p8(t){return YS(t),le("pageMargins",null,t)}function m8(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=le("col",null,f0(i,n)));return r[r.length]="</cols>",r.join("")}function g8(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Ot(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=en(i);a.s.r==a.e.r&&(a.e.r=en(e["!ref"]).e.r,i=Ot(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),le("autoFilter",null,{ref:i})}function v8(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),le("sheetViews",le("sheetView",null,i),{})}function _8(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Zu[t.v];break;case"d":n&&n.cellDates?i=Ar(t.v,-1).toISOString():(t=Vr(t),t.t="n",i=""+(t.v=br(Ar(t.v)))),typeof t.z>"u"&&(t.z=Tt[14]);break;default:i=t.v;break}var o=rr("v",Je(i)),l={r:e},c=Ns(n.cellXfs,t,n);switch(c!==0&&(l.s=c),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=rr("v",""+Yg(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=le("f",Je(t.f),h)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),le("c",o,l)}function y8(t,e,r,n){var i=[],s=[],a=ht(t["!ref"]),o="",l,c="",h=[],f=0,d=0,m=t["!rows"],_=Array.isArray(t),v={r:c},g,w=-1;for(d=a.s.c;d<=a.e.c;++d)h[d]=vr(d);for(f=a.s.r;f<=a.e.r;++f){for(s=[],c=sr(f),d=a.s.c;d<=a.e.c;++d){l=h[d]+c;var x=_?(t[f]||[])[d]:t[l];x!==void 0&&(o=_8(x,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[f])&&(v={r:c},m&&m[f]&&(g=m[f],g.hidden&&(v.hidden=1),w=-1,g.hpx?w=yf(g.hpx):g.hpt&&(w=g.hpt),w>-1&&(v.ht=w,v.customHeight=1),g.level&&(v.outlineLevel=g.level)),i[i.length]=le("row",s.join(""),v))}if(m)for(;f<m.length;++f)m&&m[f]&&(v={r:f+1},g=m[f],g.hidden&&(v.hidden=1),w=-1,g.hpx?w=yf(g.hpx):g.hpt&&(w=g.hpt),w>-1&&(v.ht=w,v.customHeight=1),g.level&&(v.outlineLevel=g.level),i[i.length]=le("row","",v));return i.join("")}function JS(t,e,r,n){var i=[Dt,le("worksheet",null,{xmlns:Go[0],"xmlns:r":zt.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var c=l["!ref"]||"A1",h=ht(c);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),c=Ot(h)}n||(n={}),l["!comments"]=[];var f=[];c8(l,r,t,e,i),i[i.length]=le("dimension",null,{ref:c}),i[i.length]=v8(l,e,t,r),e.sheetFormat&&(i[i.length]=le("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=m8(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=y8(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=d8(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=g8(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=u8(l["!merges"]));var d=-1,m,_=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(m={ref:v[0]},v[1].Target.charAt(0)!="#"&&(_=Ye(n,-1,Je(v[1].Target).replace(/#.*$/,""),$e.HLINK),m["r:id"]="rId"+_),(d=v[1].Target.indexOf("#"))>-1&&(m.location=Je(v[1].Target.slice(d+1))),v[1].Tooltip&&(m.tooltip=Je(v[1].Tooltip)),i[i.length]=le("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=p8(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=rr("ignoredErrors",le("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(_=Ye(n,-1,"../drawings/drawing"+(t+1)+".xml",$e.DRAW),i[i.length]=le("drawing",null,{"r:id":"rId"+_}),l["!drawing"]=f),l["!comments"].length>0&&(_=Ye(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",$e.VML),i[i.length]=le("legacyDrawing",null,{"r:id":"rId"+_}),l["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function x8(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function E8(t,e,r){var n=ee(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=yf(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var f=-1,d=-1,m=h<<10;m<h+1<<10;++m){c.c=m;var _=Array.isArray(r)?(r[c.r]||[])[c.c]:r[tt(c)];_&&(f<0&&(f=m),d=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var v=n.l;return n.l=l,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function w8(t,e,r,n){var i=E8(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ne(t,0,i)}var T8=Aa,S8=qo;function A8(){}function I8(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=ML(t),r}function C8(t,e,r){r==null&&(r=ee(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return mf({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),dS(t,r),r.slice(0,r.l)}function R8(t){var e=pn(t);return[e]}function k8(t,e,r){return r==null&&(r=ee(8)),wa(e,r)}function P8(t){var e=Ta(t);return[e]}function N8(t,e,r){return r==null&&(r=ee(4)),Sa(e,r)}function O8(t){var e=pn(t),r=t.read_shift(1);return[e,r,"b"]}function D8(t,e,r){return r==null&&(r=ee(9)),wa(e,r),r.write_shift(1,t.v?1:0),r}function F8(t){var e=Ta(t),r=t.read_shift(1);return[e,r,"b"]}function L8(t,e,r){return r==null&&(r=ee(5)),Sa(e,r),r.write_shift(1,t.v?1:0),r}function M8(t){var e=pn(t),r=t.read_shift(1);return[e,r,"e"]}function b8(t,e,r){return r==null&&(r=ee(9)),wa(e,r),r.write_shift(1,t.v),r}function V8(t){var e=Ta(t),r=t.read_shift(1);return[e,r,"e"]}function B8(t,e,r){return r==null&&(r=ee(8)),Sa(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function U8(t){var e=pn(t),r=t.read_shift(4);return[e,r,"s"]}function j8(t,e,r){return r==null&&(r=ee(12)),wa(e,r),r.write_shift(4,e.v),r}function z8(t){var e=Ta(t),r=t.read_shift(4);return[e,r,"s"]}function W8(t,e,r){return r==null&&(r=ee(8)),Sa(e,r),r.write_shift(4,e.v),r}function H8(t){var e=pn(t),r=Xo(t);return[e,r,"n"]}function $8(t,e,r){return r==null&&(r=ee(16)),wa(e,r),da(t.v,r),r}function G8(t){var e=Ta(t),r=Xo(t);return[e,r,"n"]}function K8(t,e,r){return r==null&&(r=ee(12)),Sa(e,r),da(t.v,r),r}function q8(t){var e=pn(t),r=pS(t);return[e,r,"n"]}function X8(t,e,r){return r==null&&(r=ee(12)),wa(e,r),mS(t.v,r),r}function Q8(t){var e=Ta(t),r=pS(t);return[e,r,"n"]}function Y8(t,e,r){return r==null&&(r=ee(8)),Sa(e,r),mS(t.v,r),r}function J8(t){var e=pn(t),r=Wg(t);return[e,r,"is"]}function Z8(t){var e=pn(t),r=_r(t);return[e,r,"str"]}function eb(t,e,r){return r==null&&(r=ee(12+4*t.v.length)),wa(e,r),Ht(t.v,r),r.length>r.l?r.slice(0,r.l):r}function tb(t){var e=Ta(t),r=_r(t);return[e,r,"str"]}function rb(t,e,r){return r==null&&(r=ee(8+4*t.v.length)),Sa(e,r),Ht(t.v,r),r.length>r.l?r.slice(0,r.l):r}function nb(t,e,r){var n=t.l+e,i=pn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=h0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}function ib(t,e,r){var n=t.l+e,i=pn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=h0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}function sb(t,e,r){var n=t.l+e,i=pn(t);i.r=r["!row"];var s=Xo(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=h0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}function ab(t,e,r){var n=t.l+e,i=pn(t);i.r=r["!row"];var s=_r(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=h0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}var ob=Aa,lb=qo;function ub(t,e){return e==null&&(e=ee(4)),e.write_shift(4,t),e}function cb(t,e){var r=t.l+e,n=Aa(t),i=Hg(t),s=_r(t),a=_r(t),o=_r(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function hb(t,e){var r=ee(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));qo({s:Wt(t[0]),e:Wt(t[0])},r),$g("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Ht(i||"",r),Ht(t[1].Tooltip||"",r),Ht("",r),r.slice(0,r.l)}function fb(){}function db(t,e,r){var n=t.l+e,i=gS(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=t8(t,n-t.l,r);a[1]=o}else t.l=n;return a}function pb(t,e,r){var n=t.l+e,i=Aa(t),s=[i];if(r.cellFormula){var a=n8(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function mb(t,e,r){r==null&&(r=ee(18));var n=f0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var ZS=["left","right","top","bottom","header","footer"];function gb(t){var e={};return ZS.forEach(function(r){e[r]=Xo(t)}),e}function vb(t,e){return e==null&&(e=ee(6*8)),YS(t),ZS.forEach(function(r){da(t[r],e)}),e}function _b(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function yb(t,e,r){r==null&&(r=ee(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function xb(t){var e=ee(24);return e.write_shift(4,4),e.write_shift(4,1),qo(t,e),e}function Eb(t,e){return e==null&&(e=ee(16*4+2)),e.write_shift(2,t.password?FS(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function wb(){}function Tb(){}function Sb(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Vr(e),e.z=e.z||Tt[14],e.v=br(Ar(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=Ns(i.cellXfs,e,i),e.l&&s["!links"].push([tt(l),e.l]),e.c&&s["!comments"].push([tt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Yg(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?ne(t,18,W8(e,l)):ne(t,7,j8(e,l))):(l.t="str",a?ne(t,17,rb(e,l)):ne(t,6,eb(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ne(t,13,Y8(e,l)):ne(t,2,X8(e,l)):a?ne(t,16,K8(e,l)):ne(t,5,$8(e,l)),!0;case"b":return l.t="b",a?ne(t,15,L8(e,l)):ne(t,4,D8(e,l)),!0;case"e":return l.t="e",a?ne(t,14,B8(e,l)):ne(t,3,b8(e,l)),!0}return a?ne(t,12,N8(e,l)):ne(t,1,k8(e,l)),!0}function Ab(t,e,r,n){var i=ht(e["!ref"]||"A1"),s,a="",o=[];ne(t,145);var l=Array.isArray(e),c=i.e.r;e["!rows"]&&(c=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=c;++h){a=sr(h),w8(t,e,i,h);var f=!1;if(h<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){h===i.s.r&&(o[d]=vr(d)),s=o[d]+a;var m=l?(e[h]||[])[d]:e[s];if(!m){f=!1;continue}f=Sb(t,m,h,d,n,e,f)}}ne(t,146)}function Ib(t,e){!e||!e["!merges"]||(ne(t,177,ub(e["!merges"].length)),e["!merges"].forEach(function(r){ne(t,176,lb(r))}),ne(t,178))}function Cb(t,e){!e||!e["!cols"]||(ne(t,390),e["!cols"].forEach(function(r,n){r&&ne(t,60,mb(n,r))}),ne(t,391))}function Rb(t,e){!e||!e["!ref"]||(ne(t,648),ne(t,649,xb(ht(e["!ref"]))),ne(t,650))}function kb(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Ye(r,-1,n[1].Target.replace(/#.*$/,""),$e.HLINK);ne(t,494,hb(n,i))}}),delete e["!links"]}function Pb(t,e,r,n){if(e["!comments"].length>0){var i=Ye(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",$e.VML);ne(t,551,$g("rId"+i)),e["!legacy"]=i}}function Nb(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Ot(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=en(s);o.s.r==o.e.r&&(o.e.r=en(e["!ref"]).e.r,s=Ot(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ne(t,161,qo(ht(s))),ne(t,162)}}function Ob(t,e,r){ne(t,133),ne(t,137,yb(e,r)),ne(t,138),ne(t,134)}function Db(t,e){e["!protect"]&&ne(t,535,Eb(e["!protect"]))}function Fb(t,e,r,n){var i=Mr(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=ht(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ne(i,129),(r.vbaraw||a["!outline"])&&ne(i,147,C8(o,a["!outline"])),ne(i,148,S8(l)),Ob(i,a,r.Workbook),Cb(i,a),Ab(i,a,t,e),Db(i,a),Nb(i,a,r,t),Ib(i,a),kb(i,a,n),a["!margins"]&&ne(i,476,vb(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Rb(i,a),Pb(i,a,t,n),ne(i,130),i.end()}function Lb(t,e){t.l+=10;var r=_r(t);return{name:r}}var Mb=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function bb(t){return!t.Workbook||!t.Workbook.WBProps?"false":pL(t.Workbook.WBProps.date1904)?"true":"false"}var Vb="][*?/\\".split("");function eA(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vb.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Bb(t,e,r){t.forEach(function(n,i){eA(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Ub(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Bb(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)l8(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function tA(t){var e=[Dt];e[e.length]=le("workbook",null,{xmlns:Go[0],"xmlns:r":zt.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(Mb.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=le("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Je(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=le("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=le("definedName",Je(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function jb(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Vp(t),r.name=_r(t),r}function zb(t,e){return e||(e=ee(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),$g(t.strRelID,e),Ht(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Wb(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?_r(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Hb(t,e){e||(e=ee(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),dS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function $b(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=bL(t),a=r8(t,0,r),o=Hg(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function Gb(t,e){ne(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ne(t,156,zb(i))}ne(t,144)}function Kb(t,e){e||(e=ee(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ht("SheetJS",e),Ht(lf.version,e),Ht(lf.version,e),Ht("7262",e),e.length>e.l?e.slice(0,e.l):e}function qb(t,e){e||(e=ee(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function Xb(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(ne(t,135),ne(t,158,qb(i)),ne(t,136))}}function Qb(t,e){var r=Mr();return ne(r,131),ne(r,128,Kb()),ne(r,153,Hb(t.Workbook&&t.Workbook.WBProps||null)),Xb(r,t),Gb(r,t),ne(r,132),r.end()}function Yb(t,e,r){return(e.slice(-4)===".bin"?Qb:tA)(t)}function Jb(t,e,r,n,i){return(e.slice(-4)===".bin"?Fb:JS)(t,r,n,i)}function Zb(t,e,r){return(e.slice(-4)===".bin"?vM:bS)(t,r)}function e9(t,e,r){return(e.slice(-4)===".bin"?H6:DS)(t,r)}function t9(t,e,r){return(e.slice(-4)===".bin"?DM:zS)(t)}function r9(t){return(t.slice(-4)===".bin"?AM:US)()}function n9(t,e){var r=[];return t.Props&&r.push(ZL(t.Props,e)),t.Custprops&&r.push(e6(t.Props,t.Custprops)),r.join("")}function i9(){return""}function s9(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(le("NumberFormat",null,{"ss:Format":Je(Tt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(le("Style",s.join(""),a))}),le("Styles",r.join(""))}function rA(t){return le("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+Xg(t.Ref,{r:0,c:0})})}function a9(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(rA(i)))}return le("Names",r.join(""))}function o9(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(rA(o)))}return s.join("")}function l9(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(le("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(le("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(le("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(le("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(rr("ProtectContents","True")),t["!protect"].objects&&i.push(rr("ProtectObjects","True")),t["!protect"].scenarios&&i.push(rr("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(rr("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(rr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":le("WorksheetOptions",i.join(""),{xmlns:Gr.x})}function u9(t){return t.map(function(e){var r=dL(e.t||""),n=le("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return le("Comment",n,{"ss:Author":e.a})}).join("")}function c9(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Je(Xg(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Wt(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Je(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Je(t.l.Tooltip))),r["!merges"])for(var c=r["!merges"],h=0;h!=c.length;++h)c[h].s.c!=a.c||c[h].s.r!=a.r||(c[h].e.c>c[h].s.c&&(o["ss:MergeAcross"]=c[h].e.c-c[h].s.c),c[h].e.r>c[h].s.r&&(o["ss:MergeDown"]=c[h].e.r-c[h].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=Zu[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Tt[14]);break;case"s":f="String",d=fL(t.v||"");break}var m=Ns(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var _=t.v!=null?d:"",v=t.t=="z"?"":'<Data ss:Type="'+f+'">'+_+"</Data>";return(t.c||[]).length>0&&(v+=u9(t.c)),le("Cell",v,o)}function h9(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=MS(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function f9(t,e,r,n){if(!t["!ref"])return"";var i=ht(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(g,w){Kg(g);var x=!!g.width,E=f0(w,g),M={"ss:Index":w+1};x&&(M["ss:Width"]=vf(E.width)),g.hidden&&(M["ss:Hidden"]="1"),o.push(le("Column",null,M))});for(var l=Array.isArray(t),c=i.s.r;c<=i.e.r;++c){for(var h=[h9(c,(t["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>c)&&!(s[a].e.c<f)&&!(s[a].e.r<c)){(s[a].s.c!=f||s[a].s.r!=c)&&(d=!0);break}if(!d){var m={r:c,c:f},_=tt(m),v=l?(t[c]||[])[f]:t[_];h.push(c9(v,_,t,e,r,n,m))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function d9(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?o9(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?f9(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(l9(s,e,t,r)),n.join("")}function p9(t,e){e||(e={}),t.SSF||(t.SSF=Vr(Tt)),t.SSF&&(o0(),a0(t.SSF),e.revssf=l0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Ns(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(n9(t,e)),r.push(i9()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(le("Worksheet",d9(n,e,t),{"ss:Name":Je(t.SheetNames[n])}));return r[2]=s9(t,e),r[3]=a9(t),Dt+le("Workbook",r.join(""),{xmlns:Gr.ss,"xmlns:o":Gr.o,"xmlns:x":Gr.x,"xmlns:ss":Gr.ss,"xmlns:dt":Gr.dt,"xmlns:html":Gr.html})}var dd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function m9(t,e){var r=[],n=[],i=[],s=0,a,o=wy(Ly,"n"),l=wy(My,"n");if(t.Props)for(a=lr(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=lr(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var c=[];for(s=0;s<i.length;++s)IS.indexOf(i[s][0])>-1||TS.indexOf(i[s][0])>-1||i[s][1]!=null&&c.push(i[s]);n.length&&rt.utils.cfb_add(e,"/SummaryInformation",jy(n,dd.SI,l,My)),(r.length||c.length)&&rt.utils.cfb_add(e,"/DocumentSummaryInformation",jy(r,dd.DSI,o,Ly,c.length?c:null,dd.UDI))}function g9(t,e){var r=e||{},n=rt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return rt.utils.cfb_add(n,i,nA(t,r)),r.biff==8&&(t.Props||t.Custprops)&&m9(t,n),r.biff==8&&t.vbaraw&&FM(n,rt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var v9={0:{f:x8},1:{f:R8},2:{f:q8},3:{f:M8},4:{f:O8},5:{f:H8},6:{f:Z8},7:{f:U8},8:{f:ab},9:{f:sb},10:{f:nb},11:{f:ib},12:{f:P8},13:{f:Q8},14:{f:V8},15:{f:F8},16:{f:G8},17:{f:tb},18:{f:z8},19:{f:Wg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$b},40:{},42:{},43:{f:Z6},44:{f:Y6},45:{f:rM},46:{f:iM},47:{f:nM},48:{},49:{f:PL},50:{},51:{f:xM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:N6},62:{f:J8},63:{f:IM},64:{f:wb},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:_b},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:I8},148:{f:T8,p:16},151:{f:fb},152:{},153:{f:Wb},154:{},155:{},156:{f:jb},157:{},158:{},159:{T:1,f:j6},160:{T:-1},161:{T:1,f:Aa},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ob},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_M},336:{T:-1},337:{f:TM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Vp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:A6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:db},427:{f:pb},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gb},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:A8},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:cb},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Vp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NM},633:{T:1},634:{T:-1},635:{T:1,f:kM},636:{T:-1},637:{f:FL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Lb},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Tb},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ue(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Ug(r)&&t.push(r)}}function _9(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return ue(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;var h=t.next(4);for(h.write_shift(2,s),h.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c;l<i;){for(h=t.next(4),h.write_shift(2,60),c=0;c+(a[o]||8224)<=8224;)c+=a[o]||8224,o++;h.write_shift(2,c),t.push(r.slice(l,l+c)),l+=c}}}function tc(t,e,r){return t||(t=ee(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function y9(t,e,r,n){var i=ee(9);return tc(i,t,e),RS(r,n||"b",i),i}function x9(t,e,r){var n=ee(8+2*r.length);return tc(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function E9(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?br(Ar(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ue(t,2,L6(r,n,i)):ue(t,3,F6(r,n,i));return;case"b":case"e":ue(t,5,y9(r,n,e.v,e.t));return;case"s":case"str":ue(t,4,x9(r,n,(e.v||"").slice(0,255)));return}ue(t,1,tc(null,r,n))}function w9(t,e,r,n){var i=Array.isArray(e),s=ht(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Ot(s)}for(var c=s.s.r;c<=s.e.r;++c){o=sr(c);for(var h=s.s.c;h<=s.e.c;++h){c===s.s.r&&(l[h]=vr(h)),a=l[h]+o;var f=i?(e[c]||[])[h]:e[a];f&&E9(t,f,c,h)}}}function T9(t,e){for(var r=e||{},n=Mr(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ue(n,r.biff==4?1033:r.biff==3?521:9,Gg(t,16,r)),w9(n,t.Sheets[t.SheetNames[i]],i,r),ue(n,10),n.end()}function S9(t,e,r){ue(t,49,v6({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function A9(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ue(t,1054,x6(i,e[i],r))})}function I9(t,e){var r=ee(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ue(t,2151,r),r=ee(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),NS(ht(e["!ref"]||"A1"),r),r.write_shift(4,4),ue(t,2152,r)}function C9(t,e){for(var r=0;r<16;++r)ue(t,224,Wy({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ue(t,224,Wy(n,0,e))})}function R9(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ue(t,440,R6(n)),n[1].Tooltip&&ue(t,2048,k6(n))}delete e["!links"]}function k9(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&ue(t,125,O6(f0(i,n),i))})}}function P9(t,e,r,n,i){var s=16+Ns(i.cellXfs,e,i);if(e.v==null&&!e.bf){ue(t,513,pa(r,n,s));return}if(e.bf)ue(t,6,e8(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?br(Ar(e.v)):e.v;ue(t,515,S6(r,n,a,s));break;case"b":case"e":ue(t,517,T6(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Yg(i.Strings,e.v,i.revStrings);ue(t,253,_6(r,n,o,s))}else ue(t,516,y6(r,n,(e.v||"").slice(0,255),s,i));break;default:ue(t,513,pa(r,n,s))}}function N9(t,e,r){var n=Mr(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),c=e.biff==8,h,f="",d=[],m=ht(s["!ref"]||"A1"),_=c?65536:16384;if(m.e.c>255||m.e.r>=_){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,_-1)}ue(n,2057,Gg(r,16,e)),ue(n,13,on(1)),ue(n,12,on(100)),ue(n,15,Tr(!0)),ue(n,17,Tr(!1)),ue(n,16,da(.001)),ue(n,95,Tr(!0)),ue(n,42,Tr(!1)),ue(n,43,Tr(!1)),ue(n,130,on(1)),ue(n,128,w6()),ue(n,131,Tr(!1)),ue(n,132,Tr(!1)),c&&k9(n,s["!cols"]),ue(n,512,E6(m,e)),c&&(s["!links"]=[]);for(var v=m.s.r;v<=m.e.r;++v){f=sr(v);for(var g=m.s.c;g<=m.e.c;++g){v===m.s.r&&(d[g]=vr(g)),h=d[g]+f;var w=l?(s[v]||[])[g]:s[h];w&&(P9(n,w,v,g,e),c&&w.l&&s["!links"].push([h,w.l]))}}var x=o.CodeName||o.name||i;return c&&ue(n,574,g6((a.Views||[])[0])),c&&(s["!merges"]||[]).length&&ue(n,229,C6(s["!merges"])),c&&R9(n,s),ue(n,442,PS(x)),c&&I9(n,s),ue(n,10),n.end()}function O9(t,e,r){var n=Mr(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ue(n,2057,Gg(t,5,r)),r.bookType=="xla"&&ue(n,135),ue(n,225,o?on(1200):null),ue(n,193,n6(2)),l&&ue(n,191),l&&ue(n,192),ue(n,226),ue(n,92,f6("SheetJS",r)),ue(n,66,on(o?1200:1252)),o&&ue(n,353,on(0)),o&&ue(n,448),ue(n,317,D6(t.SheetNames.length)),o&&t.vbaraw&&ue(n,211),o&&t.vbaraw){var c=a.CodeName||"ThisWorkbook";ue(n,442,PS(c))}ue(n,156,on(17)),ue(n,25,Tr(!1)),ue(n,18,Tr(!1)),ue(n,19,on(0)),o&&ue(n,431,Tr(!1)),o&&ue(n,444,on(0)),ue(n,61,m6()),ue(n,64,Tr(!1)),ue(n,141,on(0)),ue(n,34,Tr(bb(t)=="true")),ue(n,14,Tr(!0)),o&&ue(n,439,Tr(!1)),ue(n,218,on(0)),S9(n,t,r),A9(n,t.SSF,r),C9(n,r),o&&ue(n,352,Tr(!1));var h=n.end(),f=Mr();o&&ue(f,140,P6()),o&&r.Strings&&_9(f,252,p6(r.Strings)),ue(f,10);var d=f.end(),m=Mr(),_=0,v=0;for(v=0;v<t.SheetNames.length;++v)_+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var g=h.length+_+d.length;for(v=0;v<t.SheetNames.length;++v){var w=s[v]||{};ue(m,133,d6({pos:g,hs:w.Hidden||0,dt:0,name:t.SheetNames[v]},r)),g+=e[v].length}var x=m.end();if(_!=x.length)throw new Error("BS8 "+_+" != "+x.length);var E=[];return h.length&&E.push(h),x.length&&E.push(x),d.length&&E.push(d),tr(E)}function D9(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Vr(Tt)),t&&t.SSF&&(o0(),a0(t.SSF),r.revssf=l0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Jg(r),r.cellXfs=[],Ns(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=N9(i,r,t);return n.unshift(O9(t,n,r)),tr(n)}function nA(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=en(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return D9(t,e);case 4:case 3:case 2:return T9(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function F9(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>a)&&!(i[c].e.r<r||i[c].e.c<a)){if(i[c].s.r<r||i[c].s.c<a){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var h=tt({r,c:a}),f=n.dense?(t[r]||[])[a]:t[h],d=f&&f.v!=null&&(f.h||hL(f.w||(Si(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),m.id=(n.id||"sjs")+"-"+h,s.push(le("td",d,m))}}var _="<tr>";return _+s.join("")+"</tr>"}var L9='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',M9="</body></html>";function b9(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iA(t,e){var r=e||{},n=r.header!=null?r.header:L9,i=r.footer!=null?r.footer:M9,s=[n],a=en(t["!ref"]);r.dense=Array.isArray(t),s.push(b9(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(F9(t,a,o,r));return s.push("</table>"+i),s.join("")}function sA(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Wt(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=en(t["!ref"]);c.s.r=Math.min(c.s.r,h.s.r),c.s.c=Math.min(c.s.c,h.s.c),c.e.r=Math.max(c.e.r,h.e.r),c.e.c=Math.max(c.e.c,h.e.c),i==-1&&(c.e.r=i=h.e.r+1)}var f=[],d=0,m=t["!rows"]||(t["!rows"]=[]),_=0,v=0,g=0,w=0,x=0,E=0;for(t["!cols"]||(t["!cols"]=[]);_<o.length&&v<l;++_){var M=o[_];if(Qy(M)){if(n.display)continue;m[v]={hidden:!0}}var z=M.children;for(g=w=0;g<z.length;++g){var q=z[g];if(!(n.display&&Qy(q))){var T=q.hasAttribute("data-v")?q.getAttribute("data-v"):q.hasAttribute("v")?q.getAttribute("v"):mL(q.innerHTML),S=q.getAttribute("data-z")||q.getAttribute("z");for(d=0;d<f.length;++d){var A=f[d];A.s.c==w+s&&A.s.r<v+i&&v+i<=A.e.r&&(w=A.e.c+1-s,d=-1)}E=+q.getAttribute("colspan")||1,((x=+q.getAttribute("rowspan")||1)>1||E>1)&&f.push({s:{r:v+i,c:w+s},e:{r:v+i+(x||1)-1,c:w+s+(E||1)-1}});var C={t:"s",v:T},D=q.getAttribute("data-t")||q.getAttribute("t")||"";T!=null&&(T.length==0?C.t=D||"z":n.raw||T.trim().length==0||D=="s"||(T==="TRUE"?C={t:"b",v:!0}:T==="FALSE"?C={t:"b",v:!1}:isNaN(di(T))?isNaN(Iu(T).getDate())||(C={t:"d",v:Ar(T)},n.cellDates||(C={t:"n",v:br(C.v)}),C.z=n.dateNF||Tt[14]):C={t:"n",v:di(T)})),C.z===void 0&&S!=null&&(C.z=S);var V="",N=q.getElementsByTagName("A");if(N&&N.length)for(var Oe=0;Oe<N.length&&!(N[Oe].hasAttribute("href")&&(V=N[Oe].getAttribute("href"),V.charAt(0)!="#"));++Oe);V&&V.charAt(0)!="#"&&(C.l={Target:V}),n.dense?(t[v+i]||(t[v+i]=[]),t[v+i][w+s]=C):t[tt({c:w+s,r:v+i})]=C,c.e.c<w+s&&(c.e.c=w+s),w+=E}}++v}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+i),t["!ref"]=Ot(c),v>=l&&(t["!fullref"]=Ot((c.e.r=o.length-_+v-1+i,c))),t}function aA(t,e){var r=e||{},n=r.dense?[]:{};return sA(n,t,e)}function V9(t,e){return Ea(aA(t,e),e)}function Qy(t){var e="",r=B9(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function B9(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var U9=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Ru({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Dt+e}}(),Yy=function(){var t=function(s){return Je(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Je(a.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,h=0,f=en(s["!ref"]||"A1"),d=s["!merges"]||[],m=0,_=Array.isArray(s);if(s["!cols"])for(h=0;h<=f.e.c;++h)l.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var v="",g=s["!rows"]||[];for(c=0;c<f.s.r;++c)v=g[c]?' table:style-name="ro'+g[c].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;c<=f.e.r;++c){for(v=g[c]?' table:style-name="ro'+g[c].ods+'"':"",l.push("        <table:table-row"+v+`>
`),h=0;h<f.s.c;++h)l.push(e);for(;h<=f.e.c;++h){var w=!1,x={},E="";for(m=0;m!=d.length;++m)if(!(d[m].s.c>h)&&!(d[m].s.r>c)&&!(d[m].e.c<h)&&!(d[m].e.r<c)){(d[m].s.c!=h||d[m].s.r!=c)&&(w=!0),x["table:number-columns-spanned"]=d[m].e.c-d[m].s.c+1,x["table:number-rows-spanned"]=d[m].e.r-d[m].s.r+1;break}if(w){l.push(r);continue}var M=tt({r:c,c:h}),z=_?(s[c]||[])[h]:s[M];if(z&&z.f&&(x["table:formula"]=Je(a8(z.f)),z.F&&z.F.slice(0,M.length)==M)){var q=en(z.F);x["table:number-matrix-columns-spanned"]=q.e.c-q.s.c+1,x["table:number-matrix-rows-spanned"]=q.e.r-q.s.r+1}if(!z){l.push(e);continue}switch(z.t){case"b":E=z.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=z.v?"true":"false";break;case"n":E=z.w||String(z.v||0),x["office:value-type"]="float",x["office:value"]=z.v||0;break;case"s":case"str":E=z.v==null?"":z.v,x["office:value-type"]="string";break;case"d":E=z.w||Ar(z.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Ar(z.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var T=t(E);if(z.l&&z.l.Target){var S=z.l.Target;S=S.charAt(0)=="#"?"#"+o8(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),T=le("text:a",T,{"xlink:href":S.replace(/&/g,"&amp;")})}l.push("          "+le("table:table-cell",le("text:p",T,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var h=0;h<c["!cols"].length;++h)if(c["!cols"][h]){var f=c["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Kg(f),f.ods=o;var d=c["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(c){return a.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var h=0;h<c["!rows"].length;++h)if(c["!rows"][h]){c["!rows"][h].ods=l;var f=c["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Dt],c=Ru({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Ru({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+h+`>
`),l.push(ES().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(n(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function oA(t,e){if(e.bookType=="fods")return Yy(t,e);var r=Mg(),n="",i=[],s=[];return n="mimetype",De(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",De(r,n,Yy(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",De(r,n,U9(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",De(r,n,Dt+ES()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",De(r,n,JL(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",De(r,n,QL(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function xf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function j9(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Tn(Cu(t))}function z9(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function ys(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function W9(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function ku(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Qe(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function mo(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Mt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=ku(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=ku(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:s};e[i]==null?e[i]=[c]:e[i].push(c)}return e}function Qt(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Qe(n*8+i.type)),i.type==2&&e.push(Qe(i.data.length)),e.push(i.data))})}),ys(e)}function _n(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=ku(t,n),s=Mt(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:mo(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Mt(o.data),c=mo(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+c)}),n[0]+=c}),(e=s[3])!=null&&e[0]&&(a.merge=mo(s[3][0].data)>>>0>0),r.push(a)}return r}function La(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Qe(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Qe(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Qe(a.data.length)}],n[2].push({data:Qt(a.meta),type:2})});var s=Qt(n);e.push(Qe(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),ys(e)}function H9(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=ku(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,c=0;if(s==1?(c=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(c=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[ys(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var h=ys(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function yn(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(H9(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return ys(e)}function Ma(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Qe(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return ys(e)}function pd(t,e){var r=new Uint8Array(32),n=xf(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,W9(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function md(t,e){var r=new Uint8Array(32),n=xf(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Mi(t){var e=Mt(t);return ku(e[1][0].data)}function $9(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&mo(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=xf(t[7][0].data),h=0,f=[],d=xf(t[4][0].data),m=0,_=[],v=0;v<e.length;++v){if(e[v]==null){c.setUint16(v*2,65535,!0),d.setUint16(v*2,65535);continue}c.setUint16(v*2,h,!0),d.setUint16(v*2,m,!0);var g,w;switch(typeof e[v]){case"string":g=pd({t:"s",v:e[v]},r),w=md({t:"s",v:e[v]},r);break;case"number":g=pd({t:"n",v:e[v]},r),w=md({t:"n",v:e[v]},r);break;case"boolean":g=pd({t:"b",v:e[v]},r),w=md({t:"b",v:e[v]},r);break;default:throw new Error("Unsupported value "+e[v])}f.push(g),h+=g.length,_.push(w),m+=w.length,++l}for(t[2][0].data=Qe(l);v<t[7][0].data.length/2;++v)c.setUint16(v*2,65535,!0),d.setUint16(v*2,65535,!0);return t[6][0].data=ys(f),t[3][0].data=ys(_),l}function G9(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=en(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Ot(n)));var s=Ef(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(j){typeof j=="string"&&a.push(j)})});var o={},l=[],c=rt.read(e.numbers,{type:"base64"});c.FileIndex.map(function(H,j){return[H,c.FullPaths[j]]}).forEach(function(H){var j=H[0],U=H[1];if(j.type==2&&j.name.match(/\.iwa/)){var te=j.content,ge=yn(te),Te=_n(ge);Te.forEach(function(Ee){l.push(Ee.id),o[Ee.id]={deps:[],location:U,type:mo(Ee.messages[0].meta[1][0].data)}})}}),l.sort(function(H,j){return H-j});var h=l.filter(function(H){return H>1}).map(function(H){return[H,Qe(H)]});c.FileIndex.map(function(H,j){return[H,c.FullPaths[j]]}).forEach(function(H){var j=H[0];if(H[1],!!j.name.match(/\.iwa/)){var U=_n(yn(j.content));U.forEach(function(te){te.messages.forEach(function(ge){h.forEach(function(Te){te.messages.some(function(Ee){return mo(Ee.meta[1][0].data)!=11006&&z9(Ee.data,Te[1])})&&o[Te[0]].deps.push(te.id)})})})}});for(var f=rt.find(c,o[1].location),d=_n(yn(f.content)),m,_=0;_<d.length;++_){var v=d[_];v.id==1&&(m=v)}var g=Mi(Mt(m.messages[0].data)[1][0].data);for(f=rt.find(c,o[g].location),d=_n(yn(f.content)),_=0;_<d.length;++_)v=d[_],v.id==g&&(m=v);for(g=Mi(Mt(m.messages[0].data)[2][0].data),f=rt.find(c,o[g].location),d=_n(yn(f.content)),_=0;_<d.length;++_)v=d[_],v.id==g&&(m=v);for(g=Mi(Mt(m.messages[0].data)[2][0].data),f=rt.find(c,o[g].location),d=_n(yn(f.content)),_=0;_<d.length;++_)v=d[_],v.id==g&&(m=v);var w=Mt(m.messages[0].data);{w[6][0].data=Qe(n.e.r+1),w[7][0].data=Qe(n.e.c+1);var x=Mi(w[46][0].data),E=rt.find(c,o[x].location),M=_n(yn(E.content));{for(var z=0;z<M.length&&M[z].id!=x;++z);if(M[z].id!=x)throw"Bad ColumnRowUIDMapArchive";var q=Mt(M[z].messages[0].data);q[1]=[],q[2]=[],q[3]=[];for(var T=0;T<=n.e.c;++T){var S=[];S[1]=S[2]=[{type:0,data:Qe(T+420690)}],q[1].push({type:2,data:Qt(S)}),q[2].push({type:0,data:Qe(T)}),q[3].push({type:0,data:Qe(T)})}q[4]=[],q[5]=[],q[6]=[];for(var A=0;A<=n.e.r;++A)S=[],S[1]=S[2]=[{type:0,data:Qe(A+726270)}],q[4].push({type:2,data:Qt(S)}),q[5].push({type:0,data:Qe(A)}),q[6].push({type:0,data:Qe(A)});M[z].messages[0].data=Qt(q)}E.content=Ma(La(M)),E.size=E.content.length,delete w[46];var C=Mt(w[4][0].data);{C[7][0].data=Qe(n.e.r+1);var D=Mt(C[1][0].data),V=Mi(D[2][0].data);E=rt.find(c,o[V].location),M=_n(yn(E.content));{if(M[0].id!=V)throw"Bad HeaderStorageBucket";var N=Mt(M[0].messages[0].data);for(A=0;A<s.length;++A){var Oe=Mt(N[2][0].data);Oe[1][0].data=Qe(A),Oe[4][0].data=Qe(s[A].length),N[2][A]={type:N[2][0].type,data:Qt(Oe)}}M[0].messages[0].data=Qt(N)}E.content=Ma(La(M)),E.size=E.content.length;var Ie=Mi(C[2][0].data);E=rt.find(c,o[Ie].location),M=_n(yn(E.content));{if(M[0].id!=Ie)throw"Bad HeaderStorageBucket";for(N=Mt(M[0].messages[0].data),T=0;T<=n.e.c;++T)Oe=Mt(N[2][0].data),Oe[1][0].data=Qe(T),Oe[4][0].data=Qe(n.e.r+1),N[2][T]={type:N[2][0].type,data:Qt(Oe)};M[0].messages[0].data=Qt(N)}E.content=Ma(La(M)),E.size=E.content.length;var mt=Mi(C[4][0].data);(function(){for(var H=rt.find(c,o[mt].location),j=_n(yn(H.content)),U,te=0;te<j.length;++te){var ge=j[te];ge.id==mt&&(U=ge)}var Te=Mt(U.messages[0].data);{Te[3]=[];var Ee=[];a.forEach(function(Me,Ft){Ee[1]=[{type:0,data:Qe(Ft)}],Ee[2]=[{type:0,data:Qe(1)}],Ee[3]=[{type:2,data:j9(Me)}],Te[3].push({type:2,data:Qt(Ee)})})}U.messages[0].data=Qt(Te);var de=La(j),We=Ma(de);H.content=We,H.size=H.content.length})();var Ke=Mt(C[3][0].data);{var ce=Ke[1][0];delete Ke[2];var xe=Mt(ce.data);{var Se=Mi(xe[2][0].data);(function(){for(var H=rt.find(c,o[Se].location),j=_n(yn(H.content)),U,te=0;te<j.length;++te){var ge=j[te];ge.id==Se&&(U=ge)}var Te=Mt(U.messages[0].data);{delete Te[6],delete Ke[7];var Ee=new Uint8Array(Te[5][0].data);Te[5]=[];for(var de=0,We=0;We<=n.e.r;++We){var Me=Mt(Ee);de+=$9(Me,s[We],a),Me[1][0].data=Qe(We),Te[5].push({data:Qt(Me),type:2})}Te[1]=[{type:0,data:Qe(n.e.c+1)}],Te[2]=[{type:0,data:Qe(n.e.r+1)}],Te[3]=[{type:0,data:Qe(de)}],Te[4]=[{type:0,data:Qe(n.e.r+1)}]}U.messages[0].data=Qt(Te);var Ft=La(j),Ue=Ma(Ft);H.content=Ue,H.size=H.content.length})()}ce.data=Qt(xe)}C[3][0].data=Qt(Ke)}w[4][0].data=Qt(C)}m.messages[0].data=Qt(w);var Le=La(d),B=Ma(Le);return f.content=B,f.size=f.content.length,c}function K9(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Jg(t){K9([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function q9(t,e){return e.bookType=="ods"?oA(t,e):e.bookType=="numbers"?G9(t,e):e.bookType=="xlsb"?X9(t,e):Q9(t,e)}function X9(t,e){eo=1024,t&&!t.SSF&&(t.SSF=Vr(Tt)),t&&t.SSF&&(o0(),a0(t.SSF),e.revssf=l0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ql?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=WS.indexOf(e.bookType)>-1,i=_S();Jg(e=e||{});var s=Mg(),a="",o=0;if(e.cellXfs=[],Ns(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",De(s,a,wS(t.Props,e)),i.coreprops.push(a),Ye(e.rels,2,a,$e.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,De(s,a,SS(t.Props)),i.extprops.push(a),Ye(e.rels,3,a,$e.EXT_PROPS),t.Custprops!==t.Props&&lr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",De(s,a,AS(t.Custprops)),i.custprops.push(a),Ye(e.rels,4,a,$e.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,De(s,a,Jb(o-1,a,e,t,h)),i.sheets.push(a),Ye(e.wbrels,-1,"worksheets/sheet"+o+"."+r,$e.WS[0])}if(f){var m=f["!comments"],_=!1,v="";m&&m.length>0&&(v="xl/comments"+o+"."+r,De(s,v,t9(m,v)),i.comments.push(v),Ye(h,-1,"../comments"+o+"."+r,$e.CMNT),_=!0),f["!legacy"]&&_&&De(s,"xl/drawings/vmlDrawing"+o+".vml",jS(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&De(s,xS(a),fo(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,De(s,a,e9(e.Strings,a,e)),i.strs.push(a),Ye(e.wbrels,-1,"sharedStrings."+r,$e.SST)),a="xl/workbook."+r,De(s,a,Yb(t,a)),i.workbooks.push(a),Ye(e.rels,1,a,$e.WB),a="xl/theme/theme1.xml",De(s,a,BS(t.Themes,e)),i.themes.push(a),Ye(e.wbrels,-1,"theme/theme1.xml",$e.THEME),a="xl/styles."+r,De(s,a,Zb(t,a,e)),i.styles.push(a),Ye(e.wbrels,-1,"styles."+r,$e.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",De(s,a,t.vbaraw),i.vba.push(a),Ye(e.wbrels,-1,"vbaProject.bin",$e.VBA)),a="xl/metadata."+r,De(s,a,r9(a)),i.metadata.push(a),Ye(e.wbrels,-1,"metadata."+r,$e.XLMETA),De(s,"[Content_Types].xml",yS(i,e)),De(s,"_rels/.rels",fo(e.rels)),De(s,"xl/_rels/workbook."+r+".rels",fo(e.wbrels)),delete e.revssf,delete e.ssf,s}function Q9(t,e){eo=1024,t&&!t.SSF&&(t.SSF=Vr(Tt)),t&&t.SSF&&(o0(),a0(t.SSF),e.revssf=l0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,ql?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=WS.indexOf(e.bookType)>-1,i=_S();Jg(e=e||{});var s=Mg(),a="",o=0;if(e.cellXfs=[],Ns(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",De(s,a,wS(t.Props,e)),i.coreprops.push(a),Ye(e.rels,2,a,$e.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],c=0;c<t.SheetNames.length;++c)(t.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(t.SheetNames[c]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,De(s,a,SS(t.Props)),i.extprops.push(a),Ye(e.rels,3,a,$e.EXT_PROPS),t.Custprops!==t.Props&&lr(t.Custprops||{}).length>0&&(a="docProps/custom.xml",De(s,a,AS(t.Custprops)),i.custprops.push(a),Ye(e.rels,4,a,$e.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],m=(d||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,De(s,a,JS(o-1,e,t,f)),i.sheets.push(a),Ye(e.wbrels,-1,"worksheets/sheet"+o+"."+r,$e.WS[0])}if(d){var _=d["!comments"],v=!1,g="";if(_&&_.length>0){var w=!1;_.forEach(function(x){x[1].forEach(function(E){E.T==!0&&(w=!0)})}),w&&(g="xl/threadedComments/threadedComment"+o+"."+r,De(s,g,CM(_,h,e)),i.threadedcomments.push(g),Ye(f,-1,"../threadedComments/threadedComment"+o+"."+r,$e.TCMNT)),g="xl/comments"+o+"."+r,De(s,g,zS(_)),i.comments.push(g),Ye(f,-1,"../comments"+o+"."+r,$e.CMNT),v=!0}d["!legacy"]&&v&&De(s,"xl/drawings/vmlDrawing"+o+".vml",jS(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&De(s,xS(a),fo(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,De(s,a,DS(e.Strings,e)),i.strs.push(a),Ye(e.wbrels,-1,"sharedStrings."+r,$e.SST)),a="xl/workbook."+r,De(s,a,tA(t)),i.workbooks.push(a),Ye(e.rels,1,a,$e.WB),a="xl/theme/theme1.xml",De(s,a,BS(t.Themes,e)),i.themes.push(a),Ye(e.wbrels,-1,"theme/theme1.xml",$e.THEME),a="xl/styles."+r,De(s,a,bS(t,e)),i.styles.push(a),Ye(e.wbrels,-1,"styles."+r,$e.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",De(s,a,t.vbaraw),i.vba.push(a),Ye(e.wbrels,-1,"vbaProject.bin",$e.VBA)),a="xl/metadata."+r,De(s,a,US()),i.metadata.push(a),Ye(e.wbrels,-1,"metadata."+r,$e.XLMETA),h.length>1&&(a="xl/persons/person.xml",De(s,a,RM(h)),i.people.push(a),Ye(e.wbrels,-1,"persons/person.xml",$e.PEOPLE)),De(s,"[Content_Types].xml",yS(i,e)),De(s,"_rels/.rels",fo(e.rels)),De(s,"xl/_rels/workbook."+r+".rels",fo(e.wbrels)),delete e.revssf,delete e.ssf,s}function Y9(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ti(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function lA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Yu(e.file,rt.write(t,{type:qe?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return rt.write(t,e)}function J9(t,e){var r=Vr(e||{}),n=q9(t,r);return Z9(n,r)}function Z9(t,e){var r={},n=qe?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?rt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(s0(i))}return e.password&&typeof encrypt_agile<"u"?lA(encrypt_agile(i,e.password),e):e.type==="file"?Yu(e.file,i):e.type=="string"?Hl(i):i}function eV(t,e){var r=e||{},n=g9(t,r);return lA(n,r)}function bn(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Au(Cu(n));case"binary":return Cu(n);case"string":return t;case"file":return Yu(e.file,n,"utf8");case"buffer":return qe?Ri(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):bn(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function tV(t,e){switch(e.type){case"base64":return Au(t);case"binary":return t;case"string":return t;case"file":return Yu(e.file,t,"binary");case"buffer":return qe?Ri(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Qc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Au(r):e.type=="string"?Hl(r):r;case"file":return Yu(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function uA(t,e){kF(),Ub(t);var r=Vr(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=uA(t,r);return r.type="array",s0(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return bn(p9(t,r),r);case"slk":case"sylk":return bn(b6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return bn(iA(t.Sheets[t.SheetNames[i]],r),r);case"txt":return tV(cA(t.Sheets[t.SheetNames[i]],r),r);case"csv":return bn(Zg(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return bn(V6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Qc(M6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return bn(B6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return bn(G6.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return bn(OS.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return bn(oA(t,r),r);case"wk1":return Qc(Hy.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Qc(Hy.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Qc(nA(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),eV(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return J9(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function rV(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function nV(t,e,r){var n={};return n.type="file",n.file=e,rV(n),uA(t,n)}function iV(t,e,r,n,i,s,a,o){var l=sr(r),c=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var _=a?t[r][m]:t[n[m]+l];if(_===void 0||_.t===void 0){if(c===void 0)continue;s[m]!=null&&(d[s[m]]=c);continue}var v=_.v;switch(_.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[m]!=null){if(v==null)if(_.t=="e"&&v===null)d[s[m]]=null;else if(c!==void 0)d[s[m]]=c;else if(h&&v===null)d[s[m]]=null;else continue;else d[s[m]]=h&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?v:Si(_,v,o);v!=null&&(f=!1)}}return{row:d,isempty:f}}function Ef(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},h=c.range!=null?c.range:t["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof h){case"string":l=ht(h);break;case"number":l=ht(t["!ref"]),l.s.r=h;break;default:l=h}n>0&&(i=0);var f=sr(l.s.r),d=[],m=[],_=0,v=0,g=Array.isArray(t),w=l.s.r,x=0,E={};g&&!t[w]&&(t[w]=[]);var M=c.skipHidden&&t["!cols"]||[],z=c.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(M[x]||{}).hidden)switch(d[x]=vr(x),r=g?t[w][x]:t[d[x]+f],n){case 1:s[x]=x-l.s.c;break;case 2:s[x]=d[x];break;case 3:s[x]=c.header[x-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Si(r,null,c),v=E[a]||0,!v)E[a]=1;else{do o=a+"_"+v++;while(E[o]);E[a]=v,E[o]=1}s[x]=o}for(w=l.s.r+i;w<=l.e.r;++w)if(!(z[w]||{}).hidden){var q=iV(t,l,w,d,n,s,g,c);(q.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[_++]=q.row)}return m.length=_,m}var Jy=/"/g;function sV(t,e,r,n,i,s,a,o){for(var l=!0,c=[],h="",f=sr(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var m=o.dense?(t[r]||[])[d]:t[n[d]+f];if(m==null)h="";else if(m.v!=null){l=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:Si(m,null,o));for(var _=0,v=0;_!==h.length;++_)if((v=h.charCodeAt(_))===i||v===s||v===34||o.forceQuotes){h='"'+h.replace(Jy,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(l=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(Jy,'""')+'"')):h="";c.push(h)}return o.blankrows===!1&&l?null:c.join(a)}function Zg(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ht(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),h="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(d[_]||{}).hidden||(f[_]=vr(_));for(var v=0,g=i.s.r;g<=i.e.r;++g)(m[g]||{}).hidden||(h=sV(t,i,g,f,a,l,s,n),h!=null&&(n.strip&&(h=h.replace(c,"")),(h||n.blankrows!==!1)&&r.push((v++?o:"")+h)));return delete n.dense,r.join("")}function cA(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Zg(t,e);return r}function aV(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ht(t["!ref"]),s="",a=[],o,l=[],c=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=vr(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=sr(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=c?(t[h]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function hA(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Wt(n.origin):n.origin;a=l.r,o=l.c}var c,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=ht(s["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),a==-1&&(a=f.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var d=n.header||[],m=0;e.forEach(function(v,g){lr(v).forEach(function(w){(m=d.indexOf(w))==-1&&(d[m=d.length]=w);var x=v[w],E="z",M="",z=tt({c:o+m,r:a+g+i});c=Pu(s,z),x&&typeof x=="object"&&!(x instanceof Date)?s[z]=x:(typeof x=="number"?E="n":typeof x=="boolean"?E="b":typeof x=="string"?E="s":x instanceof Date?(E="d",n.cellDates||(E="n",x=br(x)),M=n.dateNF||Tt[14]):x===null&&n.nullError&&(E="e",x=0),c?(c.t=E,c.v=x,delete c.w,delete c.R,M&&(c.z=M)):s[z]=c={t:E,v:x},M&&(c.z=M))})}),h.e.c=Math.max(h.e.c,o+d.length-1);var _=sr(a);if(i)for(m=0;m<d.length;++m)s[vr(m+o)+_]={t:"s",v:d[m]};return s["!ref"]=Ot(h),s}function oV(t,e){return hA(null,t,e)}function Pu(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Wt(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Pu(t,tt(e)):Pu(t,tt({r:e,c:r||0}))}function lV(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function uV(){return{SheetNames:[],Sheets:{}}}function cV(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(eA(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function hV(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=lV(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function fV(t,e){return t.z=e,t}function fA(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function dV(t,e,r){return fA(t,"#"+e,r)}function pV(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function mV(t,e,r,n){for(var i=typeof e!="string"?e:ht(e),s=typeof e=="string"?e:Ot(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Pu(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var gd={encode_col:vr,encode_row:sr,encode_cell:tt,encode_range:Ot,decode_col:zg,decode_row:jg,split_cell:kL,decode_cell:Wt,decode_range:en,format_cell:Si,sheet_add_aoa:fS,sheet_add_json:hA,sheet_add_dom:sA,aoa_to_sheet:Ko,json_to_sheet:oV,table_to_sheet:aA,table_to_book:V9,sheet_to_csv:Zg,sheet_to_txt:cA,sheet_to_json:Ef,sheet_to_html:iA,sheet_to_formulae:aV,sheet_to_row_object_array:Ef,sheet_get_cell:Pu,book_new:uV,book_append_sheet:cV,book_set_sheet_visibility:hV,cell_set_number_format:fV,cell_set_hyperlink:fA,cell_set_internal_link:dV,cell_add_comment:pV,sheet_set_array_formula:mV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const gV=()=>{const[t,e]=J.useState({totalServices:0,totalRevenue:0,totalCost:0,totalProfit:0,serviceBreakdown:{}}),[r,n]=J.useState(!0),[i,s]=J.useState("month"),[a,o]=J.useState([]),l=async()=>{try{n(!0);let h=0;const f=new Date;i==="month"?h=new Date(f.getFullYear(),f.getMonth(),1).getTime():i==="year"&&(h=new Date(f.getFullYear(),0,1).getTime());const d=[{name:Fe.FLIGHT_BOOKING,displayName:"Flight Bookings"},{name:Fe.HOTEL_RESERVATION,displayName:"Hotel Reservations"},{name:Fe.CAR_RENTAL,displayName:"Car Rentals"},{name:Fe.VISA,displayName:"Visa Services"},{name:Fe.FOREIGN_EXCHANGE,displayName:"Foreign Exchange"},{name:Fe.TOUR_PACKAGE,displayName:"Tour Packages"},{name:Fe.TRAIN_BOOKING,displayName:"Train Bookings"},{name:Fe.VAJABHAT,displayName:"Vajabhat"}],m={totalServices:0,totalRevenue:0,totalCost:0,totalProfit:0,serviceBreakdown:{}},_=[];for(const v of d){let g;i==="all"?g=Kn(On(Zr,v.name),qn("createdAt","desc")):g=Kn(On(Zr,v.name),JD("createdAt",">=",h),qn("createdAt","desc"));const w=await Ci(g);let x=0,E=0,M=0;w.forEach(q=>{const T=q.data();x++,E+=T.customerQuote||0,M+=T.supplierCost||0,_.push({id:q.id,serviceType:v.displayName,...T})});const z=E-M;m.serviceBreakdown[v.displayName]={count:x,revenue:E,cost:M,profit:z},m.totalServices+=x,m.totalRevenue+=E,m.totalCost+=M}m.totalProfit=m.totalRevenue-m.totalCost,e(m),o(_)}catch(h){console.error("Error fetching summary data:",h)}finally{n(!1)}};J.useEffect(()=>{l()},[i]);const c=()=>{const h=a.map(_=>{const v=O2(_.customerQuote||0,_.supplierCost||0),g=new Date(_.createdAt).toLocaleDateString();return{"Service Type":_.serviceType,"Created On":g,"Customer Quote (₹)":_.customerQuote||0,"Supplier Cost (₹)":_.supplierCost||0,"Profit (₹)":v,..._}}),f=gd.json_to_sheet(h),d=gd.book_new();gd.book_append_sheet(d,f,"QT Holidays Data");const m=`QT_Holidays_Data_${new Date().toISOString().split("T")[0]}.xlsx`;nV(d,m)};return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Summary"}),k.jsxs("div",{className:"flex items-center space-x-4",children:[k.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[k.jsx("button",{type:"button",onClick:()=>s("month"),className:`relative inline-flex items-center px-4 py-2 rounded-l-md border ${i==="month"?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"This Month"}),k.jsx("button",{type:"button",onClick:()=>s("year"),className:`relative inline-flex items-center px-4 py-2 border-t border-b ${i==="year"?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"This Year"}),k.jsx("button",{type:"button",onClick:()=>s("all"),className:`relative inline-flex items-center px-4 py-2 rounded-r-md border ${i==="all"?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"All Time"})]}),k.jsxs("button",{onClick:c,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2",children:[k.jsx(mF,{size:20,className:"mr-2"}),"Download Data"]})]})]}),r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading summary data..."})]}):k.jsxs(k.Fragment,{children:[k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsx("div",{className:"flex items-center justify-between",children:k.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Services"})}),k.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:t.totalServices})]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),k.jsx(cy,{className:"h-5 w-5 text-green-500"})]}),k.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:pt(t.totalRevenue)})]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Expenses"}),k.jsx(uy,{className:"h-5 w-5 text-red-500"})]}),k.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:pt(t.totalCost)})]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("h2",{className:"text-sm font-medium text-gray-500",children:"Total Profit"}),t.totalProfit>=0?k.jsx(cy,{className:"h-5 w-5 text-green-500"}):k.jsx(uy,{className:"h-5 w-5 text-red-500"})]}),k.jsx("p",{className:`mt-2 text-3xl font-bold ${t.totalProfit>=0?"text-green-600":"text-red-600"}`,children:pt(t.totalProfit)})]})]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[k.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:k.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Service Breakdown"})}),k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[k.jsx("thead",{className:"bg-gray-50",children:k.jsxs("tr",{children:[k.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),k.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Count"}),k.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"}),k.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),k.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profit"})]})}),k.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(t.serviceBreakdown).map(([h,f])=>k.jsxs("tr",{children:[k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:h}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.count}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:pt(f.revenue)}),k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:pt(f.cost)}),k.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${f.profit>=0?"text-green-600":"text-red-600"}`,children:pt(f.profit)})]},h))})]})})]})]})]})]})};function Os({title:t,fields:e,initialData:r,onSubmit:n,isEdit:i=!1,onCancel:s}){const[a,o]=J.useState({}),[l,c]=J.useState(!1),[h,f]=J.useState("");Mu(),J.useEffect(()=>{if(r)o(r);else{const _={};e.forEach(v=>{v.type==="number"?_[v.name]=0:(v.type,_[v.name]="")}),o(_)}},[r,e]);const d=_=>{const{name:v,value:g,type:w}=_.target;o(x=>({...x,[v]:w==="number"?parseFloat(g)||0:g}))},m=async _=>{_.preventDefault(),c(!0),f("");try{await n(a)}catch(v){f(v.message||"An error occurred"),console.error(v)}finally{c(!1)}};return k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-6",children:i?`Edit ${t}`:`New ${t}`}),h&&k.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:h}),k.jsxs("form",{onSubmit:m,children:[k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(_=>{var v;return k.jsxs("div",{className:"mb-4",children:[k.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[_.label,_.required&&k.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),_.type==="select"?k.jsxs("select",{name:_.name,value:a[_.name]||"",onChange:d,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:_.required,children:[k.jsxs("option",{value:"",children:["Select ",_.label]}),(v=_.options)==null?void 0:v.map(g=>k.jsx("option",{value:g.value,children:g.label},g.value))]}):k.jsx("input",{type:_.type,name:_.name,value:a[_.name]||(_.type==="number"?0:""),onChange:d,placeholder:_.placeholder,className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:_.required,min:_.type==="number"?0:void 0})]},_.name)})}),k.jsxs("div",{className:"mt-8 flex justify-end space-x-4",children:[k.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",disabled:l,children:"Cancel"}),k.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",disabled:l,children:l?"Saving...":i?"Update":"Save"})]})]})]})}function Ds({data:t,columns:e,onEdit:r,onDelete:n,emptyMessage:i="No records found"}){const[s,a]=J.useState(null),o=h=>{a(h)},l=h=>{n(h),a(null)},c=()=>{a(null)};return k.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:k.jsx("div",{className:"overflow-x-auto",children:k.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[k.jsx("thead",{className:"bg-gray-50",children:k.jsx("tr",{children:e.map(h=>k.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:h.header},h.header))})}),k.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length===0?k.jsx("tr",{children:k.jsx("td",{colSpan:e.length,className:"px-6 py-4 whitespace-nowrap text-center text-gray-500",children:i})}):t.map(h=>k.jsx("tr",{className:"hover:bg-gray-50",children:e.map(f=>f.key==="actions"?k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:k.jsxs("div",{className:"flex space-x-2 justify-end",children:[k.jsx("button",{onClick:()=>r(h),className:"text-blue-600 hover:text-blue-900",children:k.jsx(_F,{size:18})}),s===h.id?k.jsxs("div",{className:"flex items-center space-x-2",children:[k.jsx("button",{onClick:()=>l(h.id),className:"text-red-600 hover:text-red-900",children:"Confirm"}),k.jsx("button",{onClick:c,className:"text-gray-600 hover:text-gray-900",children:"Cancel"})]}):k.jsx("button",{onClick:()=>o(h.id),className:"text-red-600 hover:text-red-900",children:k.jsx(wF,{size:18})})]})},`${h.id}-${String(f.key)}`):f.key==="profit"?k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:pt(O2(h.customerQuote,h.supplierCost))},`${h.id}-profit`):f.render?k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.render(h)},`${h.id}-${String(f.key)}`):k.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:String(h[f.key])},`${h.id}-${String(f.key)}`))},h.id))})]})})})}const vV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.FLIGHT_BOOKING),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching flight bookings:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.FLIGHT_BOOKING,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.FLIGHT_BOOKING,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.FLIGHT_BOOKING,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"from",label:"From",type:"text",required:!0},{name:"to",label:"To",type:"text",required:!0},{name:"flightDate",label:"Flight Date",type:"date",required:!0},{name:"sector",label:"Booking Sector",type:"text",placeholder:"e.g., Indigo, MMT"},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0},{name:"tourManagerCost",label:"Tour Manager Cost (₹)",type:"number"},{name:"carCost",label:"Car Cost (₹)",type:"number"}],v=[{key:"from",header:"From"},{key:"to",header:"To"},{key:"flightDate",header:"Flight Date"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Flight Bookings"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Booking"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Flight Booking",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading flight bookings..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No flight bookings found. Add your first booking!"})]})]})},_V=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.HOTEL_RESERVATION),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching hotel reservations:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.HOTEL_RESERVATION,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.HOTEL_RESERVATION,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.HOTEL_RESERVATION,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"hotelName",label:"Hotel Name / Country",type:"text",required:!0},{name:"checkInDate",label:"Check-in Date",type:"date",required:!0},{name:"checkOutDate",label:"Check-out Date",type:"date",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"hotelName",header:"Hotel Name / Country"},{key:"checkInDate",header:"Check-in Date"},{key:"checkOutDate",header:"Check-out Date"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Hotel Reservations"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Reservation"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Hotel Reservation",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading hotel reservations..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No hotel reservations found. Add your first reservation!"})]})]})},yV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.CAR_RENTAL),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching car rentals:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.CAR_RENTAL,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.CAR_RENTAL,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.CAR_RENTAL,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"destination",label:"Destination",type:"text",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"seaters",label:"Number of Seats",type:"number",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"destination",header:"Destination"},{key:"date",header:"Date"},{key:"seaters",header:"Seats"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Car Rentals"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Car Rental"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Car Rental",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading car rentals..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No car rentals found. Add your first rental!"})]})]})},xV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.VISA),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching visas:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.VISA,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.VISA,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.VISA,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"country",label:"Country",type:"text",required:!0},{name:"applicationDate",label:"Application Date",type:"date",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"country",header:"Country"},{key:"applicationDate",header:"Application Date"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Visa Services"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Visa"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Visa",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading visa services..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No visa services found. Add your first visa service!"})]})]})},EV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.FOREIGN_EXCHANGE),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching foreign exchanges:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.FOREIGN_EXCHANGE,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.FOREIGN_EXCHANGE,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.FOREIGN_EXCHANGE,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"currency",label:"Currency",type:"text",required:!0},{name:"rate",label:"Exchange Rate",type:"number",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"currency",header:"Currency"},{key:"rate",header:"Rate"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Foreign Exchange"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Exchange"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Foreign Exchange",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading foreign exchanges..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No foreign exchanges found. Add your first exchange!"})]})]})},wV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.TOUR_PACKAGE),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching tour packages:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.TOUR_PACKAGE,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.TOUR_PACKAGE,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.TOUR_PACKAGE,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"destination",label:"Destination",type:"text",required:!0},{name:"startDate",label:"Start Date",type:"date",required:!0},{name:"endDate",label:"End Date",type:"date",required:!0},{name:"flightCost",label:"Flight Cost (₹)",type:"number"},{name:"carCost",label:"Car Cost (₹)",type:"number"},{name:"tourManagerCost",label:"Tour Manager Cost (₹)",type:"number"},{name:"totalCost",label:"Total Cost Paid (₹)",type:"number",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"destination",header:"Destination"},{key:"dates",header:"Dates",render:g=>`${g.startDate} - ${g.endDate}`},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"totalCost",header:"Total Cost",render:g=>pt(g.totalCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Tour Packages"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Package"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Tour Package",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading tour packages..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No tour packages found. Add your first package!"})]})]})},TV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.TRAIN_BOOKING),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching train bookings:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.TRAIN_BOOKING,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.TRAIN_BOOKING,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.TRAIN_BOOKING,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"from",label:"From",type:"text",required:!0},{name:"to",label:"To",type:"text",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"from",header:"From"},{key:"to",header:"To"},{key:"date",header:"Date"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Train Bookings"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Booking"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Train Booking",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading train bookings..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No train bookings found. Add your first booking!"})]})]})},SV=()=>{const[t,e]=J.useState([]),[r,n]=J.useState(!0),[i,s]=J.useState(!1),[a,o]=J.useState(null),l=async()=>{try{n(!0);const g=Kn(On(Zr,Fe.VAJABHAT),qn("createdAt","desc")),w=await Ci(g),x=[];w.forEach(E=>{x.push({id:E.id,...E.data()})}),e(x)}catch(g){console.error("Error fetching vajabhats:",g)}finally{n(!1)}};J.useEffect(()=>{l()},[]);const c=async g=>{await Rs(Fe.VAJABHAT,g),s(!1),l()},h=async g=>{a!=null&&a.id&&(await ks(Fe.VAJABHAT,a.id,g),o(null),s(!1),l())},f=async g=>{await Ps(Fe.VAJABHAT,g),l()},d=g=>{o(g),s(!0)},m=()=>{s(!1),o(null)},_=[{name:"amount",label:"Amount Paid (₹)",type:"number",required:!0},{name:"date",label:"Date",type:"date",required:!0},{name:"customerQuote",label:"Customer Quote (₹)",type:"number",required:!0},{name:"supplierCost",label:"Supplier Cost (₹)",type:"number",required:!0}],v=[{key:"amount",header:"Amount",render:g=>pt(g.amount)},{key:"date",header:"Date"},{key:"customerQuote",header:"Customer Quote",render:g=>pt(g.customerQuote)},{key:"supplierCost",header:"Supplier Cost",render:g=>pt(g.supplierCost)},{key:"profit",header:"Profit"},{key:"actions",header:"Actions"}];return k.jsxs("div",{className:"min-h-screen bg-gray-50",children:[k.jsx(Qn,{}),k.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[k.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[k.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vajabhat"}),!i&&k.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[k.jsx(Cs,{size:20,className:"mr-2"}),"Add New Vajabhat"]})]}),i?k.jsx("div",{className:"mb-8",children:k.jsx(Os,{title:"Vajabhat",fields:_,initialData:a||void 0,onSubmit:a?h:c,isEdit:!!a,onCancel:m})}):null,r?k.jsxs("div",{className:"text-center py-12",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),k.jsx("p",{className:"mt-4 text-gray-600",children:"Loading vajabhats..."})]}):k.jsx(Ds,{data:t,columns:v,onEdit:d,onDelete:f,emptyMessage:"No vajabhats found. Add your first vajabhat!"})]})]})},Ln=({children:t})=>{const{currentUser:e}=Ng();return e?k.jsx(k.Fragment,{children:t}):k.jsx(Ew,{to:"/login",replace:!0})};function AV(){return k.jsx(t4,{basename:"/qt-holidays-app",children:k.jsx(uF,{children:k.jsx("div",{className:"min-h-screen bg-gray-50",children:k.jsxs(qR,{children:[k.jsx(zr,{path:"/login",element:k.jsx(SF,{})}),k.jsx(zr,{path:"/",element:k.jsx(Ln,{children:k.jsx(IF,{})})}),k.jsx(zr,{path:"/summary",element:k.jsx(Ln,{children:k.jsx(gV,{})})}),k.jsx(zr,{path:"/flight-booking",element:k.jsx(Ln,{children:k.jsx(vV,{})})}),k.jsx(zr,{path:"/hotel-reservation",element:k.jsx(Ln,{children:k.jsx(_V,{})})}),k.jsx(zr,{path:"/car-rental",element:k.jsx(Ln,{children:k.jsx(yV,{})})}),k.jsx(zr,{path:"/visa",element:k.jsx(Ln,{children:k.jsx(xV,{})})}),k.jsx(zr,{path:"/foreign-exchange",element:k.jsx(Ln,{children:k.jsx(EV,{})})}),k.jsx(zr,{path:"/tour-packages",element:k.jsx(Ln,{children:k.jsx(wV,{})})}),k.jsx(zr,{path:"/train-booking",element:k.jsx(Ln,{children:k.jsx(TV,{})})}),k.jsx(zr,{path:"/vajabhat",element:k.jsx(Ln,{children:k.jsx(SV,{})})}),k.jsx(zr,{path:"*",element:k.jsx(Ew,{to:"/",replace:!0})})]})})})})}hw(document.getElementById("root")).render(k.jsx(J.StrictMode,{children:k.jsx(AV,{})}));
